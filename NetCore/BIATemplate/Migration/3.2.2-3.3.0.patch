diff --git a/Angular-BIADemo-BIATemplate.ps1 b/Angular-BIADemo-BIATemplate.ps1
index 4b23165..4960c8b 100644
--- a/Angular-BIADemo-BIATemplate.ps1
+++ b/Angular-BIADemo-BIATemplate.ps1
@@ -11,9 +11,10 @@ function DeleteLine($start, $end, $file) {
   $end--
   Write-Host "start " $start "end " $end "file " $file
   (Get-Content $file) | Where-Object {
-    ($i -lt $start -or $i -gt $end)
+	(($i -ne $start -1 -or $_.Trim() -ne '') -and 
+    ($i -lt $start -or $i -gt $end))
     $i++
-  } | set-content $file -Encoding utf8
+  } | set-content $file 
 }
 
 # Deletes lines between // Begin BIADemo and // End BIADemo 
@@ -22,11 +23,11 @@ function RemoveCodeExample {
     $lineBegin = @()
     $file = $_.FullName
   
-    $searchWord = '// Begin BIADemo'
+    $searchWord = 'Begin BIADemo'
     $starts = GetLineNumber -pattern $searchWord -file $file
     $lineBegin += $starts
   
-    $searchWord = '// End BIADemo'
+    $searchWord = 'End BIADemo'
     $ends = GetLineNumber -pattern $searchWord -file $file
     $lineBegin += $ends
   
@@ -41,6 +42,36 @@ function RemoveCodeExample {
   }
 }
 
+function RemoveBIADemoOnlyFiles {
+	foreach ($childFile in Get-ChildItem -File -Recurse | Where-Object { Select-String "// BIADemo only" $_ -Quiet } ) { 
+		$file = $childFile.FullName
+		$fileRel = Resolve-Path -Path "$file" -Relative
+		$searchWord = '// BIADemo only'
+		$starts = GetLineNumber -pattern $searchWord -file $file
+		if ($starts -eq 1)
+		{
+			Write-Verbose "Remove $fileRel" -Verbose
+			Remove-Item -Force -LiteralPath $file
+		}
+	}
+}
+
+function RemoveEmptyFolder {
+    param(
+        $Path
+    )
+    foreach ($childDirectory in Get-ChildItem -Force -Path $Path -Directory -Exclude PublishProfiles,RepoContract) {
+        RemoveEmptyFolder $childDirectory.FullName
+    }
+    $currentChildren = Get-ChildItem -Force -LiteralPath $Path
+    $isEmpty = $currentChildren -eq $null
+    if ($isEmpty) {
+	 	$fileRel = Resolve-Path -Path "$Path" -Relative
+        Write-Verbose "Removing empty folder '${fileRel}'." -Verbose
+        Remove-Item -Force -LiteralPath $Path
+    }
+}
+
 function RemoveFolder {
   param (
     [string]$path
@@ -97,9 +128,17 @@ Copy-Item -Path (Get-Item -Path "$oldPath\*" -Exclude ('dist', 'node_modules')).
 Set-Location -Path ./Angular
 
 Write-Host "Zip plane popup"
-compress-archive -path '.\src\app\features\planes\*' -destinationpath '.\docs\planes-popup.zip' -compressionlevel optimal
+compress-archive -path '.\src\app\features\planes\*' -destinationpath '.\docs\feature-planes-popup.zip' -compressionlevel optimal
 Write-Host "Zip plane page"
-compress-archive -path '.\src\app\features\planes-page\*' -destinationpath '.\docs\planes-page.zip' -compressionlevel optimal
+compress-archive -path '.\src\app\features\planes-page\*' -destinationpath '.\docs\feature-planes-page.zip' -compressionlevel optimal
+Write-Host "Zip plane SignalR"
+compress-archive -path '.\src\app\features\planes-SignalR\*' -destinationpath '.\docs\feature-planes-SignalR.zip' -compressionlevel optimal
+Write-Host "Zip plane view"
+compress-archive -path '.\src\app\features\planes-view\*' -destinationpath '.\docs\feature-planes-view.zip' -compressionlevel optimal
+Write-Host "Zip airport"
+compress-archive -path '.\src\app\features\airports\*' -destinationpath '.\docs\feature-airports.zip' -compressionlevel optimal
+Write-Host "Zip airport"
+compress-archive -path '.\src\app\domains\airport-option\*' -destinationpath '.\docs\domain-airport-option.zip' -compressionlevel optimal
 
 Write-Host "RemoveFolder dist"
 RemoveFolder -path 'dist'
@@ -111,13 +150,29 @@ Write-Host "RemoveFolder src\app\features\planes-page"
 RemoveFolder -path 'src\app\features\planes-page'
 Write-Host "RemoveFolder src\app\features\planes-view"
 RemoveFolder -path 'src\app\features\planes-view'
+Write-Host "RemoveFolder src\app\features\planes-types"
+RemoveFolder -path 'src\app\features\planes-types'
+Write-Host "RemoveFolder src\app\features\planes-signalR"
+RemoveFolder -path 'src\app\features\planes-signalR'
+Write-Host "RemoveFolder src\app\features\airports"
+RemoveFolder -path 'src\app\features\airports'
+Write-Host "RemoveFolder src\app\domains\airport-option"
+RemoveFolder -path 'src\app\domains\airport-option'
+Write-Host "RemoveFolder src\app\domains\plane-type-option"
+RemoveFolder -path 'src\app\domains\plane-type-option'
 
 Write-Host "RemoveFolder src\assets\bia\primeng\sass"
 RemoveFolder -path 'src\assets\bia\primeng\sass'
 RemoveByExtension -path 'src\assets\bia\primeng\layout\css' -extension '*.scss'
 RemoveByExtension -path 'src\assets\bia\primeng\theme' -extension '*.scss'
 
-Write-Host "Remove code example"
+Write-Host "Remove BIA demo only files"
+RemoveBIADemoOnlyFiles
+
+Write-Host "Remove Empty Folder"
+RemoveEmptyFolder "."
+
+Write-Host "Remove code example partial files"
 RemoveCodeExample
 
 Write-Host "replace project name"
diff --git a/Angular/CHANGELOG.md b/Angular/CHANGELOG.md
index 0d43f3b..0773846 100644
--- a/Angular/CHANGELOG.md
+++ b/Angular/CHANGELOG.md
@@ -1,10 +1,15 @@
+### [3.3.0] (2021-01-15)
+*  Date bug fix
+*  Matomo integration
+*  Crud generation support complexe name (like plane-type)
+*  Add choice of the site for Admin
 ### [3.2.2] (2020-11-24)
 *  Color by env.
 ### [3.2.0] (2020-06-26)
 *  angular 9.1.12
 ### [3.1.1] (2020-06-26)
-* Bug Fix
+*  Bug Fix
 ### [3.1.0] (2020-05-04)
-* views
+*  views
 ### [3.0.0] (2020-07-02)
-* angular 8.2.14
+*  angular 8.2.14
diff --git a/Angular/docs/domain-airport-option.zip b/Angular/docs/domain-airport-option.zip
new file mode 100644
index 0000000..4cca268
Binary files /dev/null and b/Angular/docs/domain-airport-option.zip differ
diff --git a/Angular/docs/feature-airports.zip b/Angular/docs/feature-airports.zip
new file mode 100644
index 0000000..cf0dbbe
Binary files /dev/null and b/Angular/docs/feature-airports.zip differ
diff --git a/Angular/docs/feature-planes-SignalR.zip b/Angular/docs/feature-planes-SignalR.zip
new file mode 100644
index 0000000..f5fd452
Binary files /dev/null and b/Angular/docs/feature-planes-SignalR.zip differ
diff --git a/Angular/docs/feature-planes-page.zip b/Angular/docs/feature-planes-page.zip
new file mode 100644
index 0000000..e349ebc
Binary files /dev/null and b/Angular/docs/feature-planes-page.zip differ
diff --git a/Angular/docs/feature-planes-popup.zip b/Angular/docs/feature-planes-popup.zip
new file mode 100644
index 0000000..0e2db7b
Binary files /dev/null and b/Angular/docs/feature-planes-popup.zip differ
diff --git a/Angular/docs/feature-planes-view.zip b/Angular/docs/feature-planes-view.zip
new file mode 100644
index 0000000..6c3fccf
Binary files /dev/null and b/Angular/docs/feature-planes-view.zip differ
diff --git a/Angular/docs/planes-page.zip b/Angular/docs/planes-page.zip
deleted file mode 100644
index 9c6092a..0000000
Binary files a/Angular/docs/planes-page.zip and /dev/null differ
diff --git a/Angular/docs/planes-popup.zip b/Angular/docs/planes-popup.zip
deleted file mode 100644
index 766aa8c..0000000
Binary files a/Angular/docs/planes-popup.zip and /dev/null differ
diff --git a/Angular/package-lock.json b/Angular/package-lock.json
index 7370149..ecc1e49 100644
--- a/Angular/package-lock.json
+++ b/Angular/package-lock.json
@@ -509,6 +509,16 @@
       "resolved": "https://registry.npmjs.org/@angular/router/-/router-9.1.12.tgz",
       "integrity": "sha512-+qCaXa9y0nsRhzjAYBqmGoQ2YkrdXgftZwuFDf6t4qEi30EXa0oS97KrlFq0M5GKdLIDGrbUm9PcdHSTOI+ZhA=="
     },
+    "@aspnet/signalr": {
+      "version": "1.1.4",
+      "resolved": "https://registry.npmjs.org/@aspnet/signalr/-/signalr-1.1.4.tgz",
+      "integrity": "sha512-Jp9nPc8hmmhbG9OKiHe2fOKskBHfg+3Y9foSKHxjgGtyI743hXjGFv3uFlUg503K9f8Ilu63gQt3fDkLICBRyg==",
+      "requires": {
+        "eventsource": "^1.0.7",
+        "request": "^2.88.0",
+        "ws": "^6.0.0"
+      }
+    },
     "@babel/code-frame": {
       "version": "7.10.4",
       "resolved": "https://registry.npmjs.org/@babel/code-frame/-/code-frame-7.10.4.tgz",
@@ -1851,9 +1861,9 @@
       "dev": true
     },
     "@types/node": {
-      "version": "8.9.5",
-      "resolved": "https://registry.npmjs.org/@types/node/-/node-8.9.5.tgz",
-      "integrity": "sha512-jRHfWsvyMtXdbhnz5CVHxaBgnV6duZnPlQuRSo/dm/GnmikNcmZhxIES4E9OZjUmQ8C+HCl4KJux+cXN/ErGDQ==",
+      "version": "8.10.66",
+      "resolved": "https://registry.npmjs.org/@types/node/-/node-8.10.66.tgz",
+      "integrity": "sha512-tktOkFUA4kXx2hhhrB8bIFb5TbwzS4uOhKEmwiD+NoiL0qtP2OQ9mFldbgD4dV1djrlBYP6eBuQZiWjuHUpqFw==",
       "dev": true
     },
     "@types/q": {
@@ -2139,7 +2149,6 @@
       "version": "6.12.3",
       "resolved": "https://registry.npmjs.org/ajv/-/ajv-6.12.3.tgz",
       "integrity": "sha512-4K0cK3L1hsqk9xIb2z9vs/XU+PGJZ9PNpJRDS9YLzmNdX6jmVPfamLvTJr0aDAusnHyCHO6MjzlkAsgtqp9teA==",
-      "dev": true,
       "requires": {
         "fast-deep-equal": "^3.1.1",
         "fast-json-stable-stringify": "^2.0.0",
@@ -2298,7 +2307,6 @@
       "version": "0.2.4",
       "resolved": "https://registry.npmjs.org/asn1/-/asn1-0.2.4.tgz",
       "integrity": "sha512-jxwzQpLQjSmWXgwaCZE9Nz+glAG01yF1QnWgbhGwHI5A6FRIEY6IVqtHhIepHqI7/kyEyQEagBC5mBEFlIYvdg==",
-      "dev": true,
       "requires": {
         "safer-buffer": "~2.1.0"
       }
@@ -2353,8 +2361,7 @@
     "assert-plus": {
       "version": "1.0.0",
       "resolved": "https://registry.npmjs.org/assert-plus/-/assert-plus-1.0.0.tgz",
-      "integrity": "sha1-8S4PPF13sLHN2RRpQuTpbB5N1SU=",
-      "dev": true
+      "integrity": "sha1-8S4PPF13sLHN2RRpQuTpbB5N1SU="
     },
     "assign-symbols": {
       "version": "1.0.0",
@@ -2385,14 +2392,12 @@
     "async-limiter": {
       "version": "1.0.1",
       "resolved": "https://registry.npmjs.org/async-limiter/-/async-limiter-1.0.1.tgz",
-      "integrity": "sha512-csOlWGAcRFJaI6m+F2WKdnMKr4HhdhFVBk0H/QbJFMCr+uO2kwohwXQPxw/9OCxp05r5ghVBFSyioixx3gfkNQ==",
-      "dev": true
+      "integrity": "sha512-csOlWGAcRFJaI6m+F2WKdnMKr4HhdhFVBk0H/QbJFMCr+uO2kwohwXQPxw/9OCxp05r5ghVBFSyioixx3gfkNQ=="
     },
     "asynckit": {
       "version": "0.4.0",
       "resolved": "https://registry.npmjs.org/asynckit/-/asynckit-0.4.0.tgz",
-      "integrity": "sha1-x57Zf380y48robyXkLzDZkdLS3k=",
-      "dev": true
+      "integrity": "sha1-x57Zf380y48robyXkLzDZkdLS3k="
     },
     "atob": {
       "version": "2.1.2",
@@ -2418,14 +2423,12 @@
     "aws-sign2": {
       "version": "0.7.0",
       "resolved": "https://registry.npmjs.org/aws-sign2/-/aws-sign2-0.7.0.tgz",
-      "integrity": "sha1-tG6JCTSpWR8tL2+G1+ap8bP+dqg=",
-      "dev": true
+      "integrity": "sha1-tG6JCTSpWR8tL2+G1+ap8bP+dqg="
     },
     "aws4": {
       "version": "1.10.1",
       "resolved": "https://registry.npmjs.org/aws4/-/aws4-1.10.1.tgz",
-      "integrity": "sha512-zg7Hz2k5lI8kb7U32998pRRFin7zJlkfezGJjUc2heaD4Pw2wObakCDVzkKztTm/Ln7eiVvYsjqak0Ed4LkMDA==",
-      "dev": true
+      "integrity": "sha512-zg7Hz2k5lI8kb7U32998pRRFin7zJlkfezGJjUc2heaD4Pw2wObakCDVzkKztTm/Ln7eiVvYsjqak0Ed4LkMDA=="
     },
     "axobject-query": {
       "version": "2.0.2",
@@ -2566,7 +2569,6 @@
       "version": "1.0.2",
       "resolved": "https://registry.npmjs.org/bcrypt-pbkdf/-/bcrypt-pbkdf-1.0.2.tgz",
       "integrity": "sha1-pDAdOJtqQ/m2f/PKEaP2Y342Dp4=",
-      "dev": true,
       "requires": {
         "tweetnacl": "^0.14.3"
       }
@@ -2982,8 +2984,7 @@
     "caseless": {
       "version": "0.12.0",
       "resolved": "https://registry.npmjs.org/caseless/-/caseless-0.12.0.tgz",
-      "integrity": "sha1-G2gcIf+EAzyCZUMJBolCDRhxUdw=",
-      "dev": true
+      "integrity": "sha1-G2gcIf+EAzyCZUMJBolCDRhxUdw="
     },
     "chalk": {
       "version": "2.4.2",
@@ -3266,7 +3267,6 @@
       "version": "1.0.8",
       "resolved": "https://registry.npmjs.org/combined-stream/-/combined-stream-1.0.8.tgz",
       "integrity": "sha512-FQN4MRfuJeHf7cBbBMJFXhKSDq+2kAArBlmRBvcvFE5BB1HZKXtSFASDhdlz9zOYwxh8lDdnvmMOe/+5cdoEdg==",
-      "dev": true,
       "requires": {
         "delayed-stream": "~1.0.0"
       }
@@ -3558,8 +3558,7 @@
     "core-util-is": {
       "version": "1.0.2",
       "resolved": "https://registry.npmjs.org/core-util-is/-/core-util-is-1.0.2.tgz",
-      "integrity": "sha1-tf1UIgqivFq1eqtxQMlAdUUDwac=",
-      "dev": true
+      "integrity": "sha1-tf1UIgqivFq1eqtxQMlAdUUDwac="
     },
     "cosmiconfig": {
       "version": "5.2.1",
@@ -3947,7 +3946,6 @@
       "version": "1.14.1",
       "resolved": "https://registry.npmjs.org/dashdash/-/dashdash-1.14.1.tgz",
       "integrity": "sha1-hTz6D3y+L+1d4gMmuN1YEDX24vA=",
-      "dev": true,
       "requires": {
         "assert-plus": "^1.0.0"
       }
@@ -4138,8 +4136,7 @@
     "delayed-stream": {
       "version": "1.0.0",
       "resolved": "https://registry.npmjs.org/delayed-stream/-/delayed-stream-1.0.0.tgz",
-      "integrity": "sha1-3zrhmayt+31ECqrgsp4icrJOxhk=",
-      "dev": true
+      "integrity": "sha1-3zrhmayt+31ECqrgsp4icrJOxhk="
     },
     "depd": {
       "version": "1.1.2",
@@ -4309,7 +4306,6 @@
       "version": "0.1.2",
       "resolved": "https://registry.npmjs.org/ecc-jsbn/-/ecc-jsbn-0.1.2.tgz",
       "integrity": "sha1-OoOpBOVDUyh4dMVkt1SThoSamMk=",
-      "dev": true,
       "requires": {
         "jsbn": "~0.1.0",
         "safer-buffer": "^2.1.0"
@@ -4571,7 +4567,6 @@
       "version": "1.0.7",
       "resolved": "https://registry.npmjs.org/eventsource/-/eventsource-1.0.7.tgz",
       "integrity": "sha512-4Ln17+vVT0k8aWq+t/bF5arcS3EpT9gYtW66EPacdj/mAFevznsnyoHLPy2BA8gbIQeIHoPsvwmfBftfcG//BQ==",
-      "dev": true,
       "requires": {
         "original": "^1.0.0"
       }
@@ -4823,14 +4818,12 @@
     "extsprintf": {
       "version": "1.3.0",
       "resolved": "https://registry.npmjs.org/extsprintf/-/extsprintf-1.3.0.tgz",
-      "integrity": "sha1-lpGEQOMEGnpBT4xS48V06zw+HgU=",
-      "dev": true
+      "integrity": "sha1-lpGEQOMEGnpBT4xS48V06zw+HgU="
     },
     "fast-deep-equal": {
       "version": "3.1.3",
       "resolved": "https://registry.npmjs.org/fast-deep-equal/-/fast-deep-equal-3.1.3.tgz",
-      "integrity": "sha512-f3qQ9oQy9j2AhBe/H9VC91wLmKBCCU/gDOnKNAYG5hswO7BLKj09Hc5HYNz9cGI++xlpDCIgDaitVs03ATR84Q==",
-      "dev": true
+      "integrity": "sha512-f3qQ9oQy9j2AhBe/H9VC91wLmKBCCU/gDOnKNAYG5hswO7BLKj09Hc5HYNz9cGI++xlpDCIgDaitVs03ATR84Q=="
     },
     "fast-diff": {
       "version": "1.1.2",
@@ -4854,8 +4847,7 @@
     "fast-json-stable-stringify": {
       "version": "2.1.0",
       "resolved": "https://registry.npmjs.org/fast-json-stable-stringify/-/fast-json-stable-stringify-2.1.0.tgz",
-      "integrity": "sha512-lhd/wF+Lk98HZoTCtlVraHtfh5XYijIjalXck7saUtuanSDyLMxnHhSXEDJqHxD7msR8D0uCmqlkwjCV8xvwHw==",
-      "dev": true
+      "integrity": "sha512-lhd/wF+Lk98HZoTCtlVraHtfh5XYijIjalXck7saUtuanSDyLMxnHhSXEDJqHxD7msR8D0uCmqlkwjCV8xvwHw=="
     },
     "fastparse": {
       "version": "1.1.2",
@@ -5056,14 +5048,12 @@
     "forever-agent": {
       "version": "0.6.1",
       "resolved": "https://registry.npmjs.org/forever-agent/-/forever-agent-0.6.1.tgz",
-      "integrity": "sha1-+8cfDEGt6zf5bFd60e1C2P2sypE=",
-      "dev": true
+      "integrity": "sha1-+8cfDEGt6zf5bFd60e1C2P2sypE="
     },
     "form-data": {
       "version": "2.3.3",
       "resolved": "https://registry.npmjs.org/form-data/-/form-data-2.3.3.tgz",
       "integrity": "sha512-1lLKB2Mu3aGP1Q/2eCOx0fNbRMe7XdwktwOruhfqqd0rIJWwN4Dh+E3hrPSlDCXnSR7UtZ1N38rVXm+6+MEhJQ==",
-      "dev": true,
       "requires": {
         "asynckit": "^0.4.0",
         "combined-stream": "^1.0.6",
@@ -5188,7 +5178,6 @@
       "version": "0.1.7",
       "resolved": "https://registry.npmjs.org/getpass/-/getpass-0.1.7.tgz",
       "integrity": "sha1-Xv+OPmhNVprkyysSgmBOi6YhSfo=",
-      "dev": true,
       "requires": {
         "assert-plus": "^1.0.0"
       }
@@ -5256,14 +5245,12 @@
     "har-schema": {
       "version": "2.0.0",
       "resolved": "https://registry.npmjs.org/har-schema/-/har-schema-2.0.0.tgz",
-      "integrity": "sha1-qUwiJOvKwEeCoNkDVSHyRzW37JI=",
-      "dev": true
+      "integrity": "sha1-qUwiJOvKwEeCoNkDVSHyRzW37JI="
     },
     "har-validator": {
       "version": "5.1.5",
       "resolved": "https://registry.npmjs.org/har-validator/-/har-validator-5.1.5.tgz",
       "integrity": "sha512-nmT2T0lljbxdQZfspsno9hgrG3Uir6Ks5afism62poxqBM6sDnMEuPmzTq8XN0OEwqKLLdh1jQI3qyE66Nzb3w==",
-      "dev": true,
       "requires": {
         "ajv": "^6.12.3",
         "har-schema": "^2.0.0"
@@ -5646,7 +5633,6 @@
       "version": "1.2.0",
       "resolved": "https://registry.npmjs.org/http-signature/-/http-signature-1.2.0.tgz",
       "integrity": "sha1-muzZJRFHcvPZW2WmCruPfBj7rOE=",
-      "dev": true,
       "requires": {
         "assert-plus": "^1.0.0",
         "jsprim": "^1.2.2",
@@ -6231,8 +6217,7 @@
     "is-typedarray": {
       "version": "1.0.0",
       "resolved": "https://registry.npmjs.org/is-typedarray/-/is-typedarray-1.0.0.tgz",
-      "integrity": "sha1-5HnICFjfDBsR3dppQPlgEfzaSpo=",
-      "dev": true
+      "integrity": "sha1-5HnICFjfDBsR3dppQPlgEfzaSpo="
     },
     "is-windows": {
       "version": "1.0.2",
@@ -6270,8 +6255,7 @@
     "isstream": {
       "version": "0.1.2",
       "resolved": "https://registry.npmjs.org/isstream/-/isstream-0.1.2.tgz",
-      "integrity": "sha1-R+Y/evVa+m+S4VAOaQ64uFKcCZo=",
-      "dev": true
+      "integrity": "sha1-R+Y/evVa+m+S4VAOaQ64uFKcCZo="
     },
     "istanbul-lib-coverage": {
       "version": "3.0.0",
@@ -6345,8 +6329,7 @@
     "jsbn": {
       "version": "0.1.1",
       "resolved": "https://registry.npmjs.org/jsbn/-/jsbn-0.1.1.tgz",
-      "integrity": "sha1-peZUwuWi3rXyAdls77yoDA7y9RM=",
-      "dev": true
+      "integrity": "sha1-peZUwuWi3rXyAdls77yoDA7y9RM="
     },
     "jsesc": {
       "version": "2.5.2",
@@ -6369,20 +6352,17 @@
     "json-schema": {
       "version": "0.2.3",
       "resolved": "https://registry.npmjs.org/json-schema/-/json-schema-0.2.3.tgz",
-      "integrity": "sha1-tIDIkuWaLwWVTOcnvT8qTogvnhM=",
-      "dev": true
+      "integrity": "sha1-tIDIkuWaLwWVTOcnvT8qTogvnhM="
     },
     "json-schema-traverse": {
       "version": "0.4.1",
       "resolved": "https://registry.npmjs.org/json-schema-traverse/-/json-schema-traverse-0.4.1.tgz",
-      "integrity": "sha512-xbbCH5dCYU5T8LcEhhuh7HJ88HXuW3qsI3Y0zOZFKfZEHcpWiHU/Jxzk629Brsab/mMiHQti9wMP+845RPe3Vg==",
-      "dev": true
+      "integrity": "sha512-xbbCH5dCYU5T8LcEhhuh7HJ88HXuW3qsI3Y0zOZFKfZEHcpWiHU/Jxzk629Brsab/mMiHQti9wMP+845RPe3Vg=="
     },
     "json-stringify-safe": {
       "version": "5.0.1",
       "resolved": "https://registry.npmjs.org/json-stringify-safe/-/json-stringify-safe-5.0.1.tgz",
-      "integrity": "sha1-Epai1Y/UXxmg9s4B1lcB4sc1tus=",
-      "dev": true
+      "integrity": "sha1-Epai1Y/UXxmg9s4B1lcB4sc1tus="
     },
     "json3": {
       "version": "3.3.3",
@@ -6426,7 +6406,6 @@
       "version": "1.4.1",
       "resolved": "https://registry.npmjs.org/jsprim/-/jsprim-1.4.1.tgz",
       "integrity": "sha1-MT5mvB5cwG5Di8G3SZwuXFastqI=",
-      "dev": true,
       "requires": {
         "assert-plus": "1.0.0",
         "extsprintf": "1.3.0",
@@ -6873,14 +6852,12 @@
     "mime-db": {
       "version": "1.44.0",
       "resolved": "https://registry.npmjs.org/mime-db/-/mime-db-1.44.0.tgz",
-      "integrity": "sha512-/NOTfLrsPBVeH7YtFPgsVWveuL+4SjjYxaQ1xtM1KMFj7HdxlBlxeyNLzhyJVx7r4rZGJAZ/6lkKCitSc/Nmpg==",
-      "dev": true
+      "integrity": "sha512-/NOTfLrsPBVeH7YtFPgsVWveuL+4SjjYxaQ1xtM1KMFj7HdxlBlxeyNLzhyJVx7r4rZGJAZ/6lkKCitSc/Nmpg=="
     },
     "mime-types": {
       "version": "2.1.27",
       "resolved": "https://registry.npmjs.org/mime-types/-/mime-types-2.1.27.tgz",
       "integrity": "sha512-JIhqnCasI9yD+SsmkquHBxTSEuZdQX5BuQnS2Vc7puQQQ+8yiP5AY5uWhpdv4YL4VM5c6iliiYWPgJ/nJQLp7w==",
-      "dev": true,
       "requires": {
         "mime-db": "1.44.0"
       }
@@ -7444,8 +7421,7 @@
     "oauth-sign": {
       "version": "0.9.0",
       "resolved": "https://registry.npmjs.org/oauth-sign/-/oauth-sign-0.9.0.tgz",
-      "integrity": "sha512-fexhUFFPTGV8ybAtSIGbV6gOkSv8UtRbDBnAyLQw4QPKkgNlsH2ByPGtMUqdWkos6YCRmAqViwgZrJc/mRDzZQ==",
-      "dev": true
+      "integrity": "sha512-fexhUFFPTGV8ybAtSIGbV6gOkSv8UtRbDBnAyLQw4QPKkgNlsH2ByPGtMUqdWkos6YCRmAqViwgZrJc/mRDzZQ=="
     },
     "object-assign": {
       "version": "4.1.1",
@@ -7705,7 +7681,6 @@
       "version": "1.0.2",
       "resolved": "https://registry.npmjs.org/original/-/original-1.0.2.tgz",
       "integrity": "sha512-hyBVl6iqqUOJ8FqRe+l/gS8H+kKYjrEndd5Pm1MfBtsEKA038HkkdbAl/72EAXGyonD/PFsvmVG+EvcIpliMBg==",
-      "dev": true,
       "requires": {
         "url-parse": "^1.4.3"
       }
@@ -8100,8 +8075,7 @@
     "performance-now": {
       "version": "2.1.0",
       "resolved": "https://registry.npmjs.org/performance-now/-/performance-now-2.1.0.tgz",
-      "integrity": "sha1-Ywn04OX6kT7BxpMHrjZLSzd8nns=",
-      "dev": true
+      "integrity": "sha1-Ywn04OX6kT7BxpMHrjZLSzd8nns="
     },
     "picomatch": {
       "version": "2.2.2",
@@ -8925,8 +8899,7 @@
     "psl": {
       "version": "1.8.0",
       "resolved": "https://registry.npmjs.org/psl/-/psl-1.8.0.tgz",
-      "integrity": "sha512-RIdOzyoavK+hA18OGGWDqUTsCLhtA7IcZ/6NCs4fFJaHBDab+pDDmDIByWFRQJq2Cd7r1OoQxBGKOaztq+hjIQ==",
-      "dev": true
+      "integrity": "sha512-RIdOzyoavK+hA18OGGWDqUTsCLhtA7IcZ/6NCs4fFJaHBDab+pDDmDIByWFRQJq2Cd7r1OoQxBGKOaztq+hjIQ=="
     },
     "public-encrypt": {
       "version": "4.0.3",
@@ -8986,8 +8959,7 @@
     "punycode": {
       "version": "2.1.1",
       "resolved": "https://registry.npmjs.org/punycode/-/punycode-2.1.1.tgz",
-      "integrity": "sha512-XRsRjdf+j5ml+y/6GKHPZbrF/8p2Yga0JPtdqTIY2Xe5ohJPD9saDJJLPvp9+NSBprVvevdXZybnj2cv8OEd0A==",
-      "dev": true
+      "integrity": "sha512-XRsRjdf+j5ml+y/6GKHPZbrF/8p2Yga0JPtdqTIY2Xe5ohJPD9saDJJLPvp9+NSBprVvevdXZybnj2cv8OEd0A=="
     },
     "q": {
       "version": "1.5.1",
@@ -8998,8 +8970,7 @@
     "qs": {
       "version": "6.5.2",
       "resolved": "https://registry.npmjs.org/qs/-/qs-6.5.2.tgz",
-      "integrity": "sha512-N5ZAX4/LxJmF+7wN74pUD6qAh9/wnvdQcjq9TZjevvXzSUo7bfmw91saqMjzGS2xq91/odN2dW/WOl7qQHNDGA==",
-      "dev": true
+      "integrity": "sha512-N5ZAX4/LxJmF+7wN74pUD6qAh9/wnvdQcjq9TZjevvXzSUo7bfmw91saqMjzGS2xq91/odN2dW/WOl7qQHNDGA=="
     },
     "query-string": {
       "version": "4.3.4",
@@ -9026,8 +8997,7 @@
     "querystringify": {
       "version": "2.2.0",
       "resolved": "https://registry.npmjs.org/querystringify/-/querystringify-2.2.0.tgz",
-      "integrity": "sha512-FIqgj2EUvTa7R50u0rGsyTftzjYmv/a3hO345bZNrqabNqjtgiDMgmo4mkUjd+nzU5oF3dClKqFIPUKybUyqoQ==",
-      "dev": true
+      "integrity": "sha512-FIqgj2EUvTa7R50u0rGsyTftzjYmv/a3hO345bZNrqabNqjtgiDMgmo4mkUjd+nzU5oF3dClKqFIPUKybUyqoQ=="
     },
     "quill": {
       "version": "1.3.7",
@@ -9288,7 +9258,6 @@
       "version": "2.88.2",
       "resolved": "https://registry.npmjs.org/request/-/request-2.88.2.tgz",
       "integrity": "sha512-MsvtOrfG9ZcrOwAW+Qi+F6HbD0CWXEh9ou77uOb7FM2WPhwT7smM833PzanhJLsgXjN89Ir6V2PczXNnMpwKhw==",
-      "dev": true,
       "requires": {
         "aws-sign2": "~0.7.0",
         "aws4": "^1.8.0",
@@ -9327,8 +9296,7 @@
     "requires-port": {
       "version": "1.0.0",
       "resolved": "https://registry.npmjs.org/requires-port/-/requires-port-1.0.0.tgz",
-      "integrity": "sha1-kl0mAdOaxIXgkc8NpcbmlNw9yv8=",
-      "dev": true
+      "integrity": "sha1-kl0mAdOaxIXgkc8NpcbmlNw9yv8="
     },
     "resolve": {
       "version": "1.12.0",
@@ -9460,8 +9428,7 @@
     "safe-buffer": {
       "version": "5.1.2",
       "resolved": "https://registry.npmjs.org/safe-buffer/-/safe-buffer-5.1.2.tgz",
-      "integrity": "sha512-Gd2UZBJDkXlY7GbJxfsE8/nvKkUEU1G38c1siN6QP6a9PT9MmHB8GnpscSmMJSoF8LOIrt8ud/wPtojys4G6+g==",
-      "dev": true
+      "integrity": "sha512-Gd2UZBJDkXlY7GbJxfsE8/nvKkUEU1G38c1siN6QP6a9PT9MmHB8GnpscSmMJSoF8LOIrt8ud/wPtojys4G6+g=="
     },
     "safe-regex": {
       "version": "1.1.0",
@@ -9475,8 +9442,7 @@
     "safer-buffer": {
       "version": "2.1.2",
       "resolved": "https://registry.npmjs.org/safer-buffer/-/safer-buffer-2.1.2.tgz",
-      "integrity": "sha512-YZo3K82SD7Riyi0E1EQPojLz7kpepnSQI9IyPbHHg1XXXevb5dJI7tpyN2ADxGcQbHG7vcyRHk0cbwqcQriUtg==",
-      "dev": true
+      "integrity": "sha512-YZo3K82SD7Riyi0E1EQPojLz7kpepnSQI9IyPbHHg1XXXevb5dJI7tpyN2ADxGcQbHG7vcyRHk0cbwqcQriUtg=="
     },
     "sass": {
       "version": "1.26.3",
@@ -10231,7 +10197,6 @@
       "version": "1.16.1",
       "resolved": "https://registry.npmjs.org/sshpk/-/sshpk-1.16.1.tgz",
       "integrity": "sha512-HXXqVUq7+pcKeLqqZj6mHFUMvXtOJt1uoUx09pFW6011inTMxqI8BA8PM95myrIyyKwdnzjdFjLiE6KBPVtJIg==",
-      "dev": true,
       "requires": {
         "asn1": "~0.2.3",
         "assert-plus": "^1.0.0",
@@ -10868,7 +10833,6 @@
       "version": "2.5.0",
       "resolved": "https://registry.npmjs.org/tough-cookie/-/tough-cookie-2.5.0.tgz",
       "integrity": "sha512-nlLsUzgm1kfLXSXfRZMc1KLAugd4hqJHDTvc2hDIwS3mZAfMEuMbc03SujMF+GEcpaX/qboeycw6iO8JwVv2+g==",
-      "dev": true,
       "requires": {
         "psl": "^1.1.28",
         "punycode": "^2.1.1"
@@ -10975,7 +10939,6 @@
       "version": "0.6.0",
       "resolved": "https://registry.npmjs.org/tunnel-agent/-/tunnel-agent-0.6.0.tgz",
       "integrity": "sha1-J6XeoGs2sEoKmWZ3SykIaPD8QP0=",
-      "dev": true,
       "requires": {
         "safe-buffer": "^5.0.1"
       }
@@ -10983,8 +10946,7 @@
     "tweetnacl": {
       "version": "0.14.5",
       "resolved": "https://registry.npmjs.org/tweetnacl/-/tweetnacl-0.14.5.tgz",
-      "integrity": "sha1-WuaBd/GS1EViadEIr6k/+HQ/T2Q=",
-      "dev": true
+      "integrity": "sha1-WuaBd/GS1EViadEIr6k/+HQ/T2Q="
     },
     "type-fest": {
       "version": "0.11.0",
@@ -11185,7 +11147,6 @@
       "version": "4.2.2",
       "resolved": "https://registry.npmjs.org/uri-js/-/uri-js-4.2.2.tgz",
       "integrity": "sha512-KY9Frmirql91X2Qgjry0Wd4Y+YTdrdZheS8TFwvkbLWf/G5KNJDCh6pKL5OZctEW4+0Baa5idK2ZQuELRwPznQ==",
-      "dev": true,
       "requires": {
         "punycode": "^2.1.0"
       }
@@ -11218,7 +11179,6 @@
       "version": "1.4.7",
       "resolved": "https://registry.npmjs.org/url-parse/-/url-parse-1.4.7.tgz",
       "integrity": "sha512-d3uaVyzDB9tQoSXFvuSUNFibTd9zxd2bkVrDRvF5TmvWWQwqE4lgYJ5m+x1DbecWkw+LK4RNl2CU1hHuOKPVlg==",
-      "dev": true,
       "requires": {
         "querystringify": "^2.1.1",
         "requires-port": "^1.0.0"
@@ -11283,8 +11243,7 @@
     "uuid": {
       "version": "3.4.0",
       "resolved": "https://registry.npmjs.org/uuid/-/uuid-3.4.0.tgz",
-      "integrity": "sha512-HjSDRw6gZE5JMggctHBcjVak08+KEVhSIiDzFnT9S9aegmp85S/bReBVTb4QTFaRNptJ9kuYaNhnbNEOkbKb/A==",
-      "dev": true
+      "integrity": "sha512-HjSDRw6gZE5JMggctHBcjVak08+KEVhSIiDzFnT9S9aegmp85S/bReBVTb4QTFaRNptJ9kuYaNhnbNEOkbKb/A=="
     },
     "validate-npm-package-license": {
       "version": "3.0.4",
@@ -11321,7 +11280,6 @@
       "version": "1.10.0",
       "resolved": "https://registry.npmjs.org/verror/-/verror-1.10.0.tgz",
       "integrity": "sha1-OhBcoXBTr1XW4nDB+CiGguGNpAA=",
-      "dev": true,
       "requires": {
         "assert-plus": "^1.0.0",
         "core-util-is": "1.0.2",
@@ -12365,7 +12323,6 @@
       "version": "6.2.1",
       "resolved": "https://registry.npmjs.org/ws/-/ws-6.2.1.tgz",
       "integrity": "sha512-GIyAXC2cB7LjvpgMt9EKS2ldqr0MTrORaleiOno6TweZ6r3TKtoFQWay/2PceJ3RuBasOHzXNn5Lrw1X0bEjqA==",
-      "dev": true,
       "requires": {
         "async-limiter": "~1.0.0"
       }
diff --git a/Angular/package.json b/Angular/package.json
index a77aba3..d866c8e 100644
--- a/Angular/package.json
+++ b/Angular/package.json
@@ -9,7 +9,9 @@
     "lint": "ng lint",
     "e2e": "ng e2e",
     "build:aot": "ng build --aot --base-href /BIATemplate/App/",
-    "build:prod": "ng build --prod --base-href /BIATemplate/App/"
+    "build:aot2": "ng build --aot --base-href /BIATemplate2/App/ --output-path dist/BIATemplate2",
+    "build:prod": "ng build --prod --base-href /BIATemplate/App/",
+    "build:prod2": "ng build --prod --base-href /BIATemplate2/App/ --output-path dist/BIATemplate2"
   },
   "private": true,
   "dependencies": {
@@ -23,6 +25,7 @@
     "@angular/platform-browser": "~9.1.12",
     "@angular/platform-browser-dynamic": "~9.1.12",
     "@angular/router": "~9.1.12",
+    "@aspnet/signalr": "^1.1.4",
     "@fullcalendar/core": "^4.4.2",
     "@fullcalendar/daygrid": "^4.4.2",
     "@fullcalendar/interaction": "^4.4.2",
@@ -57,7 +60,7 @@
     "@angular/cli": "^9.1.12",
     "@angular/compiler-cli": "~9.1.12",
     "@angular/language-service": "~9.1.12",
-    "@types/node": "~8.9.4",
+    "@types/node": "^8.10.66",
     "prettier": "1.18.1",
     "ts-node": "~7.0.0",
     "tslint": "~6.1.3",
diff --git a/Angular/src/app/app-routing.module.ts b/Angular/src/app/app-routing.module.ts
index 7451095..6fe5733 100644
--- a/Angular/src/app/app-routing.module.ts
+++ b/Angular/src/app/app-routing.module.ts
@@ -1,4 +1,4 @@
-﻿import { NgModule } from '@angular/core';
+import { NgModule } from '@angular/core';
 import { RouterModule, Routes } from '@angular/router';
 import { HOME_ROUTES } from './features/home/home.module';
 import { LayoutComponent } from './shared/bia-shared/components/layout/layout.component';
diff --git a/Angular/src/app/app.component.ts b/Angular/src/app/app.component.ts
index 87f4821..e46befe 100644
--- a/Angular/src/app/app.component.ts
+++ b/Angular/src/app/app.component.ts
@@ -1,8 +1,15 @@
-import { Component } from '@angular/core';
+import { Component, OnInit } from '@angular/core';
+import { BiaMatomoService } from './core/bia-core/services/matomo/bia-matomo.service';
 
 @Component({
   selector: 'app-root',
   template: '<router-outlet></router-outlet>',
   styles: [':host { min-height: 100vh; display: flex; }']
 })
-export class AppComponent {}
+export class AppComponent implements OnInit {
+  constructor(private biaMatomoService: BiaMatomoService) {}
+
+  ngOnInit() {
+    this.biaMatomoService.init();
+  }
+}
diff --git a/Angular/src/app/app.module.ts b/Angular/src/app/app.module.ts
index 3cd9f49..42d02f9 100644
--- a/Angular/src/app/app.module.ts
+++ b/Angular/src/app/app.module.ts
@@ -16,6 +16,7 @@ import { BiaErrorHandler } from './core/bia-core/shared/bia-error-handler';
 import { getInitialLang } from './core/bia-core/services/bia-translation.service';
 import { BiaTranslateHttpLoader } from './core/bia-core/services/bia-translate-http-loader';
 import { ROOT_REDUCERS, metaReducers } from './store/state';
+import { BiaSignalRService } from './core/bia-core/services/bia-signalr.service';
 
 export const getLocaleId = () => getInitialLang(APP_SUPPORTED_TRANSLATIONS);
 
@@ -48,7 +49,11 @@ export function createTranslateLoader(http: HttpClient, store: TranslateStore) {
     CoreModule,
     HomeModule
   ],
-  providers: [{ provide: LOCALE_ID, useFactory: getLocaleId }, { provide: ErrorHandler, useClass: BiaErrorHandler }],
+  providers: [
+    { provide: LOCALE_ID, useFactory: getLocaleId },
+    { provide: ErrorHandler, useClass: BiaErrorHandler },
+    BiaSignalRService
+  ],
   bootstrap: [AppComponent]
 })
 export class AppModule {}
diff --git a/Angular/src/app/core/bia-core/bia-core.module.ts b/Angular/src/app/core/bia-core/bia-core.module.ts
index d8cd07b..26c5112 100644
--- a/Angular/src/app/core/bia-core/bia-core.module.ts
+++ b/Angular/src/app/core/bia-core/bia-core.module.ts
@@ -16,7 +16,7 @@ import { BiaThemeService } from './services/bia-theme.service';
 import { BiaTranslationService } from './services/bia-translation.service';
 import { BiaAppInitService } from './services/bia-app-init.service';
 import { SiteModule } from 'src/app/domains/site/site.module';
-import { BiaEnvironmentService } from './services/bia-environment.service';
+import { EnvironmentConfigurationModule } from 'src/app/domains/environment-configuration/environment-configuration.module';
 
 export function initializeApp(appInitService: BiaAppInitService) {
   return (): Promise<any> => {
@@ -24,12 +24,12 @@ export function initializeApp(appInitService: BiaAppInitService) {
   };
 }
 
-const MODULES = [HttpClientModule, SiteModule];
+const MODULES = [HttpClientModule, SiteModule, EnvironmentConfigurationModule];
 
 /* Warning: the order matters */
 const INTERCEPTORS = [standardEncodeHttpParamsInterceptor, biaXhrWithCredInterceptor, biaTokenInterceptor];
 
-const SERVICES = [MessageService, AuthService, BiaThemeService, BiaTranslationService, BiaEnvironmentService];
+const SERVICES = [MessageService, AuthService, BiaThemeService, BiaTranslationService];
 
 @NgModule({
   imports: [...MODULES],
diff --git a/Angular/src/app/core/bia-core/services/abstract-das.service.ts b/Angular/src/app/core/bia-core/services/abstract-das.service.ts
index 77643d7..9edec4d 100644
--- a/Angular/src/app/core/bia-core/services/abstract-das.service.ts
+++ b/Angular/src/app/core/bia-core/services/abstract-das.service.ts
@@ -18,8 +18,8 @@ export abstract class AbstractDas<TOut, TIn = Pick<TOut, Exclude<keyof TOut, 'id
     return this.getItem<TOut>(id, options);
   }
 
-  getList(options?: HttpOptions): Observable<TOut[]> {
-    return this.getListItems<TOut>(options);
+  getList(endpoint: string = '', options?: HttpOptions): Observable<TOut[]> {
+    return this.getListItems<TOut>(endpoint, options);
   }
 
   getListByPost(event: LazyLoadEvent, endpoint: string = 'all'): Observable<DataResult<TOut[]>> {
@@ -42,6 +42,10 @@ export abstract class AbstractDas<TOut, TIn = Pick<TOut, Exclude<keyof TOut, 'id
     return this.deleteItem(id, options);
   }
 
+  deletes(ids: string[] | number[], options?: HttpOptions) {
+    return this.deleteItems(ids, options);
+  }
+
   getFile(event: LazyLoadEvent, endpoint: string = 'csv'): Observable<any> {
     return this.getItemFile(event, endpoint);
   }
diff --git a/Angular/src/app/core/bia-core/services/bia-app-init.service.ts b/Angular/src/app/core/bia-core/services/bia-app-init.service.ts
index 4262405..bc56d59 100644
--- a/Angular/src/app/core/bia-core/services/bia-app-init.service.ts
+++ b/Angular/src/app/core/bia-core/services/bia-app-init.service.ts
@@ -4,19 +4,22 @@ import { Subscription, throwError } from 'rxjs';
 import { catchError } from 'rxjs/operators';
 import { environment } from 'src/environments/environment';
 import { isDevMode } from '@angular/core';
+import { Store } from '@ngrx/store';
+import { AppState } from 'src/app/store/state';
+import { loadAllSites } from 'src/app/domains/site/store/sites-actions';
 
 @Injectable({
   providedIn: 'root'
 })
 export class BiaAppInitService implements OnDestroy {
   private sub: Subscription;
-  constructor(private authService: AuthService) {}
+  constructor(private authService: AuthService, private store: Store<AppState>) {}
   Init() {
     return this.initAuth();
   }
 
   private initAuth() {
-    return new Promise<void>((resolve, reject) => {
+    return new Promise<void>((resolve) => {
       this.sub = this.authService
         .login()
         .pipe(
@@ -27,7 +30,10 @@ export class BiaAppInitService implements OnDestroy {
             return throwError(error);
           })
         )
-        .subscribe(() => resolve());
+        .subscribe(() => {
+          this.store.dispatch(loadAllSites());
+          resolve();
+        });
     });
   }
 
diff --git a/Angular/src/app/core/bia-core/services/bia-environment.service.ts b/Angular/src/app/core/bia-core/services/bia-environment.service.ts
deleted file mode 100644
index 93537be..0000000
--- a/Angular/src/app/core/bia-core/services/bia-environment.service.ts
+++ /dev/null
@@ -1,19 +0,0 @@
-import { Injectable } from '@angular/core';
-import { Observable } from 'rxjs';
-import { GenericDas } from './generic-das.service';
-import { EnvironmentType } from 'src/app/shared/constants';
-import { HttpClient } from '@angular/common/http';
-
-@Injectable({
-  providedIn: 'root'
-})
-export class BiaEnvironmentService {
-  private route: string;
-  constructor(private http: HttpClient) {
-    this.route = GenericDas.buildRoute('environment');
-  }
-
-  getType(): Observable<EnvironmentType> {
-    return this.http.get<EnvironmentType>(`${this.route}type`);
-  }
-}
diff --git a/Angular/src/app/core/bia-core/services/bia-option.service.ts b/Angular/src/app/core/bia-core/services/bia-option.service.ts
new file mode 100644
index 0000000..cf3b05e
--- /dev/null
+++ b/Angular/src/app/core/bia-core/services/bia-option.service.ts
@@ -0,0 +1,38 @@
+import { BaseDto } from 'src/app/shared/bia-shared/model/base-dto';
+import { DtoState } from 'src/app/shared/bia-shared/model/dto-state.enum';
+
+export class BiaOptionService {
+
+  public static Clone<T>(value: any) {
+    if (!value) {
+      return null;
+    }
+    return <T>{ ...value };
+  }
+
+  public static Differential<T extends BaseDto>(newList: T[], oldList: T[]) {
+    let differential: T[] = [];
+    if (oldList) {
+      // Delete items
+      const toDeletedConnectingAirports = oldList
+        .filter((s) => !newList || !newList.map(x => x.id).includes(s.id))
+        .map((s) => <T>{ ...s, dtoState: DtoState.Deleted });
+
+      if (toDeletedConnectingAirports) {
+        differential = differential.concat(toDeletedConnectingAirports);
+      }
+    }
+
+    if (newList) {
+      // Add items
+      const toAddedConnectingAirports = newList
+        ?.filter((s) => !oldList || !oldList.map(x => x.id).includes(s.id))
+        .map((s) => <T>{ ...s, dtoState: DtoState.Added });
+
+      if (toAddedConnectingAirports) {
+        differential = differential.concat(toAddedConnectingAirports);
+      }
+    }
+    return differential;
+  }
+}
diff --git a/Angular/src/app/core/bia-core/services/bia-signalr.service.ts b/Angular/src/app/core/bia-core/services/bia-signalr.service.ts
new file mode 100644
index 0000000..a724f5b
--- /dev/null
+++ b/Angular/src/app/core/bia-core/services/bia-signalr.service.ts
@@ -0,0 +1,71 @@
+import { Injectable } from '@angular/core';
+import { HubConnection, HubConnectionBuilder } from '@aspnet/signalr';
+import { environment } from 'src/environments/environment';
+
+/**
+ * Service managing the SignalR connection.
+ * You can add specific events management by doing the following:
+ * - Add a SignalRService parameter to the constructor of your component (for dependency injection)
+ * - Use this injected instance of SignalRService to add new events:
+ *     this.signalRService.getHubConnection().on('MyEventName', () => {
+ *       this.store.select(getMyEventHandler).pipe(first()).subscribe(
+ *         (myEventData) => {
+ *             // Do what you need here...
+ *         }
+ *       );
+ *     });
+ */
+@Injectable()
+export class BiaSignalRService {
+  /**
+   * Object managing the SignalR connection.
+   * You can access it through the 'getHubConnection()' method, so that every component/feature can add new event management,
+   * without having to redefine every needed event and data structure in the domain.
+   */
+  private readonly hubConnection: HubConnection;
+
+  /**
+   * Retrieve the hubConnection instance.
+   */
+  public getHubConnection() {
+    return this.hubConnection;
+  }
+
+  /**
+   * Constructor.
+   */
+  public constructor() {
+    this.hubConnection = new HubConnectionBuilder()
+      .withUrl(environment.hubUrl)
+      .build();
+
+    this.configureConnection();
+    this.startConnection();
+  }
+
+  /**
+   * Configure the connection behavior.
+   */
+  private configureConnection(): void {
+    this.hubConnection.onclose(async () => {
+      console.log('%c [SignalRService] Hub connection closed. Try restarting it...', 'color: red; font-weight: bold');
+      setTimeout(e => { this.startConnection(); }, 5000);
+    });
+  }
+
+  /**
+   * Start the SignalR connection.
+   */
+  private startConnection(): void {
+    this.hubConnection
+      .start()
+      .then(() => {
+        console.log('%c [SignalRService] Hub connection started', 'color: blue; font-weight: bold');
+      })
+      .catch((err: string) => {
+        console.log('%c [SignalRService] Error while establishing connection, retrying...' + err,
+          'color: red; font-weight: bold');
+        setTimeout(e => { this.startConnection(); }, 5000);
+      });
+  }
+}
diff --git a/Angular/src/app/core/bia-core/services/bia-translation.service.ts b/Angular/src/app/core/bia-core/services/bia-translation.service.ts
index 62aac2f..1b6b6ee 100644
--- a/Angular/src/app/core/bia-core/services/bia-translation.service.ts
+++ b/Angular/src/app/core/bia-core/services/bia-translation.service.ts
@@ -15,12 +15,12 @@ export const getInitialLang = (supportedLangs: string[]) => {
     lang = localStorage.getItem(STORAGE_LANG_KEY);
   } catch {}
   if (!lang) {
-    lang = navigator.language.split('-')[0];
+    lang = navigator.language;
   }
   if (supportedLangs.indexOf(lang) !== -1) {
     return lang;
   }
-  return supportedLangs[0];
+  return 'en-US';
 };
 
 export interface DateFormat {
diff --git a/Angular/src/app/core/bia-core/services/date-helper.service.ts b/Angular/src/app/core/bia-core/services/date-helper.service.ts
index dc14f73..15181b2 100644
--- a/Angular/src/app/core/bia-core/services/date-helper.service.ts
+++ b/Angular/src/app/core/bia-core/services/date-helper.service.ts
@@ -4,24 +4,40 @@ import { Injectable } from '@angular/core';
   providedIn: 'root'
 })
 export class DateHelperService {
+  constructor() {}
 
-constructor() { }
-
-public static isDate(value: any): boolean {
-  const regex = /(\d{4})-(\d{2})-(\d{2})T/;
-  if (typeof value === 'string' && value.match(regex)) {
-    const date = Date.parse(value);
-    return !isNaN(date);
+  public static isDate(value: any): boolean {
+    const regex = /(\d{4})-(\d{2})-(\d{2})T/;
+    if (typeof value === 'string' && value.match(regex)) {
+      const date = Date.parse(value);
+      return !isNaN(date);
+    }
+    return false;
   }
-  return false;
-}
 
-public static fillDate<TOut>(data: TOut) {
-  Object.keys(data).forEach((key: string) => {
-    if (DateHelperService.isDate((data as any)[key])) {
-      (data as any)[key] = new Date((data as any)[key]);
-    }
-  });
-}
+  public static fillDate<TOut>(data: TOut) {
+    Object.keys(data).forEach((key: string) => {
+      const value = (data as any)[key];
+      if (value instanceof Date === true) {
+        (data as any)[key] = DateHelperService.toUtc(value);
+      } else if (DateHelperService.isDate(value)) {
+        (data as any)[key] = new Date(value);
+      } else if (value instanceof Object === true) {
+        this.fillDate(value);
+      }
+    });
+  }
 
+  public static toUtc(date: Date): Date {
+    return new Date(
+      Date.UTC(
+        date.getFullYear(),
+        date.getMonth(),
+        date.getDate(),
+        date.getHours(),
+        date.getMinutes(),
+        date.getSeconds()
+      )
+    );
+  }
 }
diff --git a/Angular/src/app/core/bia-core/services/generic-das.service.ts b/Angular/src/app/core/bia-core/services/generic-das.service.ts
index 360aad2..ae4cb35 100644
--- a/Angular/src/app/core/bia-core/services/generic-das.service.ts
+++ b/Angular/src/app/core/bia-core/services/generic-das.service.ts
@@ -48,8 +48,8 @@ export abstract class GenericDas {
     );
   }
 
-  getListItems<TOut>(options?: HttpOptions): Observable<TOut[]> {
-    return this.http.get<TOut[]>(`${this.route}`, options).pipe(
+  getListItems<TOut>(endpoint: string = '', options?: HttpOptions): Observable<TOut[]> {
+    return this.http.get<TOut[]>(`${this.route}${endpoint}`, options).pipe(
       map((datas) => {
         datas.forEach((data) => {
           DateHelperService.fillDate(data);
@@ -81,14 +81,21 @@ export abstract class GenericDas {
   }
 
   saveItem<TIn, TOut>(items: TIn[], endpoint: string = 'save', options?: HttpOptions) {
+    if (items) {
+      items.forEach((item) => {
+        DateHelperService.fillDate(item);
+      });
+    }
     return this.http.post<TOut>(`${this.route}${endpoint}`, items, options);
   }
 
   putItem<TIn, TOut>(item: TIn, id: string | number, options?: HttpOptions) {
+    DateHelperService.fillDate(item);
     return this.http.put<TOut>(`${this.route}${id}`, item, options);
   }
 
   postItem<TIn, TOut>(item: TIn, options?: HttpOptions) {
+    DateHelperService.fillDate(item);
     return this.http.post<TOut>(this.route, item, options);
   }
 
@@ -96,6 +103,10 @@ export abstract class GenericDas {
     return this.http.delete<void>(`${this.route}${id}`, options);
   }
 
+  deleteItems(ids: string[] | number[], options?: HttpOptions) {
+    return this.http.delete<void>(`${this.route}?ids=${ids.join('&ids=')}`, options);
+  }
+
   getItemFile(event: LazyLoadEvent, endpoint: string = 'csv'): Observable<any> {
     return this.http.post(`${this.route}${endpoint}`, event, {
       responseType: 'blob',
diff --git a/Angular/src/app/core/bia-core/services/matomo/bia-matomo.service.ts b/Angular/src/app/core/bia-core/services/matomo/bia-matomo.service.ts
new file mode 100644
index 0000000..a1874f5
--- /dev/null
+++ b/Angular/src/app/core/bia-core/services/matomo/bia-matomo.service.ts
@@ -0,0 +1,77 @@
+import { Injectable, OnDestroy } from '@angular/core';
+import { NavigationEnd, Router } from '@angular/router';
+import { Store } from '@ngrx/store';
+import { Subscription, combineLatest, Observable } from 'rxjs';
+import { filter, first, skip } from 'rxjs/operators';
+import { EnvironmentConfiguration } from 'src/app/domains/environment-configuration/model/environment-configuration';
+import { getEnvironmentConfiguration } from 'src/app/domains/environment-configuration/store/environment-configuration.state';
+import { Site } from 'src/app/domains/site/model/site';
+import { getAllSites } from 'src/app/domains/site/store/site.state';
+import { AppState } from 'src/app/store/state';
+import { AuthService } from '../auth.service';
+import { MatomoInjector } from './matomo-injector.service';
+import { MatomoTracker } from './matomo-tracker.service';
+
+@Injectable({
+  providedIn: 'root'
+})
+export class BiaMatomoService implements OnDestroy {
+  protected sub = new Subscription();
+
+  constructor(
+    private router: Router,
+    private authService: AuthService,
+    private matomoInjector: MatomoInjector,
+    private matomoTracker: MatomoTracker,
+    private store: Store<AppState>
+  ) {}
+
+  public init() {
+    this.initMatomoInjector();
+    this.initMatomoTracker();
+  }
+
+  ngOnDestroy() {
+    if (this.sub) {
+      this.sub.unsubscribe();
+    }
+  }
+
+  private initMatomoInjector() {
+    const sites$ = this.getSites();
+    const environmentConfiguration$ = this.getEnvironmentConfiguration();
+
+    this.sub.add(
+      combineLatest([sites$, environmentConfiguration$]).subscribe(([sites, environmentConfiguration]) => {
+        const currentsite: Site = sites.filter((x) => x.id === this.authService.getCurrentSiteId())[0];
+        if (environmentConfiguration) {
+          this.matomoInjector.init(environmentConfiguration.urlMatomo, '1', currentsite ?  currentsite.title : '');
+        }
+      })
+    );
+  }
+
+  private initMatomoTracker() {
+    this.sub.add(
+      this.router.events
+        .pipe(
+          filter((event) => event instanceof NavigationEnd),
+          skip(1)
+        )
+        .subscribe(() => {
+          this.matomoTracker.setCustomUrl(window.location.href);
+          this.matomoTracker.trackPageView();
+        })
+    );
+  }
+
+  private getSites(): Observable<Site[]> {
+    return this.store.select(getAllSites).pipe(
+      filter((sites: Site[]) => sites && sites.length > 0),
+      first()
+    );
+  }
+  private getEnvironmentConfiguration(): Observable<EnvironmentConfiguration | null> {
+    return this.store.select(getEnvironmentConfiguration).pipe(filter((envConf) => !!envConf));
+  }
+}
diff --git a/Angular/src/app/core/bia-core/services/matomo/matomo-injector.service.ts b/Angular/src/app/core/bia-core/services/matomo/matomo-injector.service.ts
new file mode 100644
index 0000000..236894c
--- /dev/null
+++ b/Angular/src/app/core/bia-core/services/matomo/matomo-injector.service.ts
@@ -0,0 +1,51 @@
+import { Injectable } from '@angular/core';
+
+/**
+ * Access to the global window variable.
+ */
+declare var window: {
+  [key: string]: any;
+  prototype: Window;
+  new (): Window;
+};
+
+/**
+ * Service for injecting the Matomo tracker in the application.
+ *
+ * @export
+ */
+@Injectable({
+  providedIn: 'root'
+})
+export class MatomoInjector {
+  /**
+   * Creates an instance of MatomoInjector.
+   */
+  constructor() {
+    window._paq = window._paq || [];
+  }
+
+  /**
+   * Injects the Matomo tracker in the DOM.
+   */
+  init(url: string, siteId: string, siteName?: string) {
+    console.log('MatomoInjector siteName:' + siteName);
+    window._paq.push(['trackPageView']);
+    window._paq.push(['enableLinkTracking']);
+    (() => {
+      window._paq.push(['setTrackerUrl', url + 'matomo.php']);
+      window._paq.push(['setSiteId', '1']);
+      window._paq.push(['setCustomDimension', 1, siteName]);
+      const d = document,
+        g = d.createElement('script'),
+        s = d.getElementsByTagName('script')[0];
+      g.type = 'text/javascript';
+      g.async = true;
+      g.src = url + 'matomo.js';
+      // g.src = 'http://localhost:4200/assets/bia/matomo/matomo.js';
+      if (s.parentNode) {
+        s.parentNode.insertBefore(g, s);
+      }
+    })();
+  }
+}
diff --git a/Angular/src/app/core/bia-core/services/matomo/matomo-tracker.service.ts b/Angular/src/app/core/bia-core/services/matomo/matomo-tracker.service.ts
new file mode 100644
index 0000000..13d0185
--- /dev/null
+++ b/Angular/src/app/core/bia-core/services/matomo/matomo-tracker.service.ts
@@ -0,0 +1,57 @@
+import { Injectable } from '@angular/core';
+
+/**
+ * Access to the global window variable.
+ */
+declare var window: {
+  [key: string]: any;
+  prototype: Window;
+  new (): Window;
+};
+
+/**
+ * Wrapper for functions available in the Matomo Javascript tracker.
+ *
+ * @export
+ */
+@Injectable({
+  providedIn: 'root'
+})
+export class MatomoTracker {
+  /**
+   * Creates an instance of MatomoTracker.
+   */
+  constructor() {
+    if (typeof window._paq === 'undefined') {
+      console.warn('Matomo has not yet been initialized! (Did you forget to inject it?)');
+    }
+  }
+
+  /**
+   * Logs a visit to this page.
+   *
+   */
+  trackPageView(): void {
+    window._paq.push(['trackPageView']);
+  }
+
+  /**
+   * Overrides document.title
+   *
+   * @param title Title of the document.
+   */
+  setDocumentTitle(title: string): void {
+    console.log('setDocumentTitle ' + title);
+    window._paq.push(['setDocumentTitle', title]);
+  }
+
+  /**
+   * Override the page's reported URL.
+   *
+   * @param url URL to be reported for the page.
+   */
+  setCustomUrl(url: string): void {
+    console.log('setCustomUrl ' + url);
+    window._paq.push(['setCustomUrl', url]);
+  }
+}
diff --git a/Angular/src/app/core/bia-core/shared/bia-action.ts b/Angular/src/app/core/bia-core/shared/bia-action.ts
new file mode 100644
index 0000000..f880eb0
--- /dev/null
+++ b/Angular/src/app/core/bia-core/shared/bia-action.ts
@@ -0,0 +1,3 @@
+import { createAction } from '@ngrx/store';
+
+export const biaSuccessWaitRefreshSignalR = createAction('[Bia] Success the refresh of the list will be done by signalR.');
diff --git a/Angular/src/app/domains/environment-configuration/environment-configuration.module.ts b/Angular/src/app/domains/environment-configuration/environment-configuration.module.ts
new file mode 100644
index 0000000..fe692cb
--- /dev/null
+++ b/Angular/src/app/domains/environment-configuration/environment-configuration.module.ts
@@ -0,0 +1,13 @@
+import { NgModule } from '@angular/core';
+import { EffectsModule } from '@ngrx/effects';
+import { StoreModule } from '@ngrx/store';
+import { EnvironmentConfigurationsEffects } from './store/environment-configuration-effects';
+import { environmentConfigurationReducers } from './store/environment-configuration-reducer';
+
+@NgModule({
+  imports: [
+    StoreModule.forFeature('domain-environments', environmentConfigurationReducers),
+    EffectsModule.forFeature([EnvironmentConfigurationsEffects])
+  ]
+})
+export class EnvironmentConfigurationModule {}
diff --git a/Angular/src/app/domains/environment-configuration/model/environment-configuration.ts b/Angular/src/app/domains/environment-configuration/model/environment-configuration.ts
new file mode 100644
index 0000000..096aaae
--- /dev/null
+++ b/Angular/src/app/domains/environment-configuration/model/environment-configuration.ts
@@ -0,0 +1,11 @@
+export enum EnvironmentType {
+  INT = 'INT',
+  UAT = 'UAT',
+  PRA = 'PRA',
+  PRD = 'PRD'
+}
+
+export interface EnvironmentConfiguration {
+  type: EnvironmentType;
+  urlMatomo: string;
+}
diff --git a/Angular/src/app/domains/environment-configuration/services/environment-configuration-das.service.ts b/Angular/src/app/domains/environment-configuration/services/environment-configuration-das.service.ts
new file mode 100644
index 0000000..a6f6a1d
--- /dev/null
+++ b/Angular/src/app/domains/environment-configuration/services/environment-configuration-das.service.ts
@@ -0,0 +1,31 @@
+import { HttpClient } from '@angular/common/http';
+import { Injectable } from '@angular/core';
+import { Observable } from 'rxjs';
+import { GenericDas } from 'src/app/core/bia-core/services/generic-das.service';
+import { EnvironmentConfiguration } from '../model/environment-configuration';
+
+@Injectable({
+  providedIn: 'root'
+})
+export class EnvironmentConfigurationDas {
+  private route: string;
+  constructor(private http: HttpClient) {
+    this.route = GenericDas.buildRoute('environment');
+  }
+
+  get(): Observable<EnvironmentConfiguration> {
+    return this.http.get<EnvironmentConfiguration>(this.route);
+  }
+}
+
+
+
+
+
+
+
+
+
+
+
+
diff --git a/Angular/src/app/domains/environment-configuration/store/environment-configuration-actions.ts b/Angular/src/app/domains/environment-configuration/store/environment-configuration-actions.ts
new file mode 100644
index 0000000..8ee371e
--- /dev/null
+++ b/Angular/src/app/domains/environment-configuration/store/environment-configuration-actions.ts
@@ -0,0 +1,8 @@
+import { createAction, props } from '@ngrx/store';
+import { EnvironmentConfiguration } from '../model/environment-configuration';
+
+export const loadDomainEnvironmentConfiguration = createAction('[Domain EnvironmentConfigurations] Load');
+export const loadDomainEnvironmentConfigurationSuccess = createAction(
+  '[Domain EnvironmentConfigurations] Load success',
+  props<{ environmentConfiguration: EnvironmentConfiguration }>()
+);
diff --git a/Angular/src/app/domains/environment-configuration/store/environment-configuration-effects.ts b/Angular/src/app/domains/environment-configuration/store/environment-configuration-effects.ts
new file mode 100644
index 0000000..7b342ce
--- /dev/null
+++ b/Angular/src/app/domains/environment-configuration/store/environment-configuration-effects.ts
@@ -0,0 +1,25 @@
+import { Injectable } from '@angular/core';
+import { map, startWith, switchMap } from 'rxjs/operators';
+import { Actions, createEffect, ofType } from '@ngrx/effects';
+import {
+  loadDomainEnvironmentConfiguration,
+  loadDomainEnvironmentConfigurationSuccess
+} from './environment-configuration-actions';
+import { EnvironmentConfigurationDas } from '../services/environment-configuration-das.service';
+
+@Injectable()
+export class EnvironmentConfigurationsEffects {
+  load$ = createEffect(() =>
+    this.actions$.pipe(
+      ofType(loadDomainEnvironmentConfiguration),
+      startWith(loadDomainEnvironmentConfiguration()),
+      switchMap(() =>
+        this.environmentConfigurationDas
+          .get()
+          .pipe(map((environmentConfiguration) => loadDomainEnvironmentConfigurationSuccess({ environmentConfiguration })))
+      )
+    )
+  );
+
+  constructor(private actions$: Actions, private environmentConfigurationDas: EnvironmentConfigurationDas) {}
+}
diff --git a/Angular/src/app/domains/environment-configuration/store/environment-configuration-reducer.ts b/Angular/src/app/domains/environment-configuration/store/environment-configuration-reducer.ts
new file mode 100644
index 0000000..1c52d56
--- /dev/null
+++ b/Angular/src/app/domains/environment-configuration/store/environment-configuration-reducer.ts
@@ -0,0 +1,18 @@
+import { createReducer, on } from '@ngrx/store';
+import { loadDomainEnvironmentConfigurationSuccess } from './environment-configuration-actions';
+import { EnvironmentConfigurationState } from './environment-configuration.state';
+
+export const initializeEnvironmentConfigurationState = (): EnvironmentConfigurationState => {
+  return {
+    environmentConfiguration: null
+  };
+};
+
+export const INIT_STATE: EnvironmentConfigurationState = initializeEnvironmentConfigurationState();
+
+export const environmentConfigurationReducers = createReducer<EnvironmentConfigurationState>(
+  INIT_STATE,
+  on(loadDomainEnvironmentConfigurationSuccess, (state, { environmentConfiguration }) => {
+    return { ...state, environmentConfiguration: environmentConfiguration };
+  })
+);
diff --git a/Angular/src/app/domains/environment-configuration/store/environment-configuration.state.ts b/Angular/src/app/domains/environment-configuration/store/environment-configuration.state.ts
new file mode 100644
index 0000000..c68a440
--- /dev/null
+++ b/Angular/src/app/domains/environment-configuration/store/environment-configuration.state.ts
@@ -0,0 +1,15 @@
+import { createFeatureSelector, createSelector } from '@ngrx/store';
+import { EnvironmentConfiguration } from '../model/environment-configuration';
+
+export interface EnvironmentConfigurationState {
+  environmentConfiguration: EnvironmentConfiguration | null;
+}
+
+export const getEnvironmentConfigurationState = createFeatureSelector<EnvironmentConfigurationState>(
+  'domain-environments'
+);
+
+export const getEnvironmentConfiguration = createSelector(
+  getEnvironmentConfigurationState,
+  (state) => state.environmentConfiguration
+);
diff --git a/Angular/src/app/features/sites/components/site-table-header/site-table-header.component.html b/Angular/src/app/features/sites/components/site-table-header/site-table-header.component.html
new file mode 100644
index 0000000..f1aada8
--- /dev/null
+++ b/Angular/src/app/features/sites/components/site-table-header/site-table-header.component.html
@@ -0,0 +1,53 @@
+<div class="header" fxLayout="row" fxLayoutAlign="space-between">
+  <div fxLayout="row" fxLayoutGap="8px" fxLayoutAlign="stretch center">
+    <ng-container *ngIf="showBtnFilter">
+      <button
+        type="button"
+        icon="ui-icon-filter-list"
+        class="ui-button-secondary flat"
+        *ngIf="showFilter === false && haveFilter === false"
+        pButton
+        (click)="toggleFilter()"
+        pTooltip="{{ 'msg.showFilters' | translate }}"
+      ></button>
+      <button
+        type="button"
+        icon="ui-icon-filter-list"
+        *ngIf="showFilter === false && haveFilter === true"
+        pButton
+        (click)="toggleFilter()"
+        pTooltip="{{ 'msg.showFilters' | translate }}"
+      ></button>
+    </ng-container>
+    <button
+      pButton
+      [disabled]="nbSelectedElements === 0"
+      *ngIf="canDelete"
+      label="{{ 'bia.delete' | translate }}"
+      (click)="onDelete()"
+    ></button>
+    <button
+      pButton
+      [disabled]="nbSelectedElements !== 1"
+      *ngIf="canManageMembers"
+      class="ui-button-secondary"
+      label="{{ 'member.manage' | translate }}"
+      (click)="manageMembers.emit()"
+    ></button>
+  </div>
+  <div fxLayout="row" fxLayoutGap="8px" fxLayoutAlign="stretch center">
+    <h1>{{ headerTitle }}</h1>
+  </div>
+  <div fxLayout="row" fxLayoutGap="8px" fxLayoutAlign="stretch center">
+    <button
+      pButton
+      class="ui-button-secondary"
+      label="{{ 'bia.back' | translate }}"
+      (click)="onBack()"
+      *ngIf="canBack"
+    ></button>
+    <button pButton *ngIf="canExportCSV" class="ui-button-secondary" label="CSV" (click)="exportCSV.emit()"></button>
+    <button pButton *ngIf="canAdd" label="{{ 'bia.add' | translate }}" (click)="onCreate()"></button>
+  </div>
+</div>
+<p-confirmDialog></p-confirmDialog>
diff --git a/Angular/src/app/features/sites/components/site-table-header/site-table-header.component.scss b/Angular/src/app/features/sites/components/site-table-header/site-table-header.component.scss
new file mode 100644
index 0000000..e69de29
diff --git a/Angular/src/app/features/sites/components/site-table-header/site-table-header.component.ts b/Angular/src/app/features/sites/components/site-table-header/site-table-header.component.ts
new file mode 100644
index 0000000..8d6b2fd
--- /dev/null
+++ b/Angular/src/app/features/sites/components/site-table-header/site-table-header.component.ts
@@ -0,0 +1,17 @@
+import { Component, Input, Output, EventEmitter } from '@angular/core';
+import { ConfirmationService } from 'primeng';
+import { BiaTableHeaderComponent } from 'src/app/shared/bia-shared/components/table/bia-table-header/bia-table-header.component';
+
+@Component({
+  selector: 'app-site-table-header',
+  templateUrl: './site-table-header.component.html',
+  styleUrls: [
+    '../../../../shared/bia-shared/components/table/bia-table-header/bia-table-header.component.scss',
+    './site-table-header.component.scss'
+  ],
+  providers: [ConfirmationService]
+})
+export class SiteTableHeaderComponent extends BiaTableHeaderComponent {
+  @Input() canManageMembers = false;
+  @Output() manageMembers = new EventEmitter();
+}
diff --git a/Angular/src/app/features/sites/site.module.ts b/Angular/src/app/features/sites/site.module.ts
index e215853..60419c2 100644
--- a/Angular/src/app/features/sites/site.module.ts
+++ b/Angular/src/app/features/sites/site.module.ts
@@ -22,6 +22,7 @@ import { RoleModule } from 'src/app/domains/role/role.module';
 import { PermissionGuard } from 'src/app/core/bia-core/guards/permission.guard';
 import { Permission } from 'src/app/shared/permission';
 import { UserFromADModule } from 'src/app/domains/user-from-AD/user-from-AD.module';
+import { SiteTableHeaderComponent } from './components/site-table-header/site-table-header.component';
 
 const ROUTES: Routes = [
   {
@@ -57,7 +58,8 @@ const ROUTES: Routes = [
     MemberNewDialogComponent,
     MembersIndexComponent,
     MemberEditFormComponent,
-    MemberNewFormComponent
+    MemberNewFormComponent,
+    SiteTableHeaderComponent
   ],
   entryComponents: [SiteEditDialogComponent, SiteNewDialogComponent],
   imports: [
diff --git a/Angular/src/app/features/sites/store/members/members-actions.ts b/Angular/src/app/features/sites/store/members/members-actions.ts
index 397eab5..170ec0e 100644
--- a/Angular/src/app/features/sites/store/members/members-actions.ts
+++ b/Angular/src/app/features/sites/store/members/members-actions.ts
@@ -13,6 +13,8 @@ export const update = createAction('[Members] Update', props<{ member: Member }>
 
 export const remove = createAction('[Members] Remove', props<{ id: number }>());
 
+export const multiRemove = createAction('[Members] Multi Remove', props<{ ids: number[] }>());
+
 export const save = createAction('[Members] Save', props<{ members: Member[] }>());
 
 export const loadAllByPostSuccess = createAction(
diff --git a/Angular/src/app/features/sites/store/members/members-effects.ts b/Angular/src/app/features/sites/store/members/members-effects.ts
index 1a4963e..ebbeab6 100644
--- a/Angular/src/app/features/sites/store/members/members-effects.ts
+++ b/Angular/src/app/features/sites/store/members/members-effects.ts
@@ -10,6 +10,7 @@ import {
   loadAllByPostSuccess,
   loadSuccess,
   remove,
+  multiRemove,
   update,
   save
 } from './members-actions';
@@ -121,6 +122,29 @@ export class MembersEffects {
     )
   );
 
+  multiDestroy$ = createEffect(() =>
+    this.actions$.pipe(
+      ofType(multiRemove),
+      pluck('ids'),
+      concatMap((ids: number[]) => of(ids).pipe(withLatestFrom(this.store.select(getLastLazyLoadEvent)))),
+      switchMap(([ids, event]) => {
+        return this.memberDas.deletes(ids).pipe(
+          map(() => {
+            this.biaMessageService.showDeleteSuccess();
+            // Uncomment this if you do not use SignalR to refresh
+            return loadAllByPost({ event: <LazyLoadEvent>event });
+            // Uncomment this if you use SignalR to refresh
+            // return biaSuccessWaitRefreshSignalR();
+          }),
+          catchError((err) => {
+            this.biaMessageService.showError();
+            return of(failure({ error: err }));
+          })
+        );
+      })
+    )
+  );
+
   save$ = createEffect(() =>
     this.actions$.pipe(
       ofType(save),
diff --git a/Angular/src/app/features/sites/store/sites-actions.ts b/Angular/src/app/features/sites/store/sites-actions.ts
index d8bd535..d0821ce 100644
--- a/Angular/src/app/features/sites/store/sites-actions.ts
+++ b/Angular/src/app/features/sites/store/sites-actions.ts
@@ -14,6 +14,8 @@ export const update = createAction('[Sites] Update', props<{ site: Site }>());
 
 export const remove = createAction('[Sites] Remove', props<{ id: number }>());
 
+export const multiRemove = createAction('[Sites] Multi Remove', props<{ ids: number[] }>());
+
 export const loadAllByPostSuccess = createAction(
   '[Sites] Load all by post success',
   props<{ result: DataResult<SiteInfo[]>; event: LazyLoadEvent }>()
diff --git a/Angular/src/app/features/sites/store/sites-effects.ts b/Angular/src/app/features/sites/store/sites-effects.ts
index dd011ce..df0549d 100644
--- a/Angular/src/app/features/sites/store/sites-effects.ts
+++ b/Angular/src/app/features/sites/store/sites-effects.ts
@@ -2,7 +2,17 @@ import { Injectable } from '@angular/core';
 import { of } from 'rxjs';
 import { catchError, map, pluck, switchMap, withLatestFrom, concatMap } from 'rxjs/operators';
 import { Actions, createEffect, ofType } from '@ngrx/effects';
-import { create, failure, load, loadAllByPost, loadAllByPostSuccess, loadSuccess, remove, update } from './sites-actions';
+import {
+  create,
+  failure,
+  load,
+  loadAllByPost,
+  loadAllByPostSuccess,
+  loadSuccess,
+  remove,
+  multiRemove,
+  update
+} from './sites-actions';
 import { SiteDas } from '../services/site-das.service';
 import { SiteInfo } from '../model/site/site-info';
 import { SiteInfoDas } from '../services/site-info-das.service';
@@ -17,7 +27,6 @@ import { LazyLoadEvent } from 'primeng/api';
  * Effects file is for isolating and managing side effects of the application in one place
  * Http requests, Sockets, Routing, LocalStorage, etc
  */
-
 @Injectable()
 export class SitesEffects {
   loadAllByPost$ = createEffect(() =>
@@ -112,6 +121,29 @@ export class SitesEffects {
     )
   );
 
+  multiDestroy$ = createEffect(() =>
+    this.actions$.pipe(
+      ofType(multiRemove),
+      pluck('ids'),
+      concatMap((ids: number[]) => of(ids).pipe(withLatestFrom(this.store.select(getLastLazyLoadEvent)))),
+      switchMap(([ids, event]) => {
+        return this.siteDas.deletes(ids).pipe(
+          map(() => {
+            this.biaMessageService.showDeleteSuccess();
+            // Uncomment this if you do not use SignalR to refresh
+            return loadAllByPost({ event: <LazyLoadEvent>event });
+            // Uncomment this if you use SignalR to refresh
+            // return biaSuccessWaitRefreshSignalR();
+          }),
+          catchError((err) => {
+            this.biaMessageService.showError();
+            return of(failure({ error: err }));
+          })
+        );
+      })
+    )
+  );
+
   constructor(
     private actions$: Actions,
     private siteDas: SiteDas,
diff --git a/Angular/src/app/features/sites/views/members/members-index/members-index.component.html b/Angular/src/app/features/sites/views/members/members-index/members-index.component.html
index d11c3cf..0f24048 100644
--- a/Angular/src/app/features/sites/views/members/members-index/members-index.component.html
+++ b/Angular/src/app/features/sites/views/members/members-index/members-index.component.html
@@ -5,6 +5,8 @@
       [canAdd]="canAdd"
       [canBack]="true"
       (create)="onCreate()"
+      (delete)="onDelete()"
+      [selectedElements]="selectedMembers"
     ></bia-table-header>
     <bia-table-controller
       [defaultPageSize]="defaultPageSize"
@@ -25,15 +27,14 @@
       [showColSearch]="showColSearch"
       [globalSearchValue]="globalSearchValue"
       [canEdit]="canEdit"
-      [canDelete]="canDelete"
+      [canSelectElement]="canDelete"
       [loading]="loading$ | async"
       (edit)="onEdit($event)"
-      (remove)="onRemove($event)"
       (loadLazy)="onLoadLazy($event)"
+      (selectedElementsChanged)="onSelectedElementsChanged($event)"
     ></bia-table>
   </div>
 </div>
-<p-confirmDialog></p-confirmDialog>
 <!-- begin popup mode -->
 <app-member-edit-dialog></app-member-edit-dialog>
 <app-member-new-dialog [site]="currentSite"></app-member-new-dialog>
diff --git a/Angular/src/app/features/sites/views/members/members-index/members-index.component.ts b/Angular/src/app/features/sites/views/members/members-index/members-index.component.ts
index b84c511..2ffe7b4 100644
--- a/Angular/src/app/features/sites/views/members/members-index/members-index.component.ts
+++ b/Angular/src/app/features/sites/views/members/members-index/members-index.component.ts
@@ -1,18 +1,17 @@
 import { Component, HostBinding, OnInit, ViewChild, OnDestroy } from '@angular/core';
 import { Store } from '@ngrx/store';
 import { Observable, Subscription } from 'rxjs';
-import { ConfirmationService, Confirmation, LazyLoadEvent } from 'primeng/api';
+import { LazyLoadEvent } from 'primeng/api';
 import { map, switchMap } from 'rxjs/operators';
 import * as fromSites from '../../../store/site.state';
 import { ActivatedRoute, Params, Router } from '@angular/router';
 import { Member } from '../../../model/user/member';
 import { Site } from '../../../model/site/site';
 import { getAllMembers, getMembersTotalCount, getMemberLoadingGetAll } from '../../../store/members/member.state';
-import { remove, loadAllByPost, load, openDialogNew, openDialogEdit } from '../../../store/members/members-actions';
+import { multiRemove, loadAllByPost, load, openDialogNew, openDialogEdit } from '../../../store/members/members-actions';
 import { BiaTableComponent } from 'src/app/shared/bia-shared/components/table/bia-table/bia-table.component';
 import { BiaListConfig, PrimeTableColumn } from 'src/app/shared/bia-shared/components/table/bia-table/bia-table-config';
 import { AppState } from 'src/app/store/state';
-import { BiaDialogService } from 'src/app/core/bia-core/services/bia-dialog.service';
 import { Role } from 'src/app/domains/role/model/role';
 import { getAllRoles } from 'src/app/domains/role/store/role.state';
 import { DEFAULT_PAGE_SIZE } from 'src/app/shared/constants';
@@ -30,8 +29,7 @@ interface MemberListVM {
 @Component({
   selector: 'app-members-index',
   templateUrl: './members-index.component.html',
-  styleUrls: ['./members-index.component.scss'],
-  providers: [ConfirmationService]
+  styleUrls: ['./members-index.component.scss']
 })
 export class MembersIndexComponent implements OnInit, OnDestroy {
   @HostBinding('class.bia-flex') flex = true;
@@ -44,6 +42,7 @@ export class MembersIndexComponent implements OnInit, OnDestroy {
   totalRecords: number;
   roles: Role[];
   members$: Observable<MemberListVM[]>;
+  selectedMembers: MemberListVM[];
   totalCount$: Observable<number>;
   private sub = new Subscription();
   siteRoute = ['/sites'];
@@ -60,8 +59,6 @@ export class MembersIndexComponent implements OnInit, OnDestroy {
   constructor(
     private route: ActivatedRoute,
     private store: Store<AppState>,
-    private confirmationService: ConfirmationService,
-    private biaDialogService: BiaDialogService,
     private router: Router,
     private authService: AuthService
   ) {}
@@ -91,14 +88,14 @@ export class MembersIndexComponent implements OnInit, OnDestroy {
     this.store.dispatch(openDialogEdit());
   }
 
-  onRemove(memberId: number) {
-    const confirmation: Confirmation = {
-      ...this.biaDialogService.getDeleteConfirmation(),
-      accept: () => {
-        this.store.dispatch(remove({ id: memberId }));
-      }
-    };
-    this.confirmationService.confirm(confirmation);
+  onDelete() {
+    if (this.selectedMembers) {
+      this.store.dispatch(multiRemove({ ids: this.selectedMembers.map((x) => x.id) }));
+    }
+  }
+
+  onSelectedElementsChanged(planes: MemberListVM[]) {
+    this.selectedMembers = planes;
   }
 
   onPageSizeChange(pageSize: number) {
@@ -146,7 +143,6 @@ export class MembersIndexComponent implements OnInit, OnDestroy {
 
   private initTableConfiguration() {
     this.tableConfiguration = {
-      customButtons: [],
       columns: [
         Object.assign(new PrimeTableColumn('displayName', 'member.user'), {
           isSortable: false,
diff --git a/Angular/src/app/features/sites/views/sites-index/sites-index.component.html b/Angular/src/app/features/sites/views/sites-index/sites-index.component.html
index 6caa86f..5460940 100644
--- a/Angular/src/app/features/sites/views/sites-index/sites-index.component.html
+++ b/Angular/src/app/features/sites/views/sites-index/sites-index.component.html
@@ -8,15 +8,19 @@
     (close)="onCloseFilter()"
   ></app-site-filter>
   <div fxFlex="100">
-    <bia-table-header
+    <app-site-table-header
       [headerTitle]="'site.listOf' | translate"
       [haveFilter]="haveFilter"
       [showFilter]="showFilter"
       [showBtnFilter]="true"
       [canAdd]="canAdd"
+      [canManageMembers]="canManageMembers"
       (create)="onCreate()"
       (openFilter)="onOpenFilter()"
-    ></bia-table-header>
+      (delete)="onDelete()"
+      (manageMembers)="onManageMember()"
+      [selectedElements]="selectedSites"
+    ></app-site-table-header>
     <bia-table-controller
       [defaultPageSize]="defaultPageSize"
       [length]="totalCount$ | async"
@@ -37,18 +41,16 @@
       [showColSearch]="showColSearch"
       [globalSearchValue]="globalSearchValue"
       [canEdit]="canEdit"
-      [canDelete]="canDelete"
+      [canSelectElement]="canDelete"
       [loading]="loading$ | async"
       (edit)="onEdit($event)"
-      (remove)="onRemove($event)"
-      (action1)="onManageMember($event)"
       (loadLazy)="onLoadLazy($event)"
       [viewPreference]="viewPreference"
       [advancedFilter]="advancedFilter"
+      (selectedElementsChanged)="onSelectedElementsChanged($event)"
     ></bia-table>
   </div>
 </div>
-<p-confirmDialog></p-confirmDialog>
 <!-- begin popup mode -->
 <app-site-edit-dialog></app-site-edit-dialog>
 <app-site-new-dialog></app-site-new-dialog>
diff --git a/Angular/src/app/features/sites/views/sites-index/sites-index.component.ts b/Angular/src/app/features/sites/views/sites-index/sites-index.component.ts
index ea19891..a058c91 100644
--- a/Angular/src/app/features/sites/views/sites-index/sites-index.component.ts
+++ b/Angular/src/app/features/sites/views/sites-index/sites-index.component.ts
@@ -1,15 +1,14 @@
 import { Component, HostBinding, OnInit } from '@angular/core';
 import { Store } from '@ngrx/store';
 import { getAllSites, getSitesTotalCount, getSiteLoadingGetAll } from '../../store/site.state';
-import { remove, loadAllByPost, load, openDialogNew, openDialogEdit } from '../../store/sites-actions';
+import { multiRemove, loadAllByPost, load, openDialogNew, openDialogEdit } from '../../store/sites-actions';
 import { Observable } from 'rxjs';
-import { ConfirmationService, Confirmation, LazyLoadEvent } from 'primeng/api';
+import { LazyLoadEvent } from 'primeng/api';
 import { map } from 'rxjs/operators';
 import { SiteInfo } from '../../model/site/site-info';
 import { SiteMember } from '../../model/site/site-member';
 import { BiaListConfig, PrimeTableColumn } from 'src/app/shared/bia-shared/components/table/bia-table/bia-table-config';
 import { AppState } from 'src/app/store/state';
-import { BiaDialogService } from 'src/app/core/bia-core/services/bia-dialog.service';
 import { User } from 'src/app/domains/user/model/user';
 import { loadAllByFilter } from 'src/app/domains/user/store/users-actions';
 import { getAllUsers } from 'src/app/domains/user/store/user.state';
@@ -29,8 +28,7 @@ interface SiteListVM {
 @Component({
   selector: 'app-sites-index',
   templateUrl: './sites-index.component.html',
-  styleUrls: ['./sites-index.component.scss'],
-  providers: [ConfirmationService]
+  styleUrls: ['./sites-index.component.scss']
 })
 export class SitesIndexComponent implements OnInit {
   @HostBinding('class.bia-flex') flex = true;
@@ -41,6 +39,7 @@ export class SitesIndexComponent implements OnInit {
   totalRecords: number;
   users$: Observable<User[]>;
   sites$: Observable<SiteListVM[]>;
+  selectedSites: SiteListVM[];
   totalCount$: Observable<number>;
   loading$: Observable<boolean>;
   showFilter = false;
@@ -49,19 +48,14 @@ export class SitesIndexComponent implements OnInit {
   canEdit = false;
   canDelete = false;
   canAdd = false;
+  canManageMembers = false;
   tableConfiguration: BiaListConfig;
   columns: KeyValuePair[];
   displayedColumns: KeyValuePair[];
   viewPreference: string;
   advancedFilter: SiteAdvancedFilter;
 
-  constructor(
-    private store: Store<AppState>,
-    private confirmationService: ConfirmationService,
-    private biaDialogService: BiaDialogService,
-    private authService: AuthService,
-    private router: Router
-  ) {}
+  constructor(private store: Store<AppState>, private authService: AuthService, private router: Router) {}
 
   ngOnInit() {
     this.initTableConfiguration();
@@ -81,18 +75,20 @@ export class SitesIndexComponent implements OnInit {
     this.store.dispatch(openDialogEdit());
   }
 
-  onRemove(siteId: number) {
-    const confirmation: Confirmation = {
-      ...this.biaDialogService.getDeleteConfirmation(),
-      accept: () => {
-        this.store.dispatch(remove({ id: siteId }));
-      }
-    };
-    this.confirmationService.confirm(confirmation);
+  onDelete() {
+    if (this.selectedSites) {
+      this.store.dispatch(multiRemove({ ids: this.selectedSites.map((x) => x.id) }));
+    }
   }
 
-  onManageMember(siteId: number) {
-    this.router.navigate(['/sites', siteId, 'members']);
+  onSelectedElementsChanged(planesTypes: SiteListVM[]) {
+    this.selectedSites = planesTypes;
+  }
+
+  onManageMember() {
+    if (this.selectedSites && this.selectedSites.length === 1) {
+      this.router.navigate(['/sites', this.selectedSites[0].id, 'members']);
+    }
   }
 
   onPageSizeChange(pageSize: number) {
@@ -175,18 +171,11 @@ export class SitesIndexComponent implements OnInit {
     this.canEdit = this.authService.hasPermission(Permission.Site_Update);
     this.canDelete = this.authService.hasPermission(Permission.Site_Delete);
     this.canAdd = this.authService.hasPermission(Permission.Site_Create);
+    this.canManageMembers = this.authService.hasPermission(Permission.Member_List_Access);
   }
 
   private initTableConfiguration() {
     this.tableConfiguration = {
-      customButtons: [
-        {
-          classValue: 'ui-icon-assignment-ind  bia-pointer',
-          numEvent: 1,
-          pTooltipValue: 'member.manage',
-          permission: Permission.Member_List_Access
-        }
-      ],
       columns: [
         new PrimeTableColumn('title', 'site.title'),
         Object.assign(new PrimeTableColumn('siteAdmin', 'site.admins'), {
diff --git a/Angular/src/app/features/users/components/user-table-header/user-table-header.component.html b/Angular/src/app/features/users/components/user-table-header/user-table-header.component.html
index b3fb09c..60d3a87 100644
--- a/Angular/src/app/features/users/components/user-table-header/user-table-header.component.html
+++ b/Angular/src/app/features/users/components/user-table-header/user-table-header.component.html
@@ -19,6 +19,15 @@
         pTooltip="{{ 'msg.showFilters' | translate }}"
       ></button>
     </ng-container>
+    <button
+      pButton
+      [disabled]="nbSelectedElements === 0"
+      *ngIf="canDelete"
+      label="{{ 'bia.delete' | translate }}"
+      (click)="onDelete()"
+    ></button>
+  </div>
+  <div fxLayout="row" fxLayoutGap="8px" fxLayoutAlign="stretch center">
     <h1>{{ headerTitle }}</h1>
   </div>
   <div fxLayout="row" fxLayoutGap="8px" fxLayoutAlign="stretch center">
@@ -29,12 +38,15 @@
       (click)="onBack()"
       *ngIf="canBack"
     ></button>
-    <button pButton *ngIf="canSync" class="ui-button-secondary" label="{{ 'bia.synchronize' | translate }}" (click)="synchronize.emit()"></button>
     <button pButton *ngIf="canExportCSV" class="ui-button-secondary" label="CSV" (click)="exportCSV.emit()"></button>
+    <button
+      pButton
+      *ngIf="canSync"
+      class="ui-button-secondary"
+      label="{{ 'bia.synchronize' | translate }}"
+      (click)="synchronize.emit()"
+    ></button>
     <button pButton *ngIf="canAdd" label="{{ 'bia.add' | translate }}" (click)="onCreate()"></button>
   </div>
 </div>
-
-
-
-
+<p-confirmDialog></p-confirmDialog>
diff --git a/Angular/src/app/features/users/components/user-table-header/user-table-header.component.scss b/Angular/src/app/features/users/components/user-table-header/user-table-header.component.scss
index 219c3b3..e69de29 100644
--- a/Angular/src/app/features/users/components/user-table-header/user-table-header.component.scss
+++ b/Angular/src/app/features/users/components/user-table-header/user-table-header.component.scss
@@ -1,14 +0,0 @@
-.header {
-  margin-bottom: 15px;
-  margin-top: 15px;
-  h1 {
-    font-family: 'raleway-thin', serif;
-    font-size: 36px;
-    font-weight: 200;
-    margin: 0px;
-  }
-}
-
-
-
-
diff --git a/Angular/src/app/features/users/components/user-table-header/user-table-header.component.ts b/Angular/src/app/features/users/components/user-table-header/user-table-header.component.ts
index afbc128..3d16d62 100644
--- a/Angular/src/app/features/users/components/user-table-header/user-table-header.component.ts
+++ b/Angular/src/app/features/users/components/user-table-header/user-table-header.component.ts
@@ -1,46 +1,17 @@
-import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';
-import { Location } from '@angular/common';
-import { Router } from '@angular/router';
+import { Component, Input, Output, EventEmitter } from '@angular/core';
+import { ConfirmationService } from 'primeng';
+import { BiaTableHeaderComponent } from 'src/app/shared/bia-shared/components/table/bia-table-header/bia-table-header.component';
 
 @Component({
-  selector: 'user-table-header',
+  selector: 'app-user-table-header',
   templateUrl: './user-table-header.component.html',
-  styleUrls: ['./user-table-header.component.scss']
+  styleUrls: [
+    '../../../../shared/bia-shared/components/table/bia-table-header/bia-table-header.component.scss',
+    './user-table-header.component.scss'
+  ],
+  providers: [ConfirmationService]
 })
-export class UserTableHeaderComponent implements OnInit {
-  @Input() haveFilter = false;
-  @Input() showFilter = false;
-  @Input() showBtnFilter = false;
+export class UserTableHeaderComponent extends BiaTableHeaderComponent {
   @Input() canSync = false;
-  @Input() canAdd = false;
-  @Input() canBack = false;
-  @Input() canExportCSV = false;
-  @Input() headerTitle: string;
-  @Output() create = new EventEmitter();
-  @Output() openFilter = new EventEmitter();
-  @Output() exportCSV = new EventEmitter();
   @Output() synchronize = new EventEmitter();
-
-  constructor(private location: Location, private router: Router) {}
-
-  ngOnInit() {}
-
-  onBack() {
-    window.history.length > 1 ? this.location.back() : this.router.navigate(['/']);
-  }
-
-  onCreate() {
-    this.create.next();
-  }
-
-  toggleFilter() {
-    this.showFilter = !this.showFilter;
-    if (this.showFilter === true) {
-      this.openFilter.emit();
-    }
-  }
 }
-
-
-
-
diff --git a/Angular/src/app/features/users/store/users-actions.ts b/Angular/src/app/features/users/store/users-actions.ts
index f8058cd..16c098c 100644
--- a/Angular/src/app/features/users/store/users-actions.ts
+++ b/Angular/src/app/features/users/store/users-actions.ts
@@ -14,6 +14,8 @@ export const update = createAction('[Users] Update', props<{ user: User }>());
 
 export const remove = createAction('[Users] Remove', props<{ id: number }>());
 
+export const multiRemove = createAction('[Users] Multi Remove', props<{ ids: number[] }>());
+
 export const save = createAction('[Users] Save', props<{ usersFromAD: UserFromAD[] }>());
 
 export const synchronize = createAction('[Users] Synchronize');
diff --git a/Angular/src/app/features/users/store/users-effects.ts b/Angular/src/app/features/users/store/users-effects.ts
index d9a1742..dba516a 100644
--- a/Angular/src/app/features/users/store/users-effects.ts
+++ b/Angular/src/app/features/users/store/users-effects.ts
@@ -10,6 +10,7 @@ import {
   loadAllByPostSuccess,
   loadSuccess,
   remove,
+  multiRemove,
   update,
   save,
   synchronize
@@ -133,6 +134,26 @@ export class UsersEffects {
     )
   );
 
+  multiDestroy$ = createEffect(() =>
+    this.actions$.pipe(
+      ofType(multiRemove),
+      pluck('ids'),
+      concatMap((ids: number[]) => of(ids).pipe(withLatestFrom(this.store.select(getLastLazyLoadEvent)))),
+      switchMap(([ids, event]) => {
+        return this.userDas.deletes(ids).pipe(
+          map(() => {
+            this.biaMessageService.showDeleteSuccess();
+            return loadAllByPost({ event: event });
+          }),
+          catchError((err) => {
+            this.biaMessageService.showError();
+            return of(failure({ err: { concern: 'CREATE', error: err } }));
+          })
+        );
+      })
+    )
+  );
+
   save$ = createEffect(() =>
     this.actions$.pipe(
       ofType(save),
diff --git a/Angular/src/app/features/users/views/users-index/users-index.component.html b/Angular/src/app/features/users/views/users-index/users-index.component.html
index 7da1fb6..b07dced 100644
--- a/Angular/src/app/features/users/views/users-index/users-index.component.html
+++ b/Angular/src/app/features/users/views/users-index/users-index.component.html
@@ -1,12 +1,14 @@
 <div fxLayout fxLayout.xs="column" fxLayoutWrap="wrap">
   <div fxFlex="100">
-    <user-table-header
+    <app-user-table-header
       [headerTitle]="'user.listOf' | translate"
       [canSync]="canSync"
       [canAdd]="canAdd"
       (create)="onCreate()"
       (synchronize)="onSynchronize()"
-    ></user-table-header>
+      (delete)="onDelete()"
+      [selectedElements]="selectedUsers"
+    ></app-user-table-header>
     <bia-table-controller
       [defaultPageSize]="pageSize"
       [length]="totalCount$ | async"
@@ -27,12 +29,11 @@
       [showColSearch]="showColSearch"
       [globalSearchValue]="globalSearchValue"
       [canEdit]="false"
-      [canDelete]="canDelete"
-      (remove)="onRemove($event)"
+      [canSelectElement]="canDelete"
       (loadLazy)="onLoadLazy($event)"
       [viewPreference]="viewPreference"
+      (selectedElementsChanged)="onSelectedElementsChanged($event)"
     ></bia-table>
   </div>
 </div>
-<p-confirmDialog></p-confirmDialog>
 <app-user-new-dialog [(display)]="displayNewUserDialog"></app-user-new-dialog>
diff --git a/Angular/src/app/features/users/views/users-index/users-index.component.ts b/Angular/src/app/features/users/views/users-index/users-index.component.ts
index 343c5d3..df66532 100644
--- a/Angular/src/app/features/users/views/users-index/users-index.component.ts
+++ b/Angular/src/app/features/users/views/users-index/users-index.component.ts
@@ -1,14 +1,13 @@
 import { Component, HostBinding, OnInit, ViewChild } from '@angular/core';
 import { Store } from '@ngrx/store';
 import { getAllUsers, getUsersTotalCount } from '../../store/user.state';
-import { remove, loadAllByPost, synchronize } from '../../store/users-actions';
+import { multiRemove, loadAllByPost, synchronize } from '../../store/users-actions';
 import { Observable } from 'rxjs';
-import { ConfirmationService, Confirmation, LazyLoadEvent } from 'primeng/api';
+import { LazyLoadEvent } from 'primeng/api';
 import { User } from 'src/app/domains/user/model/user';
 import { BiaTableComponent } from 'src/app/shared/bia-shared/components/table/bia-table/bia-table.component';
 import { BiaListConfig, PrimeTableColumn } from 'src/app/shared/bia-shared/components/table/bia-table/bia-table-config';
 import { AppState } from 'src/app/store/state';
-import { BiaDialogService } from 'src/app/core/bia-core/services/bia-dialog.service';
 import { DEFAULT_PAGE_SIZE } from 'src/app/shared/constants';
 import { AuthService } from 'src/app/core/bia-core/services/auth.service';
 import { Permission } from 'src/app/shared/permission';
@@ -17,8 +16,7 @@ import { KeyValuePair } from 'src/app/shared/bia-shared/model/key-value-pair';
 @Component({
   selector: 'app-users-index',
   templateUrl: './users-index.component.html',
-  styleUrls: ['./users-index.component.scss'],
-  providers: [ConfirmationService]
+  styleUrls: ['./users-index.component.scss']
 })
 export class UsersIndexComponent implements OnInit {
   @HostBinding('class.bia-flex') flex = true;
@@ -28,6 +26,7 @@ export class UsersIndexComponent implements OnInit {
   pageSize = DEFAULT_PAGE_SIZE;
   totalRecords: number;
   users$: Observable<User[]>;
+  selectedUsers: User[];
   totalCount$: Observable<number>;
   displayEditUserDialog = false;
   displayNewUserDialog = false;
@@ -37,7 +36,6 @@ export class UsersIndexComponent implements OnInit {
   viewPreference: string;
 
   tableConfiguration: BiaListConfig = {
-    customButtons: [],
     columns: [
       new PrimeTableColumn('lastName', 'user.lastName'),
       new PrimeTableColumn('firstName', 'user.firstName'),
@@ -53,8 +51,6 @@ export class UsersIndexComponent implements OnInit {
 
   constructor(
     private store: Store<AppState>,
-    private confirmationService: ConfirmationService,
-    private biaDialogService: BiaDialogService,
     private authService: AuthService
   ) {}
 
@@ -68,16 +64,17 @@ export class UsersIndexComponent implements OnInit {
     this.displayNewUserDialog = true;
   }
 
-  onRemove(userId: number) {
-    const confirmation: Confirmation = {
-      ...this.biaDialogService.getDeleteConfirmation(),
-      accept: () => {
-        this.store.dispatch(remove({ id: userId }));
-      }
-    };
-    this.confirmationService.confirm(confirmation);
+  onDelete() {
+    if (this.selectedUsers) {
+      this.store.dispatch(multiRemove({ ids: this.selectedUsers.map((x) => x.id) }));
+    }
   }
 
+onSelectedElementsChanged(planesTypes: User[]) {
+    this.selectedUsers = planesTypes;
+  }
+
+
   onPageSizeChange(pageSize: number) {
     this.pageSize = pageSize;
   }
diff --git a/Angular/src/app/shared/bia-shared/components/layout/classic-header/classic-header.component.html b/Angular/src/app/shared/bia-shared/components/layout/classic-header/classic-header.component.html
index 26deb82..52cb7be 100644
--- a/Angular/src/app/shared/bia-shared/components/layout/classic-header/classic-header.component.html
+++ b/Angular/src/app/shared/bia-shared/components/layout/classic-header/classic-header.component.html
@@ -72,8 +72,9 @@
   <nav fxFlex fxLayoutAlign="center">
     <p-menubar [model]="navMenuItems"></p-menubar>
   </nav>
-  <div *ngIf="helpUrl" class="help" fxLayoutAlign="center center">
-    <i class="ui-icon-help bia-mat-tiny-fab bia-pointer" (click)="openHelp()"></i>
+  <div class="action" fxLayoutAlign="space-evenly center">
+    <i *ngIf="reportUrl" class="ui-icon-insert-chart bia-mat-tiny-fab bia-pointer" pTooltip="{{ 'bia.report' | translate }}" (click)="openReport()"></i>
+    <i *ngIf="helpUrl" class="ui-icon-help bia-mat-tiny-fab bia-pointer" pTooltip="{{ 'bia.help' | translate }}" (click)="openHelp()"></i>
   </div>
 </ng-template>
-<p-toast key="bia"></p-toast>
+<p-toast key="bia"></p-toast>
\ No newline at end of file
diff --git a/Angular/src/app/shared/bia-shared/components/layout/classic-header/classic-header.component.scss b/Angular/src/app/shared/bia-shared/components/layout/classic-header/classic-header.component.scss
index 9445ca5..c8c3fdc 100644
--- a/Angular/src/app/shared/bia-shared/components/layout/classic-header/classic-header.component.scss
+++ b/Angular/src/app/shared/bia-shared/components/layout/classic-header/classic-header.component.scss
@@ -28,8 +28,10 @@
       text-transform: uppercase;
     }
   }
-  .help {
-    padding-right: 16px;
+
+  .action {
+    padding-right: 8px;
+    width: 80px;
   }
 
   .project-title {
diff --git a/Angular/src/app/shared/bia-shared/components/layout/classic-header/classic-header.component.ts b/Angular/src/app/shared/bia-shared/components/layout/classic-header/classic-header.component.ts
index 102dc43..8f2af67 100644
--- a/Angular/src/app/shared/bia-shared/components/layout/classic-header/classic-header.component.ts
+++ b/Angular/src/app/shared/bia-shared/components/layout/classic-header/classic-header.component.ts
@@ -6,8 +6,9 @@ import { TranslateService } from '@ngx-translate/core';
 import { BiaNavigation } from '../../../model/bia-navigation';
 import { Subscription, Observable } from 'rxjs';
 import { environment } from 'src/environments/environment';
-import { THEME_LIGHT, THEME_DARK, EnvironmentType } from 'src/app/shared/constants';
+import { THEME_LIGHT, THEME_DARK } from 'src/app/shared/constants';
 import { Site } from 'src/app/domains/site/model/site';
+import { EnvironmentType } from 'src/app/domains/environment-configuration/model/environment-configuration';
 
 @Component({
   selector: 'bia-classic-header',
@@ -43,6 +44,7 @@ export class ClassicHeaderComponent implements OnDestroy {
   @Input() supportedLangs: string[];
   @Input() allowThemeChange?: boolean;
   @Input() helpUrl?: string;
+  @Input() reportUrl?: string;
   allSites: Site[];
   @Input()
   set sites(sites: Site[]) {
@@ -93,8 +95,10 @@ export class ClassicHeaderComponent implements OnDestroy {
     this.fullscreenMode = !this.fullscreenMode;
     if (this.fullscreenMode === true) {
       this.layoutService.hideFooter();
+      this.layoutService.hideBreadcrumb();
     } else {
       this.layoutService.showFooter();
+      this.layoutService.showBreadcrumb();
     }
   }
 
@@ -108,6 +112,10 @@ export class ClassicHeaderComponent implements OnDestroy {
     window.open(this.helpUrl, 'blank');
   }
 
+  openReport() {
+    window.open(this.reportUrl, 'blank');
+  }
+
   private onChangeTheme(theme: string) {
     this.theme.emit(theme);
   }
diff --git a/Angular/src/app/shared/bia-shared/components/layout/classic-layout/bia-classic-layout.service.ts b/Angular/src/app/shared/bia-shared/components/layout/classic-layout/bia-classic-layout.service.ts
index de148b0..e1351ea 100644
--- a/Angular/src/app/shared/bia-shared/components/layout/classic-layout/bia-classic-layout.service.ts
+++ b/Angular/src/app/shared/bia-shared/components/layout/classic-layout/bia-classic-layout.service.ts
@@ -17,11 +17,13 @@ export class BiaClassicLayoutService {
   private mainBarPortal = new BehaviorSubject<Portal<any> | null>(null);
   private mainBarHidden = new BehaviorSubject<boolean>(false);
   private footerHidden = new BehaviorSubject<boolean>(false);
+  private breadcrumbHidden = new BehaviorSubject<boolean>(false);
 
   footerPortal$ = this.footerPortal.asObservable();
   mainBarPortal$ = this.mainBarPortal.asObservable();
   mainBarHidden$ = this.mainBarHidden.asObservable();
   footerHidden$ = this.footerHidden.asObservable();
+  breadcrumbHidden$ = this.breadcrumbHidden.asObservable();
 
   changeFooter<T, D>(
     componentOrTemplateRef: ComponentType<T> | TemplateRef<T> | null,
@@ -65,6 +67,14 @@ export class BiaClassicLayoutService {
     this.footerHidden.next(false);
   }
 
+  hideBreadcrumb() {
+    this.breadcrumbHidden.next(true);
+  }
+
+  showBreadcrumb() {
+    this.breadcrumbHidden.next(false);
+  }
+
   private setPortal<T, D>(
     portalSubject: BehaviorSubject<Portal<any> | null>,
     componentOrTemplateRef: ComponentType<T> | TemplateRef<T>,
diff --git a/Angular/src/app/shared/bia-shared/components/layout/classic-layout/classic-layout.component.html b/Angular/src/app/shared/bia-shared/components/layout/classic-layout/classic-layout.component.html
index ea48cf3..f204e29 100644
--- a/Angular/src/app/shared/bia-shared/components/layout/classic-layout/classic-layout.component.html
+++ b/Angular/src/app/shared/bia-shared/components/layout/classic-layout/classic-layout.component.html
@@ -7,6 +7,7 @@
   [supportedLangs]="supportedLangs"
   [allowThemeChange]="allowThemeChange"
   [helpUrl]="helpUrl"
+  [reportUrl]="reportUrl"
   [sites]="sites"
   [siteId]="siteId"
   [environmentType]="environmentType"
@@ -16,7 +17,7 @@
   (setDefaultSite)="onSetDefaultSite($event)"
 ></bia-classic-header>
 <section class="content">
-  <p-breadcrumb *ngIf="(layoutService.footerHidden$ | async) === false" [model]="menuItems"></p-breadcrumb>
+  <p-breadcrumb *ngIf="(layoutService.breadcrumbHidden$ | async) === false" [model]="menuItems"></p-breadcrumb>
   <ng-content></ng-content>
 </section>
 <bia-classic-footer
diff --git a/Angular/src/app/shared/bia-shared/components/layout/classic-layout/classic-layout.component.ts b/Angular/src/app/shared/bia-shared/components/layout/classic-layout/classic-layout.component.ts
index f37e38f..cbc067b 100644
--- a/Angular/src/app/shared/bia-shared/components/layout/classic-layout/classic-layout.component.ts
+++ b/Angular/src/app/shared/bia-shared/components/layout/classic-layout/classic-layout.component.ts
@@ -7,9 +7,10 @@ import { ActivatedRoute, Router, NavigationEnd } from '@angular/router';
 import { filter } from 'rxjs/operators';
 import { TranslateService } from '@ngx-translate/core';
 import { BiaNavigation } from '../../../model/bia-navigation';
-import { ROUTE_DATA_CAN_NAVIGATE, ROUTE_DATA_BREADCRUMB, APP_SUPPORTED_TRANSLATIONS, EnvironmentType } from 'src/app/shared/constants';
+import { ROUTE_DATA_CAN_NAVIGATE, ROUTE_DATA_BREADCRUMB, APP_SUPPORTED_TRANSLATIONS } from 'src/app/shared/constants';
 import { Subscription } from 'rxjs';
 import { Site } from 'src/app/domains/site/model/site';
+import { EnvironmentType } from 'src/app/domains/environment-configuration/model/environment-configuration';
 
 @Component({
   selector: 'bia-classic-layout',
@@ -30,6 +31,7 @@ export class ClassicLayoutComponent implements OnInit, OnDestroy {
   @Input() allowThemeChange = true;
   @Input() companyName = 'BIA';
   @Input() helpUrl?: string;
+  @Input() reportUrl?: string;
   @Input() sites: Site;
   @Input() siteId: number;
   @Input() environmentType: EnvironmentType;
diff --git a/Angular/src/app/shared/bia-shared/components/layout/layout.component.ts b/Angular/src/app/shared/bia-shared/components/layout/layout.component.ts
index 0e27f34..a1c625f 100644
--- a/Angular/src/app/shared/bia-shared/components/layout/layout.component.ts
+++ b/Angular/src/app/shared/bia-shared/components/layout/layout.component.ts
@@ -1,10 +1,9 @@
 import { Component, HostBinding, OnInit } from '@angular/core';
 import { environment } from 'src/environments/environment';
-import { APP_SUPPORTED_TRANSLATIONS, THEME_LIGHT, THEME_DARK, EnvironmentType } from '../../../constants';
+import { APP_SUPPORTED_TRANSLATIONS, THEME_LIGHT, THEME_DARK } from '../../../constants';
 import { AuthInfo } from '../../model/auth-info';
 import { AuthService } from 'src/app/core/bia-core/services/auth.service';
 import { BiaThemeService } from 'src/app/core/bia-core/services/bia-theme.service';
-import { BiaEnvironmentService } from 'src/app/core/bia-core/services/bia-environment.service';
 import { NavigationService } from 'src/app/core/bia-core/services/navigation.service';
 import { BiaTranslationService } from 'src/app/core/bia-core/services/bia-translation.service';
 import { BiaNavigation } from '../../model/bia-navigation';
@@ -14,7 +13,11 @@ import { AppState } from '../../../../store/state';
 import { Observable } from 'rxjs';
 import { Site } from 'src/app/domains/site/model/site';
 import { getAllSites } from 'src/app/domains/site/store/site.state';
-import { loadAllSites, setDefaultSite } from 'src/app/domains/site/store/sites-actions';
+import { setDefaultSite } from 'src/app/domains/site/store/sites-actions';
+import { getLocaleId } from 'src/app/app.module';
+import { filter, map } from 'rxjs/operators';
+import { EnvironmentType } from 'src/app/domains/environment-configuration/model/environment-configuration';
+import { getEnvironmentConfiguration } from 'src/app/domains/environment-configuration/store/environment-configuration.state';
 
 @Component({
   selector: 'app-bia-layout',
@@ -28,6 +31,8 @@ import { loadAllSites, setDefaultSite } from 'src/app/domains/site/store/sites-a
       [footerLogo]="footerLogo"
       [supportedLangs]="supportedLangs"
       [appTitle]="appTitle"
+      [helpUrl]="helpUrl"
+      [reportUrl]="reportUrl"
       [sites]="sites$ | async"
       [siteId]="currentSiteId"
       [environmentType]="environmentType$ | async"
@@ -47,12 +52,14 @@ export class LayoutComponent implements OnInit {
   version = environment.version;
   appTitle = environment.appTitle;
   companyName = environment.companyName;
+  helpUrl = environment.helpUrl;
+  reportUrl = environment.reportUrl;
   username = '';
   headerLogos: string[];
   footerLogo = 'assets/bia/Footer.png';
   supportedLangs = APP_SUPPORTED_TRANSLATIONS;
   sites$: Observable<Site[]>;
-  environmentType$: Observable<EnvironmentType>;
+  environmentType$: Observable<EnvironmentType | null>;
   currentSiteId: number;
 
   constructor(
@@ -60,19 +67,21 @@ export class LayoutComponent implements OnInit {
     private navigationService: NavigationService,
     private authService: AuthService,
     private biaThemeService: BiaThemeService,
-    private biaEnvironmentService: BiaEnvironmentService,
     private store: Store<AppState>
   ) {}
 
   ngOnInit() {
-    this.initEnvironment();
+    this.initEnvironmentType();
     this.initSites();
     this.setAllParamByUserInfo();
     this.initHeaderLogos();
   }
 
-  private initEnvironment() {
-    this.environmentType$ = this.biaEnvironmentService.getType();
+  private initEnvironmentType() {
+    this.environmentType$ = this.store.select(getEnvironmentConfiguration).pipe(
+      filter((envConf) => !!envConf),
+      map((envConf) => (envConf ? envConf.type : null))
+    );
   }
 
   private initSites() {
@@ -102,7 +111,6 @@ export class LayoutComponent implements OnInit {
     this.isLoadingUserInfo = true;
     this.authService.authInfo$.subscribe((authInfo: AuthInfo | null) => {
       if (authInfo) {
-        this.store.dispatch(loadAllSites());
         this.setCurrentSiteId(authInfo);
         this.setUserName(authInfo);
         this.setLanguage(authInfo);
@@ -135,13 +143,12 @@ export class LayoutComponent implements OnInit {
     const langSelected: string | null = this.biaTranslationService.getLangSelected();
     if (langSelected) {
       this.biaTranslationService.loadAndChangeLanguage(langSelected);
-    } else if (
-      authInfo &&
-      authInfo.additionalInfos &&
-      authInfo.additionalInfos.userInfo &&
-      authInfo.additionalInfos.userInfo.language
-    ) {
-      this.biaTranslationService.loadAndChangeLanguage(authInfo.additionalInfos.userInfo.language);
+    } else if (authInfo && authInfo.additionalInfos && authInfo.additionalInfos.userInfo) {
+      const language: string =
+        authInfo.additionalInfos.userInfo.language && authInfo.additionalInfos.userInfo.language.length > 0
+          ? authInfo.additionalInfos.userInfo.language
+          : getLocaleId();
+      this.biaTranslationService.loadAndChangeLanguage(language);
     }
   }
 
diff --git a/Angular/src/app/shared/bia-shared/components/table/bia-table-controller/bia-table-controller.component.ts b/Angular/src/app/shared/bia-shared/components/table/bia-table-controller/bia-table-controller.component.ts
index 76c1830..6082f29 100644
--- a/Angular/src/app/shared/bia-shared/components/table/bia-table-controller/bia-table-controller.component.ts
+++ b/Angular/src/app/shared/bia-shared/components/table/bia-table-controller/bia-table-controller.component.ts
@@ -44,6 +44,7 @@ export class BiaTableControllerComponent implements OnChanges, OnInit, OnDestroy
   globalFilter = '';
   displayedColumns: string[];
   defaultDisplayedColumns: string[];
+  firstChange = true;
 
   private sub = new Subscription();
 
@@ -88,7 +89,13 @@ export class BiaTableControllerComponent implements OnChanges, OnInit, OnDestroy
   }
 
   private onColumnsChange(changes: SimpleChanges) {
-    if (this.columns && this.columnToDisplays && (changes.columns || changes.columnToDisplays)) {
+    if (
+      this.firstChange === true &&
+      this.columns &&
+      this.columnToDisplays &&
+      (changes.columns || changes.columnToDisplays)
+    ) {
+      this.firstChange = false;
       const cols = this.columns.map((x) => x.value);
       this.defaultDisplayedColumns = this.columnToDisplays.map((x) => x.key);
       this.displayedColumns = this.defaultDisplayedColumns;
diff --git a/Angular/src/app/shared/bia-shared/components/table/bia-table-header/bia-table-header.component.html b/Angular/src/app/shared/bia-shared/components/table/bia-table-header/bia-table-header.component.html
index 3495603..f8abb7d 100644
--- a/Angular/src/app/shared/bia-shared/components/table/bia-table-header/bia-table-header.component.html
+++ b/Angular/src/app/shared/bia-shared/components/table/bia-table-header/bia-table-header.component.html
@@ -19,6 +19,15 @@
         pTooltip="{{ 'msg.showFilters' | translate }}"
       ></button>
     </ng-container>
+    <button
+      pButton
+      [disabled]="nbSelectedElements === 0"
+      *ngIf="canDelete"
+      label="{{ 'bia.delete' | translate }}"
+      (click)="onDelete()"
+    ></button>
+  </div>
+  <div fxLayout="row" fxLayoutGap="8px" fxLayoutAlign="stretch center">
     <h1>{{ headerTitle }}</h1>
   </div>
   <div fxLayout="row" fxLayoutGap="8px" fxLayoutAlign="stretch center">
@@ -33,3 +42,4 @@
     <button pButton *ngIf="canAdd" label="{{ 'bia.add' | translate }}" (click)="onCreate()"></button>
   </div>
 </div>
+<p-confirmDialog></p-confirmDialog>
diff --git a/Angular/src/app/shared/bia-shared/components/table/bia-table-header/bia-table-header.component.ts b/Angular/src/app/shared/bia-shared/components/table/bia-table-header/bia-table-header.component.ts
index 117b901..0d9d18c 100644
--- a/Angular/src/app/shared/bia-shared/components/table/bia-table-header/bia-table-header.component.ts
+++ b/Angular/src/app/shared/bia-shared/components/table/bia-table-header/bia-table-header.component.ts
@@ -1,27 +1,47 @@
-import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';
+import { Component, Input, Output, EventEmitter, OnChanges, ChangeDetectionStrategy } from '@angular/core';
 import { Location } from '@angular/common';
 import { Router } from '@angular/router';
+import { ConfirmationService, Confirmation } from 'primeng/api';
+import { BiaDialogService } from 'src/app/core/bia-core/services/bia-dialog.service';
 
 @Component({
   selector: 'bia-table-header',
   templateUrl: './bia-table-header.component.html',
-  styleUrls: ['./bia-table-header.component.scss']
+  styleUrls: ['./bia-table-header.component.scss'],
+  providers: [ConfirmationService],
+  changeDetection: ChangeDetectionStrategy.Default
 })
-export class BiaTableHeaderComponent implements OnInit {
+export class BiaTableHeaderComponent implements OnChanges {
   @Input() haveFilter = false;
   @Input() showFilter = false;
   @Input() showBtnFilter = false;
   @Input() canAdd = true;
+  @Input() canDelete = true;
   @Input() canBack = false;
   @Input() canExportCSV = false;
   @Input() headerTitle: string;
+  @Input() selectedElements: any[];
   @Output() create = new EventEmitter();
+  @Output() delete = new EventEmitter();
   @Output() openFilter = new EventEmitter();
   @Output() exportCSV = new EventEmitter();
 
-  constructor(protected location: Location, protected router: Router) {}
+  nbSelectedElements = 0;
 
-  ngOnInit() {}
+  constructor(
+    protected location: Location,
+    protected router: Router,
+    private confirmationService: ConfirmationService,
+    private biaDialogService: BiaDialogService
+  ) {}
+
+  ngOnChanges() {
+    if (this.selectedElements) {
+      this.nbSelectedElements = this.selectedElements.length;
+    } else {
+      this.nbSelectedElements = 0;
+    }
+  }
 
   onBack() {
     window.history.length > 1 ? this.location.back() : this.router.navigate(['/']);
@@ -31,6 +51,16 @@ export class BiaTableHeaderComponent implements OnInit {
     this.create.next();
   }
 
+  onDelete() {
+    const confirmation: Confirmation = {
+      ...this.biaDialogService.getDeleteConfirmation(),
+      accept: () => {
+        this.delete.next();
+      }
+    };
+    this.confirmationService.confirm(confirmation);
+  }
+
   toggleFilter() {
     this.showFilter = !this.showFilter;
     if (this.showFilter === true) {
diff --git a/Angular/src/app/shared/bia-shared/components/table/bia-table/bia-table-config.ts b/Angular/src/app/shared/bia-shared/components/table/bia-table/bia-table-config.ts
index c76cef2..5be7862 100644
--- a/Angular/src/app/shared/bia-shared/components/table/bia-table/bia-table-config.ts
+++ b/Angular/src/app/shared/bia-shared/components/table/bia-table/bia-table-config.ts
@@ -46,6 +46,5 @@ export class PrimeTableColumn {
 }
 
 export interface BiaListConfig {
-  customButtons: CustomButton[];
   columns: PrimeTableColumn[];
 }
diff --git a/Angular/src/app/shared/bia-shared/components/table/bia-table/bia-table.component.html b/Angular/src/app/shared/bia-shared/components/table/bia-table/bia-table.component.html
index fbf397e..6e94a70 100644
--- a/Angular/src/app/shared/bia-shared/components/table/bia-table/bia-table.component.html
+++ b/Angular/src/app/shared/bia-shared/components/table/bia-table/bia-table.component.html
@@ -5,7 +5,7 @@
   [reorderableColumns]="true"
   [columns]="displayedColumns"
   [value]="elements"
-  [paginator]="true"
+  [paginator]="paginator"
   [rows]="pageSize"
   (onFilter)="onFilter()"
   [totalRecords]="totalRecord"
@@ -18,9 +18,13 @@
   [sortField]="sortFieldValue"
   [sortOrder]="sortOrderValue"
   (onStateSave)="onStateSave($event)"
+  (selectionChange)="onSelectionChange()"
 >
   <ng-template pTemplate="header" let-columns>
     <tr>
+      <th *ngIf="canSelectElement">
+        <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
+      </th>
       <ng-container *ngFor="let col of columns">
         <th *ngIf="col?.isSortable === true" [pSortableColumn]="col.field">
           {{ col?.header | translate }}
@@ -30,9 +34,6 @@
           {{ col?.header | translate }}
         </th>
       </ng-container>
-      <th *ngIf="showActionCol()" class="app-last-col">
-        {{ actionColumnLabel | translate }}
-      </th>
     </tr>
     <tr *ngIf="showColSearch">
       <th *ngFor="let col of columns" [ngSwitch]="col.field">
@@ -48,12 +49,14 @@
           />
         </span>
       </th>
-      <th *ngIf="showActionCol()" class="app-last-col"></th>
     </tr>
   </ng-template>
   <ng-template pTemplate="body" let-rowData let-columns="columns">
     <tr [pSelectableRow]="rowData">
-      <td *ngFor="let col of columns">
+      <td *ngIf="canSelectElement">
+        <p-tableCheckbox [value]="rowData"></p-tableCheckbox>
+      </td>
+      <td (click)="editElement(rowData.id)" *ngFor="let col of columns">
         <ng-container *ngIf="col.type === 'Boolean'">
           <i class="ui-icon-check" *ngIf="rowData[col.field] === true"></i>
         </ng-container>
@@ -61,38 +64,6 @@
           {{ col.type === 'Date' ? (rowData[col.field] | date: col.formatDate) : rowData[col.field] }}
         </ng-container>
       </td>
-      <td *ngIf="showActionCol()" class="app-last-col">
-        <div fxLayout="row" fxLayoutGap="2px" fxLayoutAlign="end end">
-          <ng-container *ngIf="configuration?.customButtons?.length > 0">
-            <ng-container *ngFor="let customButton of configuration?.customButtons">
-              <i
-                *ngIf="hasPermission(customButton.permission)"
-                class="{{ customButton.classValue }}"
-                (click)="actionElement(customButton.numEvent, rowData.id)"
-                pTooltip="{{ customButton.pTooltipValue | translate }}"
-                tooltipPosition="top"
-                placeholder="Top"
-              ></i>
-            </ng-container>
-          </ng-container>
-          <i
-            *ngIf="canEdit"
-            class="ui-icon-edit bia-pointer"
-            (click)="editElement(rowData.id)"
-            pTooltip="{{ 'bia.edit' | translate }}"
-            tooltipPosition="top"
-            placeholder="Top"
-          ></i>
-          <i
-            *ngIf="canDelete"
-            class="ui-icon-delete bia-pointer"
-            (click)="deleteElement(rowData.id)"
-            pTooltip="{{ 'bia.delete' | translate }}"
-            tooltipPosition="top"
-            placeholder="Top"
-          ></i>
-        </div>
-      </td>
     </tr>
   </ng-template>
   <ng-template pTemplate="emptymessage" let-columns>
diff --git a/Angular/src/app/shared/bia-shared/components/table/bia-table/bia-table.component.scss b/Angular/src/app/shared/bia-shared/components/table/bia-table/bia-table.component.scss
index 06cb77f..1d806ba 100644
--- a/Angular/src/app/shared/bia-shared/components/table/bia-table/bia-table.component.scss
+++ b/Angular/src/app/shared/bia-shared/components/table/bia-table/bia-table.component.scss
@@ -6,10 +6,6 @@
   width: 99%;
 }
 
-.app-last-col {
-  width: 120px !important;
-}
-
 .app-empty-message {
   text-align: center;
 }
diff --git a/Angular/src/app/shared/bia-shared/components/table/bia-table/bia-table.component.ts b/Angular/src/app/shared/bia-shared/components/table/bia-table/bia-table.component.ts
index 43cdd5e..195ea95 100644
--- a/Angular/src/app/shared/bia-shared/components/table/bia-table/bia-table.component.ts
+++ b/Angular/src/app/shared/bia-shared/components/table/bia-table/bia-table.component.ts
@@ -15,6 +15,7 @@ import { Observable, timer, of } from 'rxjs';
 export class BiaTableComponent implements OnChanges {
   @Input() pageSize: number;
   @Input() totalRecord: number;
+  @Input() paginator = true;
   @Input() elements: any[];
   @Input() columnToDisplays: KeyValuePair[];
   @Input() sortFieldValue = '';
@@ -23,7 +24,8 @@ export class BiaTableComponent implements OnChanges {
   @Input() showColSearch = false;
   @Input() globalSearchValue = '';
   @Input() canEdit = true;
-  @Input() canDelete = true;
+
+  @Input() canSelectElement = true;
   @Input() loading = false;
   @Input() tableStateKey: string;
   @Input() viewPreference: string;
@@ -32,14 +34,10 @@ export class BiaTableComponent implements OnChanges {
   @Input() showLoadingAfter = 100;
 
   @Output() edit = new EventEmitter<number>();
-  @Output() remove = new EventEmitter<number>();
+
   @Output() filter = new EventEmitter<number>();
   @Output() loadLazy = new EventEmitter<LazyLoadEvent>();
-  @Output() action1 = new EventEmitter<number>();
-  @Output() action2 = new EventEmitter<number>();
-  @Output() action3 = new EventEmitter<number>();
-  @Output() action4 = new EventEmitter<number>();
-  @Output() action5 = new EventEmitter<number>();
+  @Output() selectedElementsChanged = new EventEmitter<any[]>();
 
   @ViewChild('dt', { static: false }) table: Table;
 
@@ -54,6 +52,7 @@ export class BiaTableComponent implements OnChanges {
   constructor(public authService: AuthService) {}
 
   ngOnChanges(changes: SimpleChanges) {
+    this.onElementsChange(changes);
     this.onLoadingChange(changes);
     this.onConfigurationChange(changes);
     this.onColumnToDisplayChange(changes);
@@ -63,6 +62,13 @@ export class BiaTableComponent implements OnChanges {
     this.onAdvancedFilterChange(changes);
   }
 
+  private onElementsChange(changes: SimpleChanges) {
+    if (changes.elements && this.table) {
+      this.table.selection = [];
+      this.onSelectionChange();
+    }
+  }
+
   private onLoadingChange(changes: SimpleChanges) {
     if (changes.loading) {
       if (this.loading === true) {
@@ -150,28 +156,10 @@ export class BiaTableComponent implements OnChanges {
     };
   }
 
-  actionElement(numEvent: number, itemId: number) {
-    if (numEvent > 0) {
-      if (numEvent === 1) {
-        this.action1.emit(itemId);
-      } else if (numEvent === 2) {
-        this.action2.emit(itemId);
-      } else if (numEvent === 3) {
-        this.action3.emit(itemId);
-      } else if (numEvent === 4) {
-        this.action4.emit(itemId);
-      } else if (numEvent === 5) {
-        this.action5.emit(itemId);
-      }
-    }
-  }
-
   editElement(itemId: number) {
-    this.edit.emit(itemId);
-  }
-
-  deleteElement(itemId: number) {
-    this.remove.emit(itemId);
+    if (this.canEdit) {
+      this.edit.emit(itemId);
+    }
   }
 
   searchGlobalChanged(value: string) {
@@ -198,6 +186,10 @@ export class BiaTableComponent implements OnChanges {
     this.loadLazy.emit(event);
   }
 
+  onSelectionChange() {
+    this.selectedElementsChanged.next(this.table.selection);
+  }
+
   onStateSave(state: TableState) {
     if (this.table && Object.keys(state).length) {
       const customState: any = this.advancedFilter ? { advancedFilter: this.advancedFilter, ...state } : state;
@@ -222,7 +214,9 @@ export class BiaTableComponent implements OnChanges {
         const state: TableState = JSON.parse(stateString);
         if (state && state.columnOrder) {
           // tslint:disable-next-line: no-non-null-assertion
-          this.displayedColumns = this.configuration.columns.filter((col) => state.columnOrder!.indexOf(col.field) > -1);
+          this.displayedColumns = this.configuration.columns.filter(
+            (col) => state.columnOrder && state.columnOrder.indexOf(col.field) > -1
+          );
         }
         this.table.restoreState();
         this.table.sortSingle();
@@ -244,16 +238,6 @@ export class BiaTableComponent implements OnChanges {
     return this.authService.hasPermission(permission);
   }
 
-  showActionCol() {
-    const haveCustomActionRight =
-      this.configuration.customButtons.length > 0 &&
-      this.configuration.customButtons
-        .map((customButton) => this.authService.hasPermission(customButton.permission))
-        .some((x) => x === true);
-
-    return this.canEdit === true || this.canDelete === true || haveCustomActionRight === true;
-  }
-
   getLazyLoadMetadata(): LazyLoadEvent {
     return this.table.createLazyLoadMetadata();
   }
diff --git a/Angular/src/app/shared/bia-shared/framework-version.ts b/Angular/src/app/shared/bia-shared/framework-version.ts
index 3bc5f46..d4ab4c8 100644
--- a/Angular/src/app/shared/bia-shared/framework-version.ts
+++ b/Angular/src/app/shared/bia-shared/framework-version.ts
@@ -1 +1 @@
-export const FRAMEWORK_VERSION = '3.2.2';
+export const FRAMEWORK_VERSION = '3.3.0';
diff --git a/Angular/src/app/shared/bia-shared/model/base-dto.ts b/Angular/src/app/shared/bia-shared/model/base-dto.ts
index 88616ac..cda2286 100644
--- a/Angular/src/app/shared/bia-shared/model/base-dto.ts
+++ b/Angular/src/app/shared/bia-shared/model/base-dto.ts
@@ -1,6 +1,6 @@
 import { DtoState } from './dto-state.enum';
 
-export interface BaseDto {
+export class BaseDto {
   id: number;
   dtoState: DtoState;
 }
diff --git a/Angular/src/app/shared/bia-shared/model/option-dto.ts b/Angular/src/app/shared/bia-shared/model/option-dto.ts
new file mode 100644
index 0000000..6f6ac6f
--- /dev/null
+++ b/Angular/src/app/shared/bia-shared/model/option-dto.ts
@@ -0,0 +1,5 @@
+import { BaseDto } from 'src/app/shared/bia-shared/model/base-dto';
+
+export interface OptionDto extends BaseDto {
+  display: string;
+}
diff --git a/Angular/src/app/shared/constants.ts b/Angular/src/app/shared/constants.ts
index d1f8a82..7786f84 100644
--- a/Angular/src/app/shared/constants.ts
+++ b/Angular/src/app/shared/constants.ts
@@ -17,9 +17,3 @@ export enum ViewType {
   User = 2
 }
 
-export enum EnvironmentType {
-  INT = 'INT',
-  UAT = 'UAT',
-  PRA = 'PRA',
-  PRD = 'PRD'
-}
diff --git a/Angular/src/app/shared/navigation.ts b/Angular/src/app/shared/navigation.ts
index e23868e..7301c1e 100644
--- a/Angular/src/app/shared/navigation.ts
+++ b/Angular/src/app/shared/navigation.ts
@@ -1,4 +1,4 @@
-﻿import { BiaNavigation } from './bia-shared/model/bia-navigation';
+import { BiaNavigation } from './bia-shared/model/bia-navigation';
 import { Permission } from './permission';
 
 export const NAVIGATION: BiaNavigation[] = [
diff --git a/Angular/src/app/shared/permission.ts b/Angular/src/app/shared/permission.ts
index dc79b8f..526bd3e 100644
--- a/Angular/src/app/shared/permission.ts
+++ b/Angular/src/app/shared/permission.ts
@@ -1,4 +1,4 @@
-﻿export enum Permission {
+export enum Permission {
   Home_Access = 'Home_Access',
   Member_Create = 'Member_Create',
   Member_Delete = 'Member_Delete',
diff --git a/Angular/src/assets/bia/i18n/en.json b/Angular/src/assets/bia/i18n/en.json
index 7551406..2cec61a 100644
--- a/Angular/src/assets/bia/i18n/en.json
+++ b/Angular/src/assets/bia/i18n/en.json
@@ -18,6 +18,7 @@
     "filters": "Filters",
     "fullscreen": "Full Screen",
     "greetings": "Hello",
+    "help": "Help",
     "info": "Info",
     "itemsPerPage": "Items per page",
     "lang": {
@@ -43,6 +44,7 @@
     "NoRecordsFound": "No records found",
     "noResult": "No results",
     "refresh": "Refresh",
+    "report": "Report",
     "reset": "Reset",
     "result": "{{length}} result",
     "results": "{{length}} results",
diff --git a/Angular/src/assets/bia/i18n/es.json b/Angular/src/assets/bia/i18n/es.json
index f533587..acf28ff 100644
--- a/Angular/src/assets/bia/i18n/es.json
+++ b/Angular/src/assets/bia/i18n/es.json
@@ -18,6 +18,7 @@
     "filters": "Filtros",
     "fullscreen": "Pantalla completa",
     "greetings": "¡Hola!",
+    "help": "Ayuda",
     "info": "Info",
     "itemsPerPage": "Artículos por página",
     "lang": {
@@ -43,6 +44,7 @@
     "NoRecordsFound": "No se han encontrado registros",
     "noResult": "Sin resultados",
     "refresh": "Actualizar",
+    "report": "Relación",
     "reset": "Reajustar",
     "result": "{{length}} resultado",
     "results": "{{length}} resultados",
diff --git a/Angular/src/assets/bia/i18n/fr.json b/Angular/src/assets/bia/i18n/fr.json
index c41a90f..6b9a263 100644
--- a/Angular/src/assets/bia/i18n/fr.json
+++ b/Angular/src/assets/bia/i18n/fr.json
@@ -18,6 +18,7 @@
     "filters": "Filtres",
     "fullscreen": "Plein écran",
     "greetings": "Bonjour",
+    "help": "Aide",
     "info": "Info",
     "itemsPerPage": "Élements par page",
     "lang": {
@@ -43,6 +44,7 @@
     "NoRecordsFound": "Aucun enregistrement trouvé",
     "noResult": "Pas de résultats",
     "refresh": "Rafraîchir",
+    "report": "Rapport",
     "reset": "Réinitialiser",
     "result": "{{length}} résultat",
     "results": "{{length}} résultats",
diff --git a/Angular/src/assets/bia/matomo/matomo.js b/Angular/src/assets/bia/matomo/matomo.js
new file mode 100644
index 0000000..f4bc58d
--- /dev/null
+++ b/Angular/src/assets/bia/matomo/matomo.js
@@ -0,0 +1,73 @@
+/*!!
+ * Matomo - free/libre analytics platform
+ *
+ * JavaScript tracking client
+ *
+ * @link https://piwik.org
+ * @source https://github.com/matomo-org/matomo/blob/master/js/piwik.js
+ * @license https://piwik.org/free-software/bsd/ BSD-3 Clause (also in js/LICENSE.txt)
+ * @license magnet:?xt=urn:btih:c80d50af7d3db9be66a4d0a86db0286e4fd33292&dn=bsd-3-clause.txt BSD-3-Clause
+ */
+;if(typeof _paq!=="object"){_paq=[]}if(typeof window.Matomo!=="object"){window.Matomo=window.Piwik=(function(){var q,b={},y={},G=document,g=navigator,X=screen,S=window,h=S.performance||S.mozPerformance||S.msPerformance||S.webkitPerformance,s=S.encodeURIComponent,R=S.decodeURIComponent,k=unescape,I=[],E,t,ah=[],x=0,ab=0,T=0,l=false;function o(ao){try{return R(ao)}catch(ap){return unescape(ao)}}function J(ap){var ao=typeof ap;return ao!=="undefined"}function A(ao){return typeof ao==="function"}function V(ao){return typeof ao==="object"}function w(ao){return typeof ao==="string"||ao instanceof String}function ag(ao){return typeof ao==="number"||ao instanceof Number
+}function Y(ao){return J(ao)&&(ag(ao)||(w(ao)&&ao.length))}function B(ap){if(!ap){return true}var ao;var aq=true;for(ao in ap){if(Object.prototype.hasOwnProperty.call(ap,ao)){aq=false}}return aq}function ak(ao){var ap=typeof console;if(ap!=="undefined"&&console&&console.error){console.error(ao)}}function af(){var au,at,aw,ap,ao;for(au=0;au<arguments.length;au+=1){ao=null;if(arguments[au]&&arguments[au].slice){ao=arguments[au].slice()}ap=arguments[au];aw=ap.shift();var av,aq;var ar=w(aw)&&aw.indexOf("::")>0;if(ar){av=aw.split("::");aq=av[0];aw=av[1];if("object"===typeof t[aq]&&"function"===typeof t[aq][aw]){t[aq][aw].apply(t[aq],ap)}else{if(ao){ah.push(ao)}}}else{for(at=0;at<I.length;at++){if(w(aw)){aq=I[at];var ax=aw.indexOf(".")>0;if(ax){av=aw.split(".");if(aq&&"object"===typeof aq[av[0]]){aq=aq[av[0]];aw=av[1]}else{if(ao){ah.push(ao);break}}}if(aq[aw]){aq[aw].apply(aq,ap)}else{var ay="The method '"+aw+'\' was not found in "_paq" variable.  Please have a look at the Matomo tracker documentation: https://developer.matomo.org/api-reference/tracking-javascript';
+ak(ay);if(!ax){throw new TypeError(ay)}}if(aw==="addTracker"){break}if(aw==="setTrackerUrl"||aw==="setSiteId"){break}}else{aw.apply(I[at],ap)}}}}}function an(ar,aq,ap,ao){if(ar.addEventListener){ar.addEventListener(aq,ap,ao);return true}if(ar.attachEvent){return ar.attachEvent("on"+aq,ap)}ar["on"+aq]=ap}function m(ao){if(G.readyState==="complete"){ao()}else{if(S.addEventListener){S.addEventListener("load",ao,false)}else{if(S.attachEvent){S.attachEvent("onload",ao)}}}}function p(ar){var ao=false;if(G.attachEvent){ao=G.readyState==="complete"}else{ao=G.readyState!=="loading"}if(ao){ar();return}var aq;if(G.addEventListener){an(G,"DOMContentLoaded",function ap(){G.removeEventListener("DOMContentLoaded",ap,false);if(!ao){ao=true;ar()}})}else{if(G.attachEvent){G.attachEvent("onreadystatechange",function ap(){if(G.readyState==="complete"){G.detachEvent("onreadystatechange",ap);if(!ao){ao=true;ar()}}});if(G.documentElement.doScroll&&S===S.top){(function ap(){if(!ao){try{G.documentElement.doScroll("left")
+}catch(at){setTimeout(ap,0);return}ao=true;ar()}}())}}}an(S,"load",function(){if(!ao){ao=true;ar()}},false)}function ac(ap,av,aw){if(!ap){return""}var ao="",ar,aq,at,au;for(ar in b){if(Object.prototype.hasOwnProperty.call(b,ar)){au=b[ar]&&"function"===typeof b[ar][ap];if(au){aq=b[ar][ap];at=aq(av||{},aw);if(at){ao+=at}}}}return ao}function ai(){var ao;l=true;ac("unload");ao=new Date();var ap=ao.getTimeAlias();if((q-ap)>3000){q=ap+3000}if(q){do{ao=new Date()}while(ao.getTimeAlias()<q)}}function n(aq,ap){var ao=G.createElement("script");ao.type="text/javascript";ao.src=aq;if(ao.readyState){ao.onreadystatechange=function(){var ar=this.readyState;if(ar==="loaded"||ar==="complete"){ao.onreadystatechange=null;ap()}}}else{ao.onload=ap}G.getElementsByTagName("head")[0].appendChild(ao)}function K(){var ao="";try{ao=S.top.document.referrer}catch(aq){if(S.parent){try{ao=S.parent.document.referrer}catch(ap){ao=""}}}if(ao===""){ao=G.referrer}return ao}function r(ao){var aq=new RegExp("^([a-z]+):"),ap=aq.exec(ao);
+return ap?ap[1]:null}function d(ao){var aq=new RegExp("^(?:(?:https?|ftp):)/*(?:[^@]+@)?([^:/#]+)"),ap=aq.exec(ao);return ap?ap[1]:ao}function aj(ap,ao){ap=String(ap);return ap.lastIndexOf(ao,0)===0}function Q(ap,ao){ap=String(ap);return ap.indexOf(ao,ap.length-ao.length)!==-1}function z(ap,ao){ap=String(ap);return ap.indexOf(ao)!==-1}function f(ap,ao){ap=String(ap);return ap.substr(0,ap.length-ao)}function F(ar,aq,au){ar=String(ar);if(!au){au=""}var ao=ar.indexOf("#");var av=ar.length;if(ao===-1){ao=av}var at=ar.substr(0,ao);var ap=ar.substr(ao,av-ao);if(at.indexOf("?")===-1){at+="?"}else{if(!Q(at,"?")){at+="&"}}return at+s(aq)+"="+s(au)+ap}function j(ap,aq){ap=String(ap);if(ap.indexOf("?"+aq+"=")===-1&&ap.indexOf("&"+aq+"=")===-1){return ap}var ar=ap.indexOf("?");if(ar===-1){return ap}var ao=ap.substr(ar+1);var aw=ap.substr(0,ar);if(ao){var ax="";var az=ao.indexOf("#");if(az!==-1){ax=ao.substr(az+1);ao=ao.substr(0,az)}var at;var av=ao.split("&");var au=av.length-1;for(au;au>=0;au--){at=av[au].split("=")[0];
+if(at===aq){av.splice(au,1)}}var ay=av.join("&");if(ay){aw=aw+"?"+ay}if(ax){aw+="#"+ax}}return aw}function e(aq,ap){var ao="[\\?&#]"+ap+"=([^&#]*)";var at=new RegExp(ao);var ar=at.exec(aq);return ar?o(ar[1]):""}function a(ao){if(ao&&String(ao)===ao){return ao.replace(/^\s+|\s+$/g,"")}return ao}function D(ao){return unescape(s(ao))}function am(aE){var aq=function(aK,aJ){return(aK<<aJ)|(aK>>>(32-aJ))},aF=function(aM){var aK="",aL,aJ;for(aL=7;aL>=0;aL--){aJ=(aM>>>(aL*4))&15;aK+=aJ.toString(16)}return aK},au,aH,aG,ap=[],ay=1732584193,aw=4023233417,av=2562383102,at=271733878,ar=3285377520,aD,aC,aB,aA,az,aI,ao,ax=[];aE=D(aE);ao=aE.length;for(aH=0;aH<ao-3;aH+=4){aG=aE.charCodeAt(aH)<<24|aE.charCodeAt(aH+1)<<16|aE.charCodeAt(aH+2)<<8|aE.charCodeAt(aH+3);ax.push(aG)}switch(ao&3){case 0:aH=2147483648;break;case 1:aH=aE.charCodeAt(ao-1)<<24|8388608;break;case 2:aH=aE.charCodeAt(ao-2)<<24|aE.charCodeAt(ao-1)<<16|32768;break;case 3:aH=aE.charCodeAt(ao-3)<<24|aE.charCodeAt(ao-2)<<16|aE.charCodeAt(ao-1)<<8|128;
+break}ax.push(aH);while((ax.length&15)!==14){ax.push(0)}ax.push(ao>>>29);ax.push((ao<<3)&4294967295);for(au=0;au<ax.length;au+=16){for(aH=0;aH<16;aH++){ap[aH]=ax[au+aH]}for(aH=16;aH<=79;aH++){ap[aH]=aq(ap[aH-3]^ap[aH-8]^ap[aH-14]^ap[aH-16],1)}aD=ay;aC=aw;aB=av;aA=at;az=ar;for(aH=0;aH<=19;aH++){aI=(aq(aD,5)+((aC&aB)|(~aC&aA))+az+ap[aH]+1518500249)&4294967295;az=aA;aA=aB;aB=aq(aC,30);aC=aD;aD=aI}for(aH=20;aH<=39;aH++){aI=(aq(aD,5)+(aC^aB^aA)+az+ap[aH]+1859775393)&4294967295;az=aA;aA=aB;aB=aq(aC,30);aC=aD;aD=aI}for(aH=40;aH<=59;aH++){aI=(aq(aD,5)+((aC&aB)|(aC&aA)|(aB&aA))+az+ap[aH]+2400959708)&4294967295;az=aA;aA=aB;aB=aq(aC,30);aC=aD;aD=aI}for(aH=60;aH<=79;aH++){aI=(aq(aD,5)+(aC^aB^aA)+az+ap[aH]+3395469782)&4294967295;az=aA;aA=aB;aB=aq(aC,30);aC=aD;aD=aI}ay=(ay+aD)&4294967295;aw=(aw+aC)&4294967295;av=(av+aB)&4294967295;at=(at+aA)&4294967295;ar=(ar+az)&4294967295}aI=aF(ay)+aF(aw)+aF(av)+aF(at)+aF(ar);return aI.toLowerCase()}function aa(aq,ao,ap){if(!aq){aq=""}if(!ao){ao=""}if(aq==="translate.googleusercontent.com"){if(ap===""){ap=ao
+}ao=e(ao,"u");aq=d(ao)}else{if(aq==="cc.bingj.com"||aq==="webcache.googleusercontent.com"||aq.slice(0,5)==="74.6."){ao=G.links[0].href;aq=d(ao)}}return[aq,ao,ap]}function L(ap){var ao=ap.length;if(ap.charAt(--ao)==="."){ap=ap.slice(0,ao)}if(ap.slice(0,2)==="*."){ap=ap.slice(1)}if(ap.indexOf("/")!==-1){ap=ap.substr(0,ap.indexOf("/"))}return ap}function al(ap){ap=ap&&ap.text?ap.text:ap;if(!w(ap)){var ao=G.getElementsByTagName("title");if(ao&&J(ao[0])){ap=ao[0].text}}return ap}function O(ao){if(!ao){return[]}if(!J(ao.children)&&J(ao.childNodes)){return ao.children}if(J(ao.children)){return ao.children}return[]}function U(ap,ao){if(!ap||!ao){return false}if(ap.contains){return ap.contains(ao)}if(ap===ao){return true}if(ap.compareDocumentPosition){return !!(ap.compareDocumentPosition(ao)&16)}return false}function M(aq,ar){if(aq&&aq.indexOf){return aq.indexOf(ar)}if(!J(aq)||aq===null){return -1}if(!aq.length){return -1}var ao=aq.length;if(ao===0){return -1}var ap=0;while(ap<ao){if(aq[ap]===ar){return ap
+}ap++}return -1}function i(aq){if(!aq){return false}function ao(at,au){if(S.getComputedStyle){return G.defaultView.getComputedStyle(at,null)[au]}if(at.currentStyle){return at.currentStyle[au]}}function ar(at){at=at.parentNode;while(at){if(at===G){return true}at=at.parentNode}return false}function ap(av,aB,at,ay,aw,az,ax){var au=av.parentNode,aA=1;if(!ar(av)){return false}if(9===au.nodeType){return true}if("0"===ao(av,"opacity")||"none"===ao(av,"display")||"hidden"===ao(av,"visibility")){return false}if(!J(aB)||!J(at)||!J(ay)||!J(aw)||!J(az)||!J(ax)){aB=av.offsetTop;aw=av.offsetLeft;ay=aB+av.offsetHeight;at=aw+av.offsetWidth;az=av.offsetWidth;ax=av.offsetHeight}if(aq===av&&(0===ax||0===az)&&"hidden"===ao(av,"overflow")){return false}if(au){if(("hidden"===ao(au,"overflow")||"scroll"===ao(au,"overflow"))){if(aw+aA>au.offsetWidth+au.scrollLeft||aw+az-aA<au.scrollLeft||aB+aA>au.offsetHeight+au.scrollTop||aB+ax-aA<au.scrollTop){return false}}if(av.offsetParent===au){aw+=au.offsetLeft;aB+=au.offsetTop
+}return ap(au,aB,at,ay,aw,az,ax)}return true}return ap(aq)}var ae={htmlCollectionToArray:function(aq){var ao=[],ap;if(!aq||!aq.length){return ao}for(ap=0;ap<aq.length;ap++){ao.push(aq[ap])}return ao},find:function(ao){if(!document.querySelectorAll||!ao){return[]}var ap=document.querySelectorAll(ao);return this.htmlCollectionToArray(ap)},findMultiple:function(aq){if(!aq||!aq.length){return[]}var ap,ar;var ao=[];for(ap=0;ap<aq.length;ap++){ar=this.find(aq[ap]);ao=ao.concat(ar)}ao=this.makeNodesUnique(ao);return ao},findNodesByTagName:function(ap,ao){if(!ap||!ao||!ap.getElementsByTagName){return[]}var aq=ap.getElementsByTagName(ao);return this.htmlCollectionToArray(aq)},makeNodesUnique:function(ao){var au=[].concat(ao);ao.sort(function(aw,av){if(aw===av){return 0}var ay=M(au,aw);var ax=M(au,av);if(ay===ax){return 0}return ay>ax?-1:1});if(ao.length<=1){return ao}var ap=0;var ar=0;var at=[];var aq;aq=ao[ap++];while(aq){if(aq===ao[ap]){ar=at.push(ap)}aq=ao[ap++]||null}while(ar--){ao.splice(at[ar],1)
+}return ao},getAttributeValueFromNode:function(at,aq){if(!this.hasNodeAttribute(at,aq)){return}if(at&&at.getAttribute){return at.getAttribute(aq)}if(!at||!at.attributes){return}var ar=(typeof at.attributes[aq]);if("undefined"===ar){return}if(at.attributes[aq].value){return at.attributes[aq].value}if(at.attributes[aq].nodeValue){return at.attributes[aq].nodeValue}var ap;var ao=at.attributes;if(!ao){return}for(ap=0;ap<ao.length;ap++){if(ao[ap].nodeName===aq){return ao[ap].nodeValue}}return null},hasNodeAttributeWithValue:function(ap,ao){var aq=this.getAttributeValueFromNode(ap,ao);return !!aq},hasNodeAttribute:function(aq,ao){if(aq&&aq.hasAttribute){return aq.hasAttribute(ao)}if(aq&&aq.attributes){var ap=(typeof aq.attributes[ao]);return"undefined"!==ap}return false},hasNodeCssClass:function(aq,ao){if(aq&&ao&&aq.className){var ap=typeof aq.className==="string"?aq.className.split(" "):[];if(-1!==M(ap,ao)){return true}}return false},findNodesHavingAttribute:function(at,aq,ao){if(!ao){ao=[]}if(!at||!aq){return ao
+}var ar=O(at);if(!ar||!ar.length){return ao}var ap,au;for(ap=0;ap<ar.length;ap++){au=ar[ap];if(this.hasNodeAttribute(au,aq)){ao.push(au)}ao=this.findNodesHavingAttribute(au,aq,ao)}return ao},findFirstNodeHavingAttribute:function(aq,ap){if(!aq||!ap){return}if(this.hasNodeAttribute(aq,ap)){return aq}var ao=this.findNodesHavingAttribute(aq,ap);if(ao&&ao.length){return ao[0]}},findFirstNodeHavingAttributeWithValue:function(ar,aq){if(!ar||!aq){return}if(this.hasNodeAttributeWithValue(ar,aq)){return ar}var ao=this.findNodesHavingAttribute(ar,aq);if(!ao||!ao.length){return}var ap;for(ap=0;ap<ao.length;ap++){if(this.getAttributeValueFromNode(ao[ap],aq)){return ao[ap]}}},findNodesHavingCssClass:function(at,ar,ao){if(!ao){ao=[]}if(!at||!ar){return ao}if(at.getElementsByClassName){var au=at.getElementsByClassName(ar);return this.htmlCollectionToArray(au)}var aq=O(at);if(!aq||!aq.length){return[]}var ap,av;for(ap=0;ap<aq.length;ap++){av=aq[ap];if(this.hasNodeCssClass(av,ar)){ao.push(av)}ao=this.findNodesHavingCssClass(av,ar,ao)
+}return ao},findFirstNodeHavingClass:function(aq,ap){if(!aq||!ap){return}if(this.hasNodeCssClass(aq,ap)){return aq}var ao=this.findNodesHavingCssClass(aq,ap);if(ao&&ao.length){return ao[0]}},isLinkElement:function(ap){if(!ap){return false}var ao=String(ap.nodeName).toLowerCase();var ar=["a","area"];var aq=M(ar,ao);return aq!==-1},setAnyAttribute:function(ap,ao,aq){if(!ap||!ao){return}if(ap.setAttribute){ap.setAttribute(ao,aq)}else{ap[ao]=aq}}};var v={CONTENT_ATTR:"data-track-content",CONTENT_CLASS:"matomoTrackContent",LEGACY_CONTENT_CLASS:"piwikTrackContent",CONTENT_NAME_ATTR:"data-content-name",CONTENT_PIECE_ATTR:"data-content-piece",CONTENT_PIECE_CLASS:"matomoContentPiece",LEGACY_CONTENT_PIECE_CLASS:"piwikContentPiece",CONTENT_TARGET_ATTR:"data-content-target",CONTENT_TARGET_CLASS:"matomoContentTarget",LEGACY_CONTENT_TARGET_CLASS:"piwikContentTarget",CONTENT_IGNOREINTERACTION_ATTR:"data-content-ignoreinteraction",CONTENT_IGNOREINTERACTION_CLASS:"matomoContentIgnoreInteraction",LEGACY_CONTENT_IGNOREINTERACTION_CLASS:"piwikContentIgnoreInteraction",location:undefined,findContentNodes:function(){var ap="."+this.CONTENT_CLASS;
+var aq="."+this.LEGACY_CONTENT_CLASS;var ao="["+this.CONTENT_ATTR+"]";var ar=ae.findMultiple([ap,aq,ao]);return ar},findContentNodesWithinNode:function(ar){if(!ar){return[]}var ap=ae.findNodesHavingCssClass(ar,this.CONTENT_CLASS);ap=ae.findNodesHavingCssClass(ar,this.LEGACY_CONTENT_CLASS,ap);var ao=ae.findNodesHavingAttribute(ar,this.CONTENT_ATTR);if(ao&&ao.length){var aq;for(aq=0;aq<ao.length;aq++){ap.push(ao[aq])}}if(ae.hasNodeAttribute(ar,this.CONTENT_ATTR)){ap.push(ar)}else{if(ae.hasNodeCssClass(ar,this.CONTENT_CLASS)){ap.push(ar)}else{if(ae.hasNodeCssClass(ar,this.LEGACY_CONTENT_CLASS)){ap.push(ar)}}}ap=ae.makeNodesUnique(ap);return ap},findParentContentNode:function(ap){if(!ap){return}var aq=ap;var ao=0;while(aq&&aq!==G&&aq.parentNode){if(ae.hasNodeAttribute(aq,this.CONTENT_ATTR)){return aq}if(ae.hasNodeCssClass(aq,this.CONTENT_CLASS)){return aq}if(ae.hasNodeCssClass(aq,this.LEGACY_CONTENT_CLASS)){return aq}aq=aq.parentNode;if(ao>1000){break}ao++}},findPieceNode:function(ap){var ao;
+ao=ae.findFirstNodeHavingAttribute(ap,this.CONTENT_PIECE_ATTR);if(!ao){ao=ae.findFirstNodeHavingClass(ap,this.CONTENT_PIECE_CLASS)}if(!ao){ao=ae.findFirstNodeHavingClass(ap,this.LEGACY_CONTENT_PIECE_CLASS)}if(ao){return ao}return ap},findTargetNodeNoDefault:function(ao){if(!ao){return}var ap=ae.findFirstNodeHavingAttributeWithValue(ao,this.CONTENT_TARGET_ATTR);if(ap){return ap}ap=ae.findFirstNodeHavingAttribute(ao,this.CONTENT_TARGET_ATTR);if(ap){return ap}ap=ae.findFirstNodeHavingClass(ao,this.CONTENT_TARGET_CLASS);if(ap){return ap}ap=ae.findFirstNodeHavingClass(ao,this.LEGACY_CONTENT_TARGET_CLASS);if(ap){return ap}},findTargetNode:function(ao){var ap=this.findTargetNodeNoDefault(ao);if(ap){return ap}return ao},findContentName:function(ap){if(!ap){return}var at=ae.findFirstNodeHavingAttributeWithValue(ap,this.CONTENT_NAME_ATTR);if(at){return ae.getAttributeValueFromNode(at,this.CONTENT_NAME_ATTR)}var ao=this.findContentPiece(ap);if(ao){return this.removeDomainIfIsInLink(ao)}if(ae.hasNodeAttributeWithValue(ap,"title")){return ae.getAttributeValueFromNode(ap,"title")
+}var aq=this.findPieceNode(ap);if(ae.hasNodeAttributeWithValue(aq,"title")){return ae.getAttributeValueFromNode(aq,"title")}var ar=this.findTargetNode(ap);if(ae.hasNodeAttributeWithValue(ar,"title")){return ae.getAttributeValueFromNode(ar,"title")}},findContentPiece:function(ap){if(!ap){return}var ar=ae.findFirstNodeHavingAttributeWithValue(ap,this.CONTENT_PIECE_ATTR);if(ar){return ae.getAttributeValueFromNode(ar,this.CONTENT_PIECE_ATTR)}var ao=this.findPieceNode(ap);var aq=this.findMediaUrlInNode(ao);if(aq){return this.toAbsoluteUrl(aq)}},findContentTarget:function(aq){if(!aq){return}var ar=this.findTargetNode(aq);if(ae.hasNodeAttributeWithValue(ar,this.CONTENT_TARGET_ATTR)){return ae.getAttributeValueFromNode(ar,this.CONTENT_TARGET_ATTR)}var ap;if(ae.hasNodeAttributeWithValue(ar,"href")){ap=ae.getAttributeValueFromNode(ar,"href");return this.toAbsoluteUrl(ap)}var ao=this.findPieceNode(aq);if(ae.hasNodeAttributeWithValue(ao,"href")){ap=ae.getAttributeValueFromNode(ao,"href");return this.toAbsoluteUrl(ap)
+}},isSameDomain:function(ao){if(!ao||!ao.indexOf){return false}if(0===ao.indexOf(this.getLocation().origin)){return true}var ap=ao.indexOf(this.getLocation().host);if(8>=ap&&0<=ap){return true}return false},removeDomainIfIsInLink:function(aq){var ap="^https?://[^/]+";var ao="^.*//[^/]+";if(aq&&aq.search&&-1!==aq.search(new RegExp(ap))&&this.isSameDomain(aq)){aq=aq.replace(new RegExp(ao),"");if(!aq){aq="/"}}return aq},findMediaUrlInNode:function(at){if(!at){return}var aq=["img","embed","video","audio"];var ao=at.nodeName.toLowerCase();if(-1!==M(aq,ao)&&ae.findFirstNodeHavingAttributeWithValue(at,"src")){var ar=ae.findFirstNodeHavingAttributeWithValue(at,"src");return ae.getAttributeValueFromNode(ar,"src")}if(ao==="object"&&ae.hasNodeAttributeWithValue(at,"data")){return ae.getAttributeValueFromNode(at,"data")}if(ao==="object"){var au=ae.findNodesByTagName(at,"param");if(au&&au.length){var ap;for(ap=0;ap<au.length;ap++){if("movie"===ae.getAttributeValueFromNode(au[ap],"name")&&ae.hasNodeAttributeWithValue(au[ap],"value")){return ae.getAttributeValueFromNode(au[ap],"value")
+}}}var av=ae.findNodesByTagName(at,"embed");if(av&&av.length){return this.findMediaUrlInNode(av[0])}}},trim:function(ao){return a(ao)},isOrWasNodeInViewport:function(au){if(!au||!au.getBoundingClientRect||au.nodeType!==1){return true}var at=au.getBoundingClientRect();var ar=G.documentElement||{};var aq=at.top<0;if(aq&&au.offsetTop){aq=(au.offsetTop+at.height)>0}var ap=ar.clientWidth;if(S.innerWidth&&ap>S.innerWidth){ap=S.innerWidth}var ao=ar.clientHeight;if(S.innerHeight&&ao>S.innerHeight){ao=S.innerHeight}return((at.bottom>0||aq)&&at.right>0&&at.left<ap&&((at.top<ao)||aq))},isNodeVisible:function(ap){var ao=i(ap);var aq=this.isOrWasNodeInViewport(ap);return ao&&aq},buildInteractionRequestParams:function(ao,ap,aq,ar){var at="";if(ao){at+="c_i="+s(ao)}if(ap){if(at){at+="&"}at+="c_n="+s(ap)}if(aq){if(at){at+="&"}at+="c_p="+s(aq)}if(ar){if(at){at+="&"}at+="c_t="+s(ar)}if(at){at+="&ca=1"}return at},buildImpressionRequestParams:function(ao,ap,aq){var ar="c_n="+s(ao)+"&c_p="+s(ap);if(aq){ar+="&c_t="+s(aq)
+}if(ar){ar+="&ca=1"}return ar},buildContentBlock:function(aq){if(!aq){return}var ao=this.findContentName(aq);var ap=this.findContentPiece(aq);var ar=this.findContentTarget(aq);ao=this.trim(ao);ap=this.trim(ap);ar=this.trim(ar);return{name:ao||"Unknown",piece:ap||"Unknown",target:ar||""}},collectContent:function(ar){if(!ar||!ar.length){return[]}var aq=[];var ao,ap;for(ao=0;ao<ar.length;ao++){ap=this.buildContentBlock(ar[ao]);if(J(ap)){aq.push(ap)}}return aq},setLocation:function(ao){this.location=ao},getLocation:function(){var ao=this.location||S.location;if(!ao.origin){ao.origin=ao.protocol+"//"+ao.hostname+(ao.port?":"+ao.port:"")}return ao},toAbsoluteUrl:function(ap){if((!ap||String(ap)!==ap)&&ap!==""){return ap}if(""===ap){return this.getLocation().href}if(ap.search(/^\/\//)!==-1){return this.getLocation().protocol+ap}if(ap.search(/:\/\//)!==-1){return ap}if(0===ap.indexOf("#")){return this.getLocation().origin+this.getLocation().pathname+ap}if(0===ap.indexOf("?")){return this.getLocation().origin+this.getLocation().pathname+ap
+}if(0===ap.search("^[a-zA-Z]{2,11}:")){return ap}if(ap.search(/^\//)!==-1){return this.getLocation().origin+ap}var ao="(.*/)";var aq=this.getLocation().origin+this.getLocation().pathname.match(new RegExp(ao))[0];return aq+ap},isUrlToCurrentDomain:function(ap){var aq=this.toAbsoluteUrl(ap);if(!aq){return false}var ao=this.getLocation().origin;if(ao===aq){return true}if(0===String(aq).indexOf(ao)){if(":"===String(aq).substr(ao.length,1)){return false}return true}return false},setHrefAttribute:function(ap,ao){if(!ap||!ao){return}ae.setAnyAttribute(ap,"href",ao)},shouldIgnoreInteraction:function(ao){if(ae.hasNodeAttribute(ao,this.CONTENT_IGNOREINTERACTION_ATTR)){return true}if(ae.hasNodeCssClass(ao,this.CONTENT_IGNOREINTERACTION_CLASS)){return true}if(ae.hasNodeCssClass(ao,this.LEGACY_CONTENT_IGNOREINTERACTION_CLASS)){return true}return false}};function W(ap,at){if(at){return at}ap=v.toAbsoluteUrl(ap);if(z(ap,"?")){var ar=ap.indexOf("?");ap=ap.slice(0,ar)}if(Q(ap,"matomo.php")){ap=f(ap,"matomo.php".length)
+}else{if(Q(ap,"piwik.php")){ap=f(ap,"piwik.php".length)}else{if(Q(ap,".php")){var ao=ap.lastIndexOf("/");var aq=1;ap=ap.slice(0,ao+aq)}}}if(Q(ap,"/js/")){ap=f(ap,"js/".length)}return ap}function N(av){var ax="Matomo_Overlay";var ap=new RegExp("index\\.php\\?module=Overlay&action=startOverlaySession&idSite=([0-9]+)&period=([^&]+)&date=([^&]+)(&segment=.*)?$");var aq=ap.exec(G.referrer);if(aq){var at=aq[1];if(at!==String(av)){return false}var au=aq[2],ao=aq[3],ar=aq[4];if(!ar){ar=""}else{if(ar.indexOf("&segment=")===0){ar=ar.substr("&segment=".length)}}S.name=ax+"###"+au+"###"+ao+"###"+ar}var aw=S.name.split("###");return aw.length===4&&aw[0]===ax}function Z(ap,av,aq){var au=S.name.split("###"),at=au[1],ao=au[2],ar=au[3],aw=W(ap,av);n(aw+"plugins/Overlay/client/client.js?v=1",function(){Matomo_Overlay_Client.initialize(aw,aq,at,ao,ar)})}function u(){var aq;try{aq=S.frameElement}catch(ap){return true}if(J(aq)){return(aq&&String(aq.nodeName).toLowerCase()==="iframe")?true:false}try{return S.self!==S.top
+}catch(ao){return true}}function P(ce,ca){var bK=this,be="mtm_consent",cD="mtm_cookie_consent",cM="mtm_consent_removed",b5=aa(G.domain,S.location.href,K()),cU=L(b5[0]),bO=o(b5[1]),bp=o(b5[2]),cS=false,ci="GET",c9=ci,aI="application/x-www-form-urlencoded; charset=UTF-8",cw=aI,aE=ce||"",bJ="",cZ="",b7=ca||"",bA="",bP="",a5,bk="",c6=["7z","aac","apk","arc","arj","asf","asx","avi","azw3","bin","csv","deb","dmg","doc","docx","epub","exe","flv","gif","gz","gzip","hqx","ibooks","jar","jpg","jpeg","js","mobi","mp2","mp3","mp4","mpg","mpeg","mov","movie","msi","msp","odb","odf","odg","ods","odt","ogg","ogv","pdf","phps","png","ppt","pptx","qt","qtm","ra","ram","rar","rpm","rtf","sea","sit","tar","tbz","tbz2","bz","bz2","tgz","torrent","txt","wav","wma","wmv","wpd","xls","xlsx","xml","z","zip"],ay=[cU],bB=[],bM=[],a9=[],bL=500,cW=true,cJ,a6,bS,bQ,ao,cp=["pk_campaign","mtm_campaign","piwik_campaign","matomo_campaign","utm_campaign","utm_source","utm_medium"],bI=["pk_kwd","mtm_kwd","piwik_kwd","matomo_kwd","utm_term"],bl="_pk_",av="pk_vid",a0=180,cX,br,bT=false,aJ="Lax",bn=false,cQ,bf,bx,cK=33955200000,cn=1800000,c5=15768000000,a3=true,bG=false,bi=false,bR=false,aR=false,cc,bX={},cm={},bo={},bv=200,cs={},c0={},c7={},cb=[],cf=false,cB=false,ap=false,c8=false,cN=false,aO=false,bd=u(),cx=null,cY=null,aS,bC,b8=am,bq,aM,cq=0,bw=["id","ses","cvar","ref"],cA=false,bD=null,cL=[],ax=T++,aw=false;
+try{bk=G.title}catch(cy){bk=""}function dd(dq,dn,dm,dp,dl,dk,dj){if(bn&&dq!==cM){return}var di;if(dm){di=new Date();di.setTime(di.getTime()+dm)}if(!dj){dj="Lax"}G.cookie=dq+"="+s(dn)+(dm?";expires="+di.toGMTString():"")+";path="+(dp||"/")+(dl?";domain="+dl:"")+(dk?";secure":"")+";SameSite="+dj}function aD(dk){if(bn){return 0}var di=new RegExp("(^|;)[ ]*"+dk+"=([^;]*)"),dj=di.exec(G.cookie);return dj?R(dj[2]):0}bD=!aD(cM);function b3(di){var dj;di=j(di,av);if(bQ){dj=new RegExp("#.*");return di.replace(dj,"")}return di}function bW(dk,di){var dl=r(di),dj;if(dl){return di}if(di.slice(0,1)==="/"){return r(dk)+"://"+d(dk)+di}dk=b3(dk);dj=dk.indexOf("?");if(dj>=0){dk=dk.slice(0,dj)}dj=dk.lastIndexOf("/");if(dj!==dk.length-1){dk=dk.slice(0,dj+1)}return dk+di}function cH(dk,di){var dj;dk=String(dk).toLowerCase();di=String(di).toLowerCase();if(dk===di){return true}if(di.slice(0,1)==="."){if(dk===di.slice(1)){return true}dj=dk.length-di.length;if((dj>0)&&(dk.slice(dj)===di)){return true}}return false
+}function cl(di){var dj=document.createElement("a");if(di.indexOf("//")!==0&&di.indexOf("http")!==0){if(di.indexOf("*")===0){di=di.substr(1)}if(di.indexOf(".")===0){di=di.substr(1)}di="http://"+di}dj.href=v.toAbsoluteUrl(di);if(dj.pathname){return dj.pathname}return""}function a4(dj,di){if(!aj(di,"/")){di="/"+di}if(!aj(dj,"/")){dj="/"+dj}var dk=(di==="/"||di==="/*");if(dk){return true}if(dj===di){return true}di=String(di).toLowerCase();dj=String(dj).toLowerCase();if(Q(di,"*")){di=di.slice(0,-1);dk=(!di||di==="/");if(dk){return true}if(dj===di){return true}return dj.indexOf(di)===0}if(!Q(dj,"/")){dj+="/"}if(!Q(di,"/")){di+="/"}return dj.indexOf(di)===0}function ar(dm,dp){var dj,di,dk,dl,dn;for(dj=0;dj<ay.length;dj++){dl=L(ay[dj]);dn=cl(ay[dj]);if(cH(dm,dl)&&a4(dp,dn)){return true}}return false}function aW(dl){var dj,di,dk;for(dj=0;dj<ay.length;dj++){di=L(ay[dj].toLowerCase());if(dl===di){return true}if(di.slice(0,1)==="."){if(dl===di.slice(1)){return true}dk=dl.length-di.length;if((dk>0)&&(dl.slice(dk)===di)){return true
+}}}return false}function co(di,dk){di=di.replace("send_image=0","send_image=1");var dj=new Image(1,1);dj.onload=function(){E=0;if(typeof dk==="function"){dk({request:di,trackerUrl:aE,success:true})}};dj.onerror=function(){if(typeof dk==="function"){dk({request:di,trackerUrl:aE,success:false})}};dj.src=aE+(aE.indexOf("?")<0?"?":"&")+di}function cE(di){if(c9==="POST"){return true}return di&&(di.length>2000||di.indexOf('{"requests"')===0)}function aL(){return"object"===typeof g&&"function"===typeof g.sendBeacon&&"function"===typeof Blob}function a7(dm,dq,dp){var dk=aL();if(!dk){return false}var dl={type:"application/x-www-form-urlencoded; charset=UTF-8"};var dr=false;var dj=aE;try{var di=new Blob([dm],dl);if(dp&&!cE(dm)){di=new Blob([],dl);dj=dj+(dj.indexOf("?")<0?"?":"&")+dm}dr=g.sendBeacon(dj,di)}catch(dn){return false}if(dr&&typeof dq==="function"){dq({request:dm,trackerUrl:aE,success:true,isSendBeacon:true})}return dr}function c4(dj,dk,di){if(!J(di)||null===di){di=true}if(l&&a7(dj,dk,di)){return
+}setTimeout(function(){if(l&&a7(dj,dk,di)){return}var dn;try{var dm=S.XMLHttpRequest?new S.XMLHttpRequest():S.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):null;dm.open("POST",aE,true);dm.onreadystatechange=function(){if(this.readyState===4&&!(this.status>=200&&this.status<300)){var dp=l&&a7(dj,dk,di);if(!dp&&di){co(dj,dk)}else{if(typeof dk==="function"){dk({request:dj,trackerUrl:aE,success:false,xhr:this})}}}else{if(this.readyState===4&&(typeof dk==="function")){dk({request:dj,trackerUrl:aE,success:true,xhr:this})}}};dm.setRequestHeader("Content-Type",cw);dm.withCredentials=true;dm.send(dj)}catch(dl){dn=l&&a7(dj,dk,di);if(!dn&&di){co(dj,dk)}else{if(typeof dk==="function"){dk({request:dj,trackerUrl:aE,success:false})}}}},50)}function cg(dj){var di=new Date();var dk=di.getTime()+dj;if(!q||dk>q){q=dk}}function bb(){bd=true;cx=new Date().getTime()}function dc(){var di=new Date().getTime();return !cx||(di-cx)>a6}function az(){if(dc()){bS()}}function df(){if(aO||!a6){return}aO=true;an(S,"focus",bb);
+an(S,"blur",az);ab++;t.addPlugin("HeartBeat"+ab,{unload:function(){if(aO&&dc()){bS()}}})}function cC(dm){var dj=new Date();var di=dj.getTime();cY=di;if(cB&&di<cB){var dk=cB-di;setTimeout(dm,dk);cg(dk+50);cB+=50;return}if(cB===false){var dl=800;cB=di+dl}dm()}function aP(){if(aD(cM)){bD=false}else{if(aD(be)){bD=true}}}function bH(dj,di,dk){aP();if(!bD){cL.push(dj);return}aw=true;if(!cQ&&dj){if(cA&&bD){dj+="&consent=1"}cC(function(){if(cW&&a7(dj,dk,true)){cg(100);return}if(cE(dj)){c4(dj,dk)}else{co(dj,dk)}cg(di)})}if(!aO){df()}}function ck(di){if(cQ){return false}return(di&&di.length)}function c3(di,dm){if(!dm||dm>=di.length){return[di]}var dj=0;var dk=di.length;var dl=[];for(dj;dj<dk;dj+=dm){dl.push(di.slice(dj,dj+dm))}return dl}function de(dj,di){if(!ck(dj)){return}if(!bD){cL.push(dj);return}aw=true;cC(function(){var dm=c3(dj,50);var dk=0,dl;for(dk;dk<dm.length;dk++){dl='{"requests":["?'+dm[dk].join('","?')+'"]}';if(cW&&a7(dl,null,false)){cg(100)}else{c4(dl,null,false)}}cg(di)})}function aU(di){return bl+di+"."+b7+"."+bq
+}function bZ(dk,dj,di){dd(dk,"",-86400,dj,di)}function b6(){if(bn){return"0"}if(!J(S.showModalDialog)&&J(g.cookieEnabled)){return g.cookieEnabled?"1":"0"}var di=bl+"testcookie";dd(di,"1",undefined,br,cX,bT,aJ);var dj=aD(di)==="1"?"1":"0";bZ(di);return dj}function bj(){bq=b8((cX||cU)+(br||"/")).slice(0,4)}function cI(){if(J(c7.res)){return c7}var dj,dl,dm={pdf:"application/pdf",qt:"video/quicktime",realp:"audio/x-pn-realaudio-plugin",wma:"application/x-mplayer2",fla:"application/x-shockwave-flash",java:"application/x-java-vm",ag:"application/x-silverlight"};if(!((new RegExp("MSIE")).test(g.userAgent))){if(g.mimeTypes&&g.mimeTypes.length){for(dj in dm){if(Object.prototype.hasOwnProperty.call(dm,dj)){dl=g.mimeTypes[dm[dj]];c7[dj]=(dl&&dl.enabledPlugin)?"1":"0"}}}if(!((new RegExp("Edge[ /](\\d+[\\.\\d]+)")).test(g.userAgent))&&typeof navigator.javaEnabled!=="unknown"&&J(g.javaEnabled)&&g.javaEnabled()){c7.java="1"}if(!J(S.showModalDialog)&&J(g.cookieEnabled)){c7.cookie=g.cookieEnabled?"1":"0"
+}else{c7.cookie=b6()}}var dk=parseInt(X.width,10);var di=parseInt(X.height,10);c7.res=parseInt(dk,10)+"x"+parseInt(di,10);return c7}function bY(){var dj=aU("cvar"),di=aD(dj);if(di&&di.length){di=S.JSON.parse(di);if(V(di)){return di}}return{}}function cF(){if(aR===false){aR=bY()}}function cR(){var di=cI();return b8((g.userAgent||"")+(g.platform||"")+S.JSON.stringify(di)+(new Date()).getTime()+Math.random()).slice(0,16)}function aB(){var di=cI();return b8((g.userAgent||"")+(g.platform||"")+S.JSON.stringify(di)).slice(0,6)}function bg(){return Math.floor((new Date()).getTime()/1000)}function aK(){var dj=bg();var dk=aB();var di=String(dj)+dk;return di}function c2(dk){dk=String(dk);var dn=aB();var dl=dn.length;var dm=dk.substr(-1*dl,dl);var dj=parseInt(dk.substr(0,dk.length-dl),10);if(dj&&dm&&dm===dn){var di=bg();if(a0<=0){return true}if(di>=dj&&di<=(dj+a0)){return true}}return false}function dg(di){if(!cN){return""}var dm=e(di,av);if(!dm){return""}dm=String(dm);var dk=new RegExp("^[a-zA-Z0-9]+$");
+if(dm.length===32&&dk.test(dm)){var dj=dm.substr(16,32);if(c2(dj)){var dl=dm.substr(0,16);return dl}}return""}function cO(){if(!bP){bP=dg(bO)}var dk=new Date(),di=Math.round(dk.getTime()/1000),dj=aU("id"),dn=aD(dj),dm,dl;if(dn){dm=dn.split(".");dm.unshift("0");if(bP.length){dm[1]=bP}return dm}if(bP.length){dl=bP}else{if("0"===b6()){dl=""}else{dl=cR()}}dm=["1",dl,di];return dm}function aZ(){var dl=cO(),dj=dl[0],dk=dl[1],di=dl[2];return{newVisitor:dj,uuid:dk,createTs:di}}function aH(){var dl=new Date(),dj=dl.getTime(),dm=aZ().createTs;var di=parseInt(dm,10);var dk=(di*1000)+cK-dj;return dk}function aN(di){if(!b7){return}var dk=new Date(),dj=Math.round(dk.getTime()/1000);if(!J(di)){di=aZ()}var dl=di.uuid+"."+di.createTs+".";dd(aU("id"),dl,aH(),br,cX,bT,aJ)}function bN(){var di=aD(aU("ref"));if(di.length){try{di=S.JSON.parse(di);if(V(di)){return di}}catch(dj){}}return["","",0,""]}function by(dj){var di="testvalue";dd("test",di,10000,null,dj,bT,aJ);if(aD("test")===di){bZ("test",null,dj);return true
+}return false}function aF(){var dj=bn;bn=false;var di,dk;for(di=0;di<bw.length;di++){dk=aU(bw[di]);if(dk!==cM&&dk!==be&&0!==aD(dk)){bZ(dk,br,cX)}}bn=dj}function b4(di){b7=di}function dh(dm){if(!dm||!V(dm)){return}var dl=[];var dk;for(dk in dm){if(Object.prototype.hasOwnProperty.call(dm,dk)){dl.push(dk)}}var dn={};dl.sort();var di=dl.length;var dj;for(dj=0;dj<di;dj++){dn[dl[dj]]=dm[dl[dj]]}return dn}function cd(){dd(aU("ses"),"1",cn,br,cX,bT,aJ)}function bh(){var dl="";var dj="abcdefghijklmnopqrstuvwxyz0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";var dk=dj.length;var di;for(di=0;di<6;di++){dl+=dj.charAt(Math.floor(Math.random()*dk))}return dl}function aA(dj){var di="";if(h&&h.timing&&h&&h.timing.connectEnd&&h.timing.fetchStart){if(h.timing.connectEnd<h.timing.fetchStart){return}di+="&pf_net="+(h.timing.connectEnd-h.timing.fetchStart)}if(h&&h.timing&&h&&h.timing.responseStart&&h.timing.requestStart){if(h.timing.responseStart<h.timing.requestStart){return}di+="&pf_srv="+(h.timing.responseStart-h.timing.requestStart)
+}if(h&&h.timing&&h&&h.timing.responseStart&&h.timing.responseEnd){if(h.timing.responseEnd<h.timing.responseStart){return}di+="&pf_tfr="+(h.timing.responseEnd-h.timing.responseStart)}if(h&&h.timing&&h&&h.timing.domInteractive&&h.timing.domLoading){if(h.timing.domInteractive<h.timing.domLoading){return}di+="&pf_dm1="+(h.timing.domInteractive-h.timing.domLoading)}if(h&&h.timing&&h&&h.timing.domComplete&&h.timing.domInteractive){if(h.timing.domComplete<h.timing.domInteractive){return}di+="&pf_dm2="+(h.timing.domComplete-h.timing.domInteractive)}if(h&&h.timing&&h&&h.timing.loadEventEnd&&h.timing.loadEventStart){if(h.timing.loadEventEnd<h.timing.loadEventStart){return}di+="&pf_onl="+(h.timing.loadEventEnd-h.timing.loadEventStart)}return dj+di}function cr(dk,dF,dG){var dE,dj=new Date(),ds=Math.round(dj.getTime()/1000),dp,dC,dl=1024,dL,dt,dB=aR,dm=aU("ses"),dz=aU("ref"),dw=aU("cvar"),dx=aD(dm),dD=bN(),dH=a5||bO,dq,di;if(bn){aF()}if(cQ){return""}var dy=aZ();var dv=G.characterSet||G.charset;if(!dv||dv.toLowerCase()==="utf-8"){dv=null
+}dq=dD[0];di=dD[1];dp=dD[2];dC=dD[3];if(!dx){if(!bx||!dq.length){for(dE in cp){if(Object.prototype.hasOwnProperty.call(cp,dE)){dq=e(dH,cp[dE]);if(dq.length){break}}}for(dE in bI){if(Object.prototype.hasOwnProperty.call(bI,dE)){di=e(dH,bI[dE]);if(di.length){break}}}}dL=d(bp);dt=dC.length?d(dC):"";if(dL.length&&!aW(dL)&&(!bx||!dt.length||aW(dt))){dC=bp}if(dC.length||dq.length){dp=ds;dD=[dq,di,dp,b3(dC.slice(0,dl))];dd(dz,S.JSON.stringify(dD),c5,br,cX,bT,aJ)}}dk+="&idsite="+b7+"&rec=1&r="+String(Math.random()).slice(2,8)+"&h="+dj.getHours()+"&m="+dj.getMinutes()+"&s="+dj.getSeconds()+"&url="+s(b3(dH))+(bp.length?"&urlref="+s(b3(bp)):"")+((bA&&bA.length)?"&uid="+s(bA):"")+"&_id="+dy.uuid+"&_idn="+dy.newVisitor+(dq.length?"&_rcn="+s(dq):"")+(di.length?"&_rck="+s(di):"")+"&_refts="+dp+(String(dC).length?"&_ref="+s(b3(dC.slice(0,dl))):"")+(dv?"&cs="+s(dv):"")+"&send_image=0";var dK=cI();for(dE in dK){if(Object.prototype.hasOwnProperty.call(dK,dE)){dk+="&"+dE+"="+dK[dE]}}var dJ=[];if(dF){for(dE in dF){if(Object.prototype.hasOwnProperty.call(dF,dE)&&/^dimension\d+$/.test(dE)){var dn=dE.replace("dimension","");
+dJ.push(parseInt(dn,10));dJ.push(String(dn));dk+="&"+dE+"="+s(dF[dE]);delete dF[dE]}}}if(dF&&B(dF)){dF=null}for(dE in cs){if(Object.prototype.hasOwnProperty.call(cs,dE)){dk+="&"+dE+"="+s(cs[dE])}}for(dE in bo){if(Object.prototype.hasOwnProperty.call(bo,dE)){var du=(-1===M(dJ,dE));if(du){dk+="&dimension"+dE+"="+s(bo[dE])}}}if(dF){dk+="&data="+s(S.JSON.stringify(dF))}else{if(ao){dk+="&data="+s(S.JSON.stringify(ao))}}function dr(dM,dN){var dO=S.JSON.stringify(dM);if(dO.length>2){return"&"+dN+"="+s(dO)}return""}var dI=dh(bX);var dA=dh(cm);dk+=dr(dI,"cvar");dk+=dr(dA,"e_cvar");if(aR){dk+=dr(aR,"_cvar");for(dE in dB){if(Object.prototype.hasOwnProperty.call(dB,dE)){if(aR[dE][0]===""||aR[dE][1]===""){delete aR[dE]}}}if(bR){dd(dw,S.JSON.stringify(aR),cn,br,cX,bT,aJ)}}if(a3&&bG&&!bi){dk=aA(dk);bi=true}if(aM){dk+="&pv_id="+aM}aN(dy);cd();dk+=ac(dG,{tracker:bK,request:dk});if(cZ.length){dk+="&"+cZ}if(A(cc)){dk=cc(dk)}return dk}bS=function a8(){var di=new Date();di=di.getTime();if(!cY){return false}if(cY+a6<=di){bK.ping();
+return true}return false};function bs(dl,dk,dq,dm,di,dt){var dp="idgoal=0",dj=new Date(),dr=[],ds,dn=String(dl).length;if(dn){dp+="&ec_id="+s(dl)}dp+="&revenue="+dk;if(String(dq).length){dp+="&ec_st="+dq}if(String(dm).length){dp+="&ec_tx="+dm}if(String(di).length){dp+="&ec_sh="+di}if(String(dt).length){dp+="&ec_dt="+dt}if(c0){for(ds in c0){if(Object.prototype.hasOwnProperty.call(c0,ds)){if(!J(c0[ds][1])){c0[ds][1]=""}if(!J(c0[ds][2])){c0[ds][2]=""}if(!J(c0[ds][3])||String(c0[ds][3]).length===0){c0[ds][3]=0}if(!J(c0[ds][4])||String(c0[ds][4]).length===0){c0[ds][4]=1}dr.push(c0[ds])}}dp+="&ec_items="+s(S.JSON.stringify(dr))}dp=cr(dp,ao,"ecommerce");bH(dp,bL);if(dn){c0={}}}function b0(di,dm,dl,dk,dj,dn){if(String(di).length&&J(dm)){bs(di,dm,dl,dk,dj,dn)}}function bu(di){if(J(di)){bs("",di,"","","","")}}function b1(dj,dl,dk){aM=bh();var di=cr("action_name="+s(al(dj||bk)),dl,"log");if(!bi){di=aA(di)}bH(di,bL,dk)}function a1(dk,dj){var dl,di="(^| )(piwik[_-]"+dj+"|matomo[_-]"+dj;if(dk){for(dl=0;
+dl<dk.length;dl++){di+="|"+dk[dl]}}di+=")( |$)";return new RegExp(di)}function aV(di){return(aE&&di&&0===String(di).indexOf(aE))}function cu(dm,di,dn,dj){if(aV(di)){return 0}var dl=a1(bM,"download"),dk=a1(a9,"link"),dp=new RegExp("\\.("+c6.join("|")+")([?&#]|$)","i");if(dk.test(dm)){return"link"}if(dj||dl.test(dm)||dp.test(di)){return"download"}if(dn){return 0}return"link"}function au(dj){var di;di=dj.parentNode;while(di!==null&&J(di)){if(ae.isLinkElement(dj)){break}dj=di;di=dj.parentNode}return dj}function db(dn){dn=au(dn);if(!ae.hasNodeAttribute(dn,"href")){return}if(!J(dn.href)){return}var dm=ae.getAttributeValueFromNode(dn,"href");var dj=dn.pathname||cl(dn.href);var dp=dn.hostname||d(dn.href);var dq=dp.toLowerCase();var dk=dn.href.replace(dp,dq);var dl=new RegExp("^(javascript|vbscript|jscript|mocha|livescript|ecmascript|mailto|tel):","i");if(!dl.test(dk)){var di=cu(dn.className,dk,ar(dq,dj),ae.hasNodeAttribute(dn,"download"));if(di){return{type:di,href:dk}}}}function aQ(di,dj,dk,dl){var dm=v.buildInteractionRequestParams(di,dj,dk,dl);
+if(!dm){return}return cr(dm,null,"contentInteraction")}function bc(di,dj){if(!di||!dj){return false}var dk=v.findTargetNode(di);if(v.shouldIgnoreInteraction(dk)){return false}dk=v.findTargetNodeNoDefault(di);if(dk&&!U(dk,dj)){return false}return true}function ct(dk,dj,dm){if(!dk){return}var di=v.findParentContentNode(dk);if(!di){return}if(!bc(di,dk)){return}var dl=v.buildContentBlock(di);if(!dl){return}if(!dl.target&&dm){dl.target=dm}return v.buildInteractionRequestParams(dj,dl.name,dl.piece,dl.target)}function aX(dj){if(!cb||!cb.length){return false}var di,dk;for(di=0;di<cb.length;di++){dk=cb[di];if(dk&&dk.name===dj.name&&dk.piece===dj.piece&&dk.target===dj.target){return true}}return false}function aY(di){return function(dm){if(!di){return}var dk=v.findParentContentNode(di);var dj;if(dm){dj=dm.target||dm.srcElement}if(!dj){dj=di}if(!bc(dk,dj)){return}if(!dk){return false}var dn=v.findTargetNode(dk);if(!dn||v.shouldIgnoreInteraction(dn)){return false}var dl=db(dn);if(c8&&dl&&dl.type){return dl.type
+}return bK.trackContentInteractionNode(dj,"click")}}function b2(dk){if(!dk||!dk.length){return}var di,dj;for(di=0;di<dk.length;di++){dj=v.findTargetNode(dk[di]);if(dj&&!dj.contentInteractionTrackingSetupDone){dj.contentInteractionTrackingSetupDone=true;an(dj,"click",aY(dj))}}}function bz(dk,dl){if(!dk||!dk.length){return[]}var di,dj;for(di=0;di<dk.length;di++){if(aX(dk[di])){dk.splice(di,1);di--}else{cb.push(dk[di])}}if(!dk||!dk.length){return[]}b2(dl);var dm=[];for(di=0;di<dk.length;di++){dj=cr(v.buildImpressionRequestParams(dk[di].name,dk[di].piece,dk[di].target),undefined,"contentImpressions");if(dj){dm.push(dj)}}return dm}function cz(dj){var di=v.collectContent(dj);return bz(di,dj)}function ba(dj){if(!dj||!dj.length){return[]}var di;for(di=0;di<dj.length;di++){if(!v.isNodeVisible(dj[di])){dj.splice(di,1);di--}}if(!dj||!dj.length){return[]}return cz(dj)}function aG(dk,di,dj){var dl=v.buildImpressionRequestParams(dk,di,dj);return cr(dl,null,"contentImpression")}function da(dl,dj){if(!dl){return
+}var di=v.findParentContentNode(dl);var dk=v.buildContentBlock(di);if(!dk){return}if(!dj){dj="Unknown"}return aQ(dj,dk.name,dk.piece,dk.target)}function cP(dj,dl,di,dk){return"e_c="+s(dj)+"&e_a="+s(dl)+(J(di)?"&e_n="+s(di):"")+(J(dk)?"&e_v="+s(dk):"")+"&ca=1"}function at(dk,dm,di,dl,dp,dn){if(!Y(dk)||!Y(dm)){ak("Error while logging event: Parameters `category` and `action` must not be empty or filled with whitespaces");return false}var dj=cr(cP(dk,dm,di,dl),dp,"event");bH(dj,bL,dn)}function b9(di,dl,dj,dm){var dk=cr("search="+s(di)+(dl?"&search_cat="+s(dl):"")+(J(dj)?"&search_count="+dj:""),dm,"sitesearch");bH(dk,bL)}function cT(di,dm,dl,dk){var dj=cr("idgoal="+di+(dm?"&revenue="+dm:""),dl,"goal");bH(dj,bL,dk)}function c1(dl,di,dq,dp,dk){var dn=di+"="+s(b3(dl));var dj=ct(dk,"click",dl);if(dj){dn+="&"+dj}var dm=cr(dn,dq,"link");bH(dm,bL,dp)}function bV(dj,di){if(dj!==""){return dj+di.charAt(0).toUpperCase()+di.slice(1)}return di}function ch(dn){var dm,di,dl=["","webkit","ms","moz"],dk;if(!bf){for(di=0;
+di<dl.length;di++){dk=dl[di];if(Object.prototype.hasOwnProperty.call(G,bV(dk,"hidden"))){if(G[bV(dk,"visibilityState")]==="prerender"){dm=true}break}}}if(dm){an(G,dk+"visibilitychange",function dj(){G.removeEventListener(dk+"visibilitychange",dj,false);dn()});return}dn()}function bt(){var dj=bK.getVisitorId();var di=aK();return dj+di}function cj(di){if(!di){return}if(!ae.hasNodeAttribute(di,"href")){return}var dj=ae.getAttributeValueFromNode(di,"href");if(!dj||aV(dj)){return}if(!bK.getVisitorId()){return}dj=j(dj,av);var dk=bt();dj=F(dj,av,dk);ae.setAnyAttribute(di,"href",dj)}function bm(dl){var dm=ae.getAttributeValueFromNode(dl,"href");if(!dm){return false}dm=String(dm);var dj=dm.indexOf("//")===0||dm.indexOf("http://")===0||dm.indexOf("https://")===0;if(!dj){return false}var di=dl.pathname||cl(dl.href);var dk=(dl.hostname||d(dl.href)).toLowerCase();if(ar(dk,di)){if(!cH(cU,L(dk))){return true}return false}return false}function cG(di){var dj=db(di);if(dj&&dj.type){dj.href=o(dj.href);c1(dj.href,dj.type,undefined,null,di);
+return}if(cN){di=au(di);if(bm(di)){cj(di)}}}function cv(){return G.all&&!G.addEventListener}function cV(di){var dk=di.which;var dj=(typeof di.button);if(!dk&&dj!=="undefined"){if(cv()){if(di.button&1){dk=1}else{if(di.button&2){dk=3}else{if(di.button&4){dk=2}}}}else{if(di.button===0||di.button==="0"){dk=1}else{if(di.button&1){dk=2}else{if(di.button&2){dk=3}}}}}return dk}function bU(di){switch(cV(di)){case 1:return"left";case 2:return"middle";case 3:return"right"}}function a2(di){return di.target||di.srcElement}function aC(di){return function(dl){dl=dl||S.event;var dk=bU(dl);var dm=a2(dl);if(dl.type==="click"){var dj=false;if(di&&dk==="middle"){dj=true}if(dm&&!dj){cG(dm)}}else{if(dl.type==="mousedown"){if(dk==="middle"&&dm){aS=dk;bC=dm}else{aS=bC=null}}else{if(dl.type==="mouseup"){if(dk===aS&&dm===bC){cG(dm)}aS=bC=null}else{if(dl.type==="contextmenu"){cG(dm)}}}}}}function aq(dk,dj){var di=typeof dj;if(di==="undefined"){dj=true}an(dk,"click",aC(dj),false);if(dj){an(dk,"mouseup",aC(dj),false);
+an(dk,"mousedown",aC(dj),false);an(dk,"contextmenu",aC(dj),false)}}function bF(dk,dm){ap=true;var dl,dj=a1(bB,"ignore"),dn=G.links,di=null,dp=null;if(dn){for(dl=0;dl<dn.length;dl++){di=dn[dl];if(!dj.test(di.className)){dp=typeof di.matomoTrackers;if("undefined"===dp){di.matomoTrackers=[]}if(-1===M(di.matomoTrackers,dm)){di.matomoTrackers.push(dm);aq(di,dk)}}}}}function aT(dj,dm,dn){if(cf){return true}cf=true;var dp=false;var dl,dk;function di(){dp=true}m(function(){function dq(ds){setTimeout(function(){if(!cf){return}dp=false;dn.trackVisibleContentImpressions();dq(ds)},ds)}function dr(ds){setTimeout(function(){if(!cf){return}if(dp){dp=false;dn.trackVisibleContentImpressions()}dr(ds)},ds)}if(dj){dl=["scroll","resize"];for(dk=0;dk<dl.length;dk++){if(G.addEventListener){G.addEventListener(dl[dk],di,false)}else{S.attachEvent("on"+dl[dk],di)}}dr(100)}if(dm&&dm>0){dm=parseInt(dm,10);dq(dm)}})}var bE={enabled:true,requests:[],timeout:null,interval:2500,sendRequests:function(){var di=this.requests;
+this.requests=[];if(di.length===1){bH(di[0],bL)}else{de(di,bL)}},canQueue:function(){return !l&&this.enabled},pushMultiple:function(dj){if(!this.canQueue()){de(dj,bL);return}var di;for(di=0;di<dj.length;di++){this.push(dj[di])}},push:function(di){if(!di){return}if(!this.canQueue()){bH(di,bL);return}bE.requests.push(di);if(this.timeout){clearTimeout(this.timeout);this.timeout=null}this.timeout=setTimeout(function(){bE.timeout=null;bE.sendRequests()},bE.interval);var dj="RequestQueue"+ax;if(!Object.prototype.hasOwnProperty.call(b,dj)){b[dj]={unload:function(){if(bE.timeout){clearTimeout(bE.timeout)}bE.sendRequests()}}}}};bj();aN();this.hasConsent=function(){return bD};this.getVisitorId=function(){return aZ().uuid};this.getVisitorInfo=function(){return cO()};this.getAttributionInfo=function(){return bN()};this.getAttributionCampaignName=function(){return bN()[0]};this.getAttributionCampaignKeyword=function(){return bN()[1]};this.getAttributionReferrerTimestamp=function(){return bN()[2]};this.getAttributionReferrerUrl=function(){return bN()[3]
+};this.setTrackerUrl=function(di){aE=di};this.getTrackerUrl=function(){return aE};this.getMatomoUrl=function(){return W(this.getTrackerUrl(),bJ)};this.getPiwikUrl=function(){return this.getMatomoUrl()};this.addTracker=function(dk,dj){if(!J(dk)||null===dk){dk=this.getTrackerUrl()}var di=new P(dk,dj);I.push(di);t.trigger("TrackerAdded",[this]);return di};this.getSiteId=function(){return b7};this.setSiteId=function(di){b4(di)};this.resetUserId=function(){bA=""};this.setUserId=function(di){if(Y(di)){bA=di}};this.setVisitorId=function(dj){var di=/[0-9A-Fa-f]{16}/g;if(w(dj)&&di.test(dj)){bP=dj}else{ak("Invalid visitorId set"+dj)}};this.getUserId=function(){return bA};this.setCustomData=function(di,dj){if(V(di)){ao=di}else{if(!ao){ao={}}ao[di]=dj}};this.getCustomData=function(){return ao};this.setCustomRequestProcessing=function(di){cc=di};this.appendToTrackingUrl=function(di){cZ=di};this.getRequest=function(di){return cr(di)};this.addPlugin=function(di,dj){b[di]=dj};this.setCustomDimension=function(di,dj){di=parseInt(di,10);
+if(di>0){if(!J(dj)){dj=""}if(!w(dj)){dj=String(dj)}bo[di]=dj}};this.getCustomDimension=function(di){di=parseInt(di,10);if(di>0&&Object.prototype.hasOwnProperty.call(bo,di)){return bo[di]}};this.deleteCustomDimension=function(di){di=parseInt(di,10);if(di>0){delete bo[di]}};this.setCustomVariable=function(dj,di,dm,dk){var dl;if(!J(dk)){dk="visit"}if(!J(di)){return}if(!J(dm)){dm=""}if(dj>0){di=!w(di)?String(di):di;dm=!w(dm)?String(dm):dm;dl=[di.slice(0,bv),dm.slice(0,bv)];if(dk==="visit"||dk===2){cF();aR[dj]=dl}else{if(dk==="page"||dk===3){bX[dj]=dl}else{if(dk==="event"){cm[dj]=dl}}}}};this.getCustomVariable=function(dj,dk){var di;if(!J(dk)){dk="visit"}if(dk==="page"||dk===3){di=bX[dj]}else{if(dk==="event"){di=cm[dj]}else{if(dk==="visit"||dk===2){cF();di=aR[dj]}}}if(!J(di)||(di&&di[0]==="")){return false}return di};this.deleteCustomVariable=function(di,dj){if(this.getCustomVariable(di,dj)){this.setCustomVariable(di,"","",dj)}};this.deleteCustomVariables=function(di){if(di==="page"||di===3){bX={}
+}else{if(di==="event"){cm={}}else{if(di==="visit"||di===2){aR={}}}}};this.storeCustomVariablesInCookie=function(){bR=true};this.setLinkTrackingTimer=function(di){bL=di};this.getLinkTrackingTimer=function(){return bL};this.setDownloadExtensions=function(di){if(w(di)){di=di.split("|")}c6=di};this.addDownloadExtensions=function(dj){var di;if(w(dj)){dj=dj.split("|")}for(di=0;di<dj.length;di++){c6.push(dj[di])}};this.removeDownloadExtensions=function(dk){var dj,di=[];if(w(dk)){dk=dk.split("|")}for(dj=0;dj<c6.length;dj++){if(M(dk,c6[dj])===-1){di.push(c6[dj])}}c6=di};this.setDomains=function(di){ay=w(di)?[di]:di;var dm=false,dk=0,dj;for(dk;dk<ay.length;dk++){dj=String(ay[dk]);if(cH(cU,L(dj))){dm=true;break}var dl=cl(dj);if(dl&&dl!=="/"&&dl!=="/*"){dm=true;break}}if(!dm){ay.push(cU)}};this.enableCrossDomainLinking=function(){cN=true};this.disableCrossDomainLinking=function(){cN=false};this.isCrossDomainLinkingEnabled=function(){return cN};this.setCrossDomainLinkingTimeout=function(di){a0=di};this.getCrossDomainLinkingUrlParameter=function(){return s(av)+"="+s(bt())
+};this.setIgnoreClasses=function(di){bB=w(di)?[di]:di};this.setRequestMethod=function(di){if(di){c9=String(di).toUpperCase()}else{c9=ci}if(c9==="GET"){this.disableAlwaysUseSendBeacon()}};this.setRequestContentType=function(di){cw=di||aI};this.setGenerationTimeMs=function(di){ak("setGenerationTimeMs is no longer supported since Matomo 4. The call will be ignored. There is currently no replacement yet.")};this.setReferrerUrl=function(di){bp=di};this.setCustomUrl=function(di){a5=bW(bO,di)};this.getCurrentUrl=function(){return a5||bO};this.setDocumentTitle=function(di){bk=di};this.setAPIUrl=function(di){bJ=di};this.setDownloadClasses=function(di){bM=w(di)?[di]:di};this.setLinkClasses=function(di){a9=w(di)?[di]:di};this.setCampaignNameKey=function(di){cp=w(di)?[di]:di};this.setCampaignKeywordKey=function(di){bI=w(di)?[di]:di};this.discardHashTag=function(di){bQ=di};this.setCookieNamePrefix=function(di){bl=di;if(aR){aR=bY()}};this.setCookieDomain=function(di){var dj=L(di);if(by(dj)){cX=dj;bj()
+}};this.getCookieDomain=function(){return cX};this.hasCookies=function(){return"1"===b6()};this.setSessionCookie=function(dk,dj,di){if(!dk){throw new Error("Missing cookie name")}if(!J(di)){di=cn}bw.push(dk);dd(aU(dk),dj,di,br,cX,bT,aJ)};this.getCookie=function(dj){var di=aD(aU(dj));if(di===0){return null}return di};this.setCookiePath=function(di){br=di;bj()};this.getCookiePath=function(di){return br};this.setVisitorCookieTimeout=function(di){cK=di*1000};this.setSessionCookieTimeout=function(di){cn=di*1000};this.getSessionCookieTimeout=function(){return cn};this.setReferralCookieTimeout=function(di){c5=di*1000};this.setConversionAttributionFirstReferrer=function(di){bx=di};this.setSecureCookie=function(di){if(di&&location.protocol!=="https:"){ak("Error in setSecureCookie: You cannot use `Secure` on http.");return}bT=di};this.setCookieSameSite=function(di){di=String(di);di=di.charAt(0).toUpperCase()+di.toLowerCase().slice(1);if(di!=="None"&&di!=="Lax"&&di!=="Strict"){ak("Ignored value for sameSite. Please use either Lax, None, or Strict.");
+return}if(di==="None"){if(location.protocol==="https:"){this.setSecureCookie(true)}else{ak("sameSite=None cannot be used on http, reverted to sameSite=Lax.");di="Lax"}}aJ=di};this.disableCookies=function(){bn=true;if(b7){aF()}};this.areCookiesEnabled=function(){return !bn};this.setCookieConsentGiven=function(){if(bn&&!cQ){bn=false;if(b7&&aw){aN();var di=cr("ping=1",null,"ping");bH(di,bL)}}};this.requireCookieConsent=function(){if(this.getRememberedCookieConsent()){return false}this.disableCookies();return true};this.getRememberedCookieConsent=function(){return aD(cD)};this.forgetCookieConsentGiven=function(){bZ(cD,br,cX);this.disableCookies()};this.rememberCookieConsentGiven=function(dj){if(dj){dj=dj*60*60*1000}else{dj=30*365*24*60*60*1000}this.setCookieConsentGiven();var di=new Date().getTime();dd(cD,di,dj,br,cX,bT,aJ)};this.deleteCookies=function(){aF()};this.setDoNotTrack=function(dj){var di=g.doNotTrack||g.msDoNotTrack;cQ=dj&&(di==="yes"||di==="1");if(cQ){this.disableCookies()}};this.alwaysUseSendBeacon=function(){cW=true
+};this.disableAlwaysUseSendBeacon=function(){cW=false};this.addListener=function(dj,di){aq(dj,di)};this.enableLinkTracking=function(dj){c8=true;var di=this;ch(function(){p(function(){bF(dj,di)});m(function(){bF(dj,di)})})};this.enableJSErrorTracking=function(){if(cS){return}cS=true;var di=S.onerror;S.onerror=function(dn,dl,dk,dm,dj){ch(function(){var dp="JavaScript Errors";var dq=dl+":"+dk;if(dm){dq+=":"+dm}at(dp,dq,dn)});if(di){return di(dn,dl,dk,dm,dj)}return false}};this.disablePerformanceTracking=function(){a3=false};this.enableHeartBeatTimer=function(di){di=Math.max(di||15,5);a6=di*1000;if(cY!==null){df()}};this.disableHeartBeatTimer=function(){if(a6||aO){if(S.removeEventListener){S.removeEventListener("focus",bb);S.removeEventListener("blur",az)}else{if(S.detachEvent){S.detachEvent("onfocus",bb);S.detachEvent("onblur",az)}}}a6=null;aO=false};this.killFrame=function(){if(S.location!==S.top.location){S.top.location=S.location}};this.redirectFile=function(di){if(S.location.protocol==="file:"){S.location=di
+}};this.setCountPreRendered=function(di){bf=di};this.trackGoal=function(di,dl,dk,dj){ch(function(){cT(di,dl,dk,dj)})};this.trackLink=function(dj,di,dl,dk){ch(function(){c1(dj,di,dl,dk)})};this.getNumTrackedPageViews=function(){return cq};this.trackPageView=function(di,dk,dj){cb=[];cL=[];if(N(b7)){ch(function(){Z(aE,bJ,b7)})}else{ch(function(){cq++;b1(di,dk,dj)})}};this.trackAllContentImpressions=function(){if(N(b7)){return}ch(function(){p(function(){var di=v.findContentNodes();var dj=cz(di);bE.pushMultiple(dj)})})};this.trackVisibleContentImpressions=function(di,dj){if(N(b7)){return}if(!J(di)){di=true}if(!J(dj)){dj=750}aT(di,dj,this);ch(function(){m(function(){var dk=v.findContentNodes();var dl=ba(dk);bE.pushMultiple(dl)})})};this.trackContentImpression=function(dk,di,dj){if(N(b7)){return}dk=a(dk);di=a(di);dj=a(dj);if(!dk){return}di=di||"Unknown";ch(function(){var dl=aG(dk,di,dj);bE.push(dl)})};this.trackContentImpressionsWithinNode=function(di){if(N(b7)||!di){return}ch(function(){if(cf){m(function(){var dj=v.findContentNodesWithinNode(di);
+var dk=ba(dj);bE.pushMultiple(dk)})}else{p(function(){var dj=v.findContentNodesWithinNode(di);var dk=cz(dj);bE.pushMultiple(dk)})}})};this.trackContentInteraction=function(dk,dl,di,dj){if(N(b7)){return}dk=a(dk);dl=a(dl);di=a(di);dj=a(dj);if(!dk||!dl){return}di=di||"Unknown";ch(function(){var dm=aQ(dk,dl,di,dj);if(dm){bE.push(dm)}})};this.trackContentInteractionNode=function(dk,dj){if(N(b7)||!dk){return}var di=null;ch(function(){di=da(dk,dj);if(di){bE.push(di)}});return di};this.logAllContentBlocksOnPage=function(){var dk=v.findContentNodes();var di=v.collectContent(dk);var dj=typeof console;if(dj!=="undefined"&&console&&console.log){console.log(di)}};this.trackEvent=function(dj,dl,di,dk,dn,dm){ch(function(){at(dj,dl,di,dk,dn,dm)})};this.trackSiteSearch=function(di,dk,dj,dl){cb=[];ch(function(){b9(di,dk,dj,dl)})};this.setEcommerceView=function(dm,di,dk,dj){cs={};if(Y(dk)){dk=String(dk)}if(!J(dk)||dk===null||dk===false||!dk.length){dk=""}else{if(dk instanceof Array){dk=S.JSON.stringify(dk)
+}}var dl="_pkc";cs[dl]=dk;if(J(dj)&&dj!==null&&dj!==false&&String(dj).length){dl="_pkp";cs[dl]=dj}if(!Y(dm)&&!Y(di)){return}if(Y(dm)){dl="_pks";cs[dl]=dm}if(!Y(di)){di=""}dl="_pkn";cs[dl]=di};this.getEcommerceItems=function(){return JSON.parse(JSON.stringify(c0))};this.addEcommerceItem=function(dm,di,dk,dj,dl){if(Y(dm)){c0[dm]=[String(dm),di,dk,dj,dl]}};this.removeEcommerceItem=function(di){if(Y(di)){di=String(di);delete c0[di]}};this.clearEcommerceCart=function(){c0={}};this.trackEcommerceOrder=function(di,dm,dl,dk,dj,dn){b0(di,dm,dl,dk,dj,dn)};this.trackEcommerceCartUpdate=function(di){bu(di)};this.trackRequest=function(dj,dl,dk,di){ch(function(){var dm=cr(dj,dl,di);bH(dm,bL,dk)})};this.ping=function(){this.trackRequest("ping=1",null,null,"ping")};this.disableQueueRequest=function(){bE.enabled=false};this.setRequestQueueInterval=function(di){if(di<1000){throw new Error("Request queue interval needs to be at least 1000ms")}bE.interval=di};this.queueRequest=function(di){ch(function(){var dj=cr(di);
+bE.push(dj)})};this.isConsentRequired=function(){return cA};this.getRememberedConsent=function(){var di=aD(be);if(aD(cM)){if(di){bZ(be,br,cX)}return null}if(!di||di===0){return null}return di};this.hasRememberedConsent=function(){return !!this.getRememberedConsent()};this.requireConsent=function(){cA=true;bD=this.hasRememberedConsent();if(!bD){bn=true}x++;b["CoreConsent"+x]={unload:function(){if(!bD){aF()}}}};this.setConsentGiven=function(dj){bD=true;bZ(cM,br,cX);var dk,di;for(dk=0;dk<cL.length;dk++){di=typeof cL[dk];if(di==="string"){bH(cL[dk],bL)}else{if(di==="object"){de(cL[dk],bL)}}}cL=[];if(!J(dj)||dj){this.setCookieConsentGiven()}};this.rememberConsentGiven=function(dk){if(dk){dk=dk*60*60*1000}else{dk=30*365*24*60*60*1000}var di=true;this.setConsentGiven(di);var dj=new Date().getTime();dd(be,dj,dk,br,cX,bT,aJ)};this.forgetConsentGiven=function(){var di=30*365*24*60*60*1000;bZ(be,br,cX);dd(cM,new Date().getTime(),di,br,cX,bT,aJ);this.forgetCookieConsentGiven();this.requireConsent()
+};this.isUserOptedOut=function(){return !bD};this.optUserOut=this.forgetConsentGiven;this.forgetUserOptOut=function(){this.setConsentGiven(false)};m(function(){setTimeout(function(){bG=true},0)});t.trigger("TrackerSetup",[this])}function H(){return{push:af}}function c(au,at){var av={};var aq,ar;for(aq=0;aq<at.length;aq++){var ao=at[aq];av[ao]=1;for(ar=0;ar<au.length;ar++){if(au[ar]&&au[ar][0]){var ap=au[ar][0];if(ao===ap){af(au[ar]);delete au[ar];if(av[ap]>1&&ap!=="addTracker"){ak("The method "+ap+' is registered more than once in "_paq" variable. Only the last call has an effect. Please have a look at the multiple Matomo trackers documentation: https://developer.matomo.org/guides/tracking-javascript-guide#multiple-piwik-trackers')}av[ap]++}}}}return au}var C=["addTracker","forgetCookieConsentGiven","requireCookieConsent","disableCookies","setTrackerUrl","setAPIUrl","enableCrossDomainLinking","setCrossDomainLinkingTimeout","setSessionCookieTimeout","setVisitorCookieTimeout","setCookieNamePrefix","setCookieSameSite","setSecureCookie","setCookiePath","setCookieDomain","setDomains","setUserId","setVisitorId","setSiteId","alwaysUseSendBeacon","enableLinkTracking","setCookieConsentGiven","requireConsent","setConsentGiven","disablePerformanceTracking"];
+function ad(aq,ap){var ao=new P(aq,ap);I.push(ao);_paq=c(_paq,C);for(E=0;E<_paq.length;E++){if(_paq[E]){af(_paq[E])}}_paq=new H();t.trigger("TrackerAdded",[ao]);return ao}an(S,"beforeunload",ai,false);an(S,"online",function(){if(J(g.serviceWorker)&&J(g.serviceWorker.ready)){g.serviceWorker.ready.then(function(ao){return ao.sync.register("matomoSync")})}},false);an(S,"message",function(au){if(!au||!au.origin){return}var aw,ar,ap;var ax=d(au.origin);var at=t.getAsyncTrackers();for(ar=0;ar<at.length;ar++){ap=d(at[ar].getMatomoUrl());if(ap===ax){aw=at[ar];break}}if(!aw){return}var aq=null;try{aq=JSON.parse(au.data)}catch(av){return}if(!aq){return}function ao(aA){var aC=G.getElementsByTagName("iframe");for(ar=0;ar<aC.length;ar++){var aB=aC[ar];var ay=d(aB.src);if(aB.contentWindow&&J(aB.contentWindow.postMessage)&&ay===ax){var az=JSON.stringify(aA);aB.contentWindow.postMessage(az,"*")}}}if(J(aq.maq_initial_value)){ao({maq_opted_in:aq.maq_initial_value&&aw.hasConsent(),maq_url:aw.getMatomoUrl(),maq_optout_by_default:aw.isConsentRequired()})
+}else{if(J(aq.maq_opted_in)){at=t.getAsyncTrackers();for(ar=0;ar<at.length;ar++){aw=at[ar];if(aq.maq_opted_in){aw.rememberConsentGiven()}else{aw.forgetConsentGiven()}}ao({maq_confirm_opted_in:aw.hasConsent(),maq_url:aw.getMatomoUrl(),maq_optout_by_default:aw.isConsentRequired()})}}},false);Date.prototype.getTimeAlias=Date.prototype.getTime;t={initialized:false,JSON:S.JSON,DOM:{addEventListener:function(ar,aq,ap,ao){var at=typeof ao;if(at==="undefined"){ao=false}an(ar,aq,ap,ao)},onLoad:m,onReady:p,isNodeVisible:i,isOrWasNodeVisible:v.isNodeVisible},on:function(ap,ao){if(!y[ap]){y[ap]=[]}y[ap].push(ao)},off:function(aq,ap){if(!y[aq]){return}var ao=0;for(ao;ao<y[aq].length;ao++){if(y[aq][ao]===ap){y[aq].splice(ao,1)}}},trigger:function(aq,ar,ap){if(!y[aq]){return}var ao=0;for(ao;ao<y[aq].length;ao++){y[aq][ao].apply(ap||S,ar)}},addPlugin:function(ao,ap){b[ao]=ap},getTracker:function(ap,ao){if(!J(ao)){ao=this.getAsyncTracker().getSiteId()}if(!J(ap)){ap=this.getAsyncTracker().getTrackerUrl()
+}return new P(ap,ao)},getAsyncTrackers:function(){return I},addTracker:function(aq,ap){var ao;if(!I.length){ao=ad(aq,ap)}else{ao=I[0].addTracker(aq,ap)}return ao},getAsyncTracker:function(at,ar){var aq;if(I&&I.length&&I[0]){aq=I[0]}else{return ad(at,ar)}if(!ar&&!at){return aq}if((!J(ar)||null===ar)&&aq){ar=aq.getSiteId()}if((!J(at)||null===at)&&aq){at=aq.getTrackerUrl()}var ap,ao=0;for(ao;ao<I.length;ao++){ap=I[ao];if(ap&&String(ap.getSiteId())===String(ar)&&ap.getTrackerUrl()===at){return ap}}},retryMissedPluginCalls:function(){var ap=ah;ah=[];var ao=0;for(ao;ao<ap.length;ao++){af(ap[ao])}}};if(typeof define==="function"&&define.amd){define("piwik",[],function(){return t});define("matomo",[],function(){return t})}return t}())}
+/*!!! pluginTrackerHook */
+(function(){function b(){if("object"!==typeof _paq){return false}var c=typeof _paq.length;if("undefined"===c){return false}return !!_paq.length}if(window&&"object"===typeof window.matomoPluginAsyncInit&&window.matomoPluginAsyncInit.length){var a=0;
+for(a;a<window.matomoPluginAsyncInit.length;a++){if(typeof window.matomoPluginAsyncInit[a]==="function"){window.matomoPluginAsyncInit[a]()}}}if(window&&window.piwikAsyncInit){window.piwikAsyncInit()}if(window&&window.matomoAsyncInit){window.matomoAsyncInit()}if(!window.Matomo.getAsyncTrackers().length){if(b()){window.Matomo.addTracker()}else{_paq={push:function(c){var d=typeof console;if(d!=="undefined"&&console&&console.error){console.error("_paq.push() was used but Matomo tracker was not initialized before the matomo.js file was loaded. Make sure to configure the tracker via _paq.push before loading matomo.js. Alternatively, you can create a tracker via Matomo.addTracker() manually and then use _paq.push but it may not fully work as tracker methods may not be executed in the correct order.",c)}}}}}window.Matomo.trigger("MatomoInitialized",[]);window.Matomo.initialized=true}());(function(){var a=(typeof window.AnalyticsTracker);if(a==="undefined"){window.AnalyticsTracker=window.Matomo}}());
+if(typeof window.piwik_log!=="function"){window.piwik_log=function(c,e,g,f){function b(h){try{if(window["piwik_"+h]){return window["piwik_"+h]}}catch(i){}return}var d,a=window.Matomo.getTracker(g,e);a.setDocumentTitle(c);a.setCustomData(f);d=b("tracker_pause");if(d){a.setLinkTrackingTimer(d)}d=b("download_extensions");if(d){a.setDownloadExtensions(d)}d=b("hosts_alias");if(d){a.setDomains(d)}d=b("ignore_classes");if(d){a.setIgnoreClasses(d)}a.trackPageView();if(b("install_tracker")){piwik_track=function(i,j,k,h){a.setSiteId(j);a.setTrackerUrl(k);a.trackLink(i,h)};a.enableLinkTracking()}}}
+/*!! @license-end */;
\ No newline at end of file
diff --git a/Angular/src/assets/i18n/app/en.json b/Angular/src/assets/i18n/app/en.json
index d0fca6b..3827925 100644
--- a/Angular/src/assets/i18n/app/en.json
+++ b/Angular/src/assets/i18n/app/en.json
@@ -1,10 +1,6 @@
 {
   "app": {
-    "examples": "Examples",
     "members": "Members",
-    "planes": "Planes",
-    "planesPageMode": "Planes (Page Mode)",
-    "planesViewMode": "Planes (View Mode)",
     "sites": "Sites",
     "users": "Users"
   },
@@ -21,17 +17,6 @@
     "showFilters": "Show filters",
     "welcome": "BIA is a component library, built with the Angular framework"
   },
-  "plane": {
-    "add": "Add Plane",
-    "capacity": "Capacity",
-    "edit": "Edit Plane",
-    "firstFlightDate": "First Flight Date",
-    "firstFlightTime": "First Flight Time",
-    "isActive": "Active",
-    "lastFlightDate": "Last Flight Date",
-    "listOf": "List of planes",
-    "msn": "Msn"
-  },
   "site": {
     "add": "Add site",
     "admins": "Administrators",
diff --git a/Angular/src/assets/i18n/app/es.json b/Angular/src/assets/i18n/app/es.json
index a1df5f4..bcbfdee 100644
--- a/Angular/src/assets/i18n/app/es.json
+++ b/Angular/src/assets/i18n/app/es.json
@@ -1,10 +1,6 @@
 {
   "app": {
-    "examples": "Ejemplos",
     "members": "Miembros",
-    "planes": "Planos",
-    "planesPageMode": "Planos (Modo página)",
-    "planesViewMode": "Planos (Modo ver)",
     "sites": "Sitios",
     "users": "Usuarios"
   },
@@ -21,17 +17,6 @@
     "showFilters": "Mostrar filtros",
     "welcome": "BIA es una biblioteca de componentes, construida con el marco Angular"
   },
-  "plane": {
-    "add": "Añadir plano",
-    "capacity": "Capacidad",
-    "edit": "Editar plano",
-    "firstFlightDate": "Fecha del primer vuelo",
-    "firstFlightTime": "Tiempo del primer vuelo",
-    "isActive": "Activo",
-    "lastFlightDate": "Última fecha de vuelo",
-    "listOf": "Lista de planos",
-    "msn": "Msn"
-  },
   "site": {
     "add": "Añadir sitios",
     "admins": "Administradores",
diff --git a/Angular/src/assets/i18n/app/fr.json b/Angular/src/assets/i18n/app/fr.json
index 7ca5986..f5bc806 100644
--- a/Angular/src/assets/i18n/app/fr.json
+++ b/Angular/src/assets/i18n/app/fr.json
@@ -1,10 +1,6 @@
 {
   "app": {
-    "examples": "Exemples",
     "members": "Membres",
-    "planes": "Avions",
-    "planesPageMode": "Avions (Mode Page)",
-    "planesViewMode": "Avions (Mode Vue)",
     "sites": "Sites",
     "users": "Utilisateurs"
   },
@@ -21,17 +17,6 @@
     "showFilters": "Afficher les filtres",
     "welcome": "BIA est une librarie de composants, construite avec le framework Angular"
   },
-  "plane": {
-    "add": "Ajouter avion",
-    "capacity": "Capacité",
-    "edit": "Modifier avion",
-    "firstFlightDate": "Date du premier vol",
-    "firstFlightTime": "Heure du premier vol",
-    "isActive": "Actif",
-    "lastFlightDate": "Date du dernier vol",
-    "listOf": "Liste des avions",
-    "msn": "Msn"
-  },
   "site": {
     "add": "Ajouter site",
     "admins": "Administrateurs",
diff --git a/Angular/src/environments/environment.prod.ts b/Angular/src/environments/environment.prod.ts
index 286bf4f..596b10d 100644
--- a/Angular/src/environments/environment.prod.ts
+++ b/Angular/src/environments/environment.prod.ts
@@ -1,7 +1,10 @@
 import {NgxLoggerLevel} from 'ngx-logger';
 
 export const environment = {
+  helpUrl: '',
+  reportUrl: '',
   apiUrl: '../WebApi/api',
+  hubUrl: '../WebApi/HubForClients',
   urlAuth: '/api/Auth',
   urlLog: '/api/logs',
   urlEnv: '/api/Environment',
@@ -12,7 +15,7 @@ export const environment = {
   production: true,
   appTitle: 'BIATemplate',
   companyName: 'Safran',
-  version: '1.2.2',
+  version: '1.3.0',
   logging: {
     conf: {
       serverLoggingUrl: '../WebApi/api/logs',
diff --git a/Angular/src/environments/environment.ts b/Angular/src/environments/environment.ts
index 64196a8..e14e05e 100644
--- a/Angular/src/environments/environment.ts
+++ b/Angular/src/environments/environment.ts
@@ -1,7 +1,10 @@
 import {NgxLoggerLevel} from 'ngx-logger';
 
 export const environment = {
+  helpUrl: '',
+  reportUrl: '',
   apiUrl: 'http://localhost/BIATemplate/WebApi/api',
+  hubUrl: 'http://localhost/BIATemplate/WebApi/HubForClients',
   urlAuth: '/api/Auth',
   urlLog: '/api/logs',
   urlEnv: '/api/Environment',
@@ -12,7 +15,7 @@ export const environment = {
   production: false,
   appTitle: 'BIATemplate',
   companyName: 'Safran',
-  version: '1.2.2',
+  version: '1.3.0',
   logging: {
     conf: {
       serverLoggingUrl: 'http://localhost/BIATemplate/WebApi/api/logs',
diff --git a/DotNet-BIADemo-BIATemplate.ps1 b/DotNet-BIADemo-BIATemplate.ps1
index bcad3d7..983de36 100644
--- a/DotNet-BIADemo-BIATemplate.ps1
+++ b/DotNet-BIADemo-BIATemplate.ps1
@@ -12,9 +12,10 @@ function DeleteLine($start, $end, $file) {
   $fileRel = Resolve-Path -Path "$file" -Relative
   Write-Verbose "Delete lines $start to $end in file $fileRel" -Verbose
   (Get-Content $file) | Where-Object {
-    ($i -lt $start -or $i -gt $end)
+	(($i -ne $start -1 -or $_.Trim() -ne '') -and 
+    ($i -lt $start -or $i -gt $end))
     $i++
-  } | set-content $file -Encoding utf8
+  } | set-content $file
 }
 
 # Deletes lines between // Begin BIADemo and // End BIADemo 
@@ -23,11 +24,11 @@ function RemoveCodeExample {
     $lineBegin = @()
     $file = $_.FullName
   
-    $searchWord = '// Begin BIADemo'
+    $searchWord = 'Begin BIADemo'
     $starts = GetLineNumber -pattern $searchWord -file $file
     $lineBegin += $starts
   
-    $searchWord = '// End BIADemo'
+    $searchWord = 'End BIADemo'
     $ends = GetLineNumber -pattern $searchWord -file $file
     $lineBegin += $ends
   
@@ -42,6 +43,36 @@ function RemoveCodeExample {
   }
 }
 
+function RemoveBIADemoOnlyFiles {
+	foreach ($childFile in Get-ChildItem -File -Recurse | Where-Object { Select-String "// BIADemo only" $_ -Quiet } ) { 
+		$file = $childFile.FullName
+		$fileRel = Resolve-Path -Path "$file" -Relative
+		$searchWord = '// BIADemo only'
+		$starts = GetLineNumber -pattern $searchWord -file $file
+		if ($starts -eq 1)
+		{
+			Write-Verbose "Remove $fileRel" -Verbose
+			Remove-Item -Force -LiteralPath $file
+		}
+	}
+}
+
+function RemoveEmptyFolder {
+    param(
+        $Path
+    )
+    foreach ($childDirectory in Get-ChildItem -Force -Path $Path -Directory -Exclude PublishProfiles,RepoContract) {
+        RemoveEmptyFolder $childDirectory.FullName
+    }
+    $currentChildren = Get-ChildItem -Force -LiteralPath $Path
+    $isEmpty = $currentChildren -eq $null
+    if ($isEmpty) {
+	 	$fileRel = Resolve-Path -Path "$Path" -Relative
+        Write-Verbose "Removing empty folder '${fileRel}'." -Verbose
+        Remove-Item -Force -LiteralPath $Path
+    }
+}
+
 function RenameFile {
   param (
     [string]$oldName,
@@ -91,37 +122,25 @@ function ReplaceProjectName {
   }
 }
 
-function RemoveBIADemoOnlyFiles {
-	foreach ($childFile in Get-ChildItem -File -Recurse | Where-Object { Select-String "// BIADemo only" $_ -Quiet } ) { 
-		$file = $childFile.FullName
-		$fileRel = Resolve-Path -Path "$file" -Relative
-		$searchWord = '// BIADemo only'
-		$starts = GetLineNumber -pattern $searchWord -file $file
-		if ($starts -eq 1)
-		{
-			Write-Verbose "Remove $fileRel" -Verbose
-			Remove-Item -Force -LiteralPath $file
-		}
-	}
-}
-
-function RemoveEmptyFolder {
-    param(
-        $Path
-    )
-    foreach ($childDirectory in Get-ChildItem -Force -Path $Path -Directory -Exclude PublishProfiles,RepoContract) {
-        RemoveEmptyFolder $childDirectory.FullName
-    }
-    $currentChildren = Get-ChildItem -Force -LiteralPath $Path
-    $isEmpty = $currentChildren -eq $null
-    if ($isEmpty) {
-	 	$fileRel = Resolve-Path -Path "$Path" -Relative
-        Write-Verbose "Removing empty folder '${fileRel}'." -Verbose
-        Remove-Item -Force -LiteralPath $Path
+function ReplaceInScript {
+  param (
+    [string]$oldName,
+    [string]$newName
+  )
+  Get-ChildItem -File -Recurse -include *.ps1 | Where-Object { $_.FullName -NotLike "*/bin/*" -and $_.FullName -NotLike "*/obj/*" } | ForEach-Object { 
+    $file = $_.FullName
+	$oldContent = [System.IO.File]::ReadAllText($file);
+    $newContent = $oldContent.Replace($oldName, $newName);
+    if ($oldContent -ne $newContent) {
+	  
+	  $fileRel = Resolve-Path -Path "$file" -Relative
+      Write-Verbose "Replace in $fileRel" -Verbose
+	  
+      [System.IO.File]::WriteAllText($file, $newContent)
     }
+  }
 }
 
-
 $CurrentRep= Resolve-Path -Path "."
 
 # $oldName = Read-Host "old project name ?"
@@ -140,10 +159,7 @@ Copy-Item $oldPath '.' -Recurse
 
 Set-Location -Path ./DotNet
 
-Write-Host "Remove Switch-To-Nuget.ps1"
-RemoveItemFolder -path 'Switch-To-Nuget.ps1'
-Write-Host "Remove Switch-To-Project.ps1"
-RemoveItemFolder -path 'Switch-To-Project.ps1'
+
 Write-Host "Remove .vs"
 RemoveItemFolder -path '.vs'
 Write-Host "Remove *\bin"
@@ -151,34 +167,19 @@ RemoveItemFolder -path '*\bin'
 Write-Host "Remove *\obj"
 RemoveItemFolder -path '*\obj'
 
-
+Write-Host "Remove Migrations folder"
+RemoveItemFolder -path 'Safran.BIADemo.Infrastructure.Data\Migrations'
 
 Write-Host "Remove BIA demo only files"
 RemoveBIADemoOnlyFiles
 
-# Write-Host "Remove PlanesController.cs"
-# RemoveItemFolder -path 'Safran.BIADemo.Presentation.Api\Controllers\PlanesController.cs'
-# Write-Host "Remove PlaneModelBuilder.cs"
-# RemoveItemFolder -path 'Safran.BIADemo.Infrastructure.Data\ModelBuilders\PlaneModelBuilder.cs'
-# Write-Host "Remove Safran.BIADemo.Application\Plane"
-# RemoveItemFolder -path 'Safran.BIADemo.Application\Plane'
-# Write-Host "Remove Safran.BIADemo.Domain\PlaneModule"
-# RemoveItemFolder -path 'Safran.BIADemo.Domain\PlaneModule'
-# Write-Host "Remove Safran.BIADemo.Domain.Dto\Plane"
-# RemoveItemFolder -path 'Safran.BIADemo.Domain.Dto\Plane'
-
-Write-Host "Remove Migrations folder"
-RemoveItemFolder -path 'Safran.BIADemo.Infrastructure.Data\Migrations'
-
 Write-Host "Remove Empty Folder"
 RemoveEmptyFolder "."
 
-
 Write-Host "Remove code example partial files"
-
 RemoveCodeExample
 
-Write-Host "replace project name"
+Write-Host "Replace project name"
 ReplaceProjectName -oldName $oldName -newName $newName
 ReplaceProjectName -oldName $oldName.ToLower() -newName $newName.ToLower()
 
@@ -190,6 +191,11 @@ Write-Host "Rename Folder"
 RenameFolder -oldName $oldName -newName $newName
 RenameFolder -oldName $oldName.ToLower() -newName $newName.ToLower()
 
+Write-Host "Replace project name in script"
+$oldScriptVar = '"' + $oldName + '"'
+$newScriptVar = '"' + $newName + '"'
+ReplaceInScript $oldScriptVar $newScriptVar
+
 Set-Location -Path ..
 write-host "finish"
 pause
diff --git a/DotNet/BIATemplate.sln b/DotNet/BIATemplate.sln
index a8f9fae..9e00f28 100644
--- a/DotNet/BIATemplate.sln
+++ b/DotNet/BIATemplate.sln
@@ -35,11 +35,36 @@ Project("{2150E333-8FDC-42A3-9474-1A3956D46DE8}") = "AdditionalFiles", "Addition
 	ProjectSection(SolutionItems) = preProject
 		.gitignore = .gitignore
 		Directory.Build.props = Directory.Build.props
+		Switch-To-Nuget.ps1 = Switch-To-Nuget.ps1
+		Switch-To-Project.ps1 = Switch-To-Project.ps1
 	EndProjectSection
 EndProject
 Project("{2150E333-8FDC-42A3-9474-1A3956D46DE8}") = "Docs", "Docs", "{90DD0210-8503-485D-831A-28FC09BC7011}"
 	ProjectSection(SolutionItems) = preProject
+		CHANGELOG.md = CHANGELOG.md
+		Docs\EXAMPLE_IN_PROJECTS.md = Docs\EXAMPLE_IN_PROJECTS.md
 		Docs\NEW_PROJECT.md = Docs\NEW_PROJECT.md
+		README.md = README.md
+	EndProjectSection
+EndProject
+Project("{2150E333-8FDC-42A3-9474-1A3956D46DE8}") = "99 - Test", "99 - Test", "{416ECC3A-996F-4D16-BE5F-0774094FCA27}"
+EndProject
+Project("{9A19103F-16F7-4668-BE54-9A1E7A4F7556}") = "Safran.BIATemplate.Test", "Safran.BIATemplate.Test\Safran.BIATemplate.Test.csproj", "{99D1E791-6C11-4512-9779-1540FCAAA18C}"
+EndProject
+Project("{2150E333-8FDC-42A3-9474-1A3956D46DE8}") = "Features", "Features", "{79A0DA02-E79F-413F-9C18-12E5B269B299}"
+	ProjectSection(SolutionItems) = preProject
+		Docs\Features\CLIENT_FOR_HUB.md = Docs\Features\CLIENT_FOR_HUB.md
+		Docs\Features\DATABASE_HANDLER.md = Docs\Features\DATABASE_HANDLER.md
+		Docs\Features\DELEGATE_JOB_TO_WORKER.md = Docs\Features\DELEGATE_JOB_TO_WORKER.md
+		Docs\Features\HUB_FOR_CLIENTS.md = Docs\Features\HUB_FOR_CLIENTS.md
+		Docs\Features\SWAGGER.md = Docs\Features\SWAGGER.md
+	EndProjectSection
+EndProject
+Project("{2150E333-8FDC-42A3-9474-1A3956D46DE8}") = "Projects", "Projects", "{8D3E2080-0BA0-4DFD-B281-7213BD9BFBE2}"
+	ProjectSection(SolutionItems) = preProject
+		Docs\Projects\00 - SOLUTION.md = Docs\Projects\00 - SOLUTION.md
+		Docs\Projects\01 - WORKER_SERVICE.md = Docs\Projects\01 - WORKER_SERVICE.md
+		Docs\Projects\99 - TEST.md = Docs\Projects\99 - TEST.md
 	EndProjectSection
 EndProject
 Global
@@ -84,6 +109,10 @@ Global
 		{6C976803-D3F2-44B0-B7F6-6B8AAD8DD333}.Debug|Any CPU.Build.0 = Debug|Any CPU
 		{6C976803-D3F2-44B0-B7F6-6B8AAD8DD333}.Release|Any CPU.ActiveCfg = Release|Any CPU
 		{6C976803-D3F2-44B0-B7F6-6B8AAD8DD333}.Release|Any CPU.Build.0 = Release|Any CPU
+		{99D1E791-6C11-4512-9779-1540FCAAA18C}.Debug|Any CPU.ActiveCfg = Debug|Any CPU
+		{99D1E791-6C11-4512-9779-1540FCAAA18C}.Debug|Any CPU.Build.0 = Debug|Any CPU
+		{99D1E791-6C11-4512-9779-1540FCAAA18C}.Release|Any CPU.ActiveCfg = Release|Any CPU
+		{99D1E791-6C11-4512-9779-1540FCAAA18C}.Release|Any CPU.Build.0 = Release|Any CPU
 	EndGlobalSection
 	GlobalSection(SolutionProperties) = preSolution
 		HideSolutionNode = FALSE
@@ -98,6 +127,9 @@ Global
 		{AD8DDF03-2484-43D6-B68A-F34EB70B1EDB} = {F7D547DD-7A5D-4CD0-9AE2-07E6CF683025}
 		{814971AB-8B45-4EDF-A529-336CAD3D1ECE} = {C9EE7482-A883-4D78-86C1-9575FDF7C1BE}
 		{6C976803-D3F2-44B0-B7F6-6B8AAD8DD333} = {CD137582-30F5-4875-8481-C9017FAC9AE3}
+		{99D1E791-6C11-4512-9779-1540FCAAA18C} = {416ECC3A-996F-4D16-BE5F-0774094FCA27}
+		{79A0DA02-E79F-413F-9C18-12E5B269B299} = {90DD0210-8503-485D-831A-28FC09BC7011}
+		{8D3E2080-0BA0-4DFD-B281-7213BD9BFBE2} = {90DD0210-8503-485D-831A-28FC09BC7011}
 	EndGlobalSection
 	GlobalSection(ExtensibilityGlobals) = postSolution
 		SolutionGuid = {6D07EDEA-2197-4E6C-8665-3D76E7D31E14}
diff --git a/DotNet/CHANGELOG.md b/DotNet/CHANGELOG.md
index c1ae6bd..d602d98 100644
--- a/DotNet/CHANGELOG.md
+++ b/DotNet/CHANGELOG.md
@@ -1,3 +1,10 @@
+### [3.3.0] (2021-01-15)
+* Add feature management (posibilit to activate and desactivate powerfull feature like swagger, SignalR...)
+* Add Unitary Test
+* Add feature in Api HubForClients (use SignalR to push messge to all client connected, compatible with multi front) 
+* Add feature in Api DelegateJobToWorker (use Hangfire to launch job in the worker) 
+* Add feature in worker DatabaseHandler (detect the change in db immediatlty)
+* Add feature in worker HubForClients (use the Api feture HubForClients to push message to all web client connected)
 ### [3.2.2] (2020-10-16)
 * Solve bug with Zodiac user
 * Desactivate swagger in no dev environment
diff --git a/DotNet/Docs/EXAMPLE_IN_PROJECTS.md b/DotNet/Docs/EXAMPLE_IN_PROJECTS.md
new file mode 100644
index 0000000..405f424
--- /dev/null
+++ b/DotNet/Docs/EXAMPLE_IN_PROJECTS.md
@@ -0,0 +1,44 @@
+# Example of functionnalities in projects
+
+This files list the functionnalities use in different project build with the framework V3.
+**Every developer should contribut to this file**
+
+## Connector Usage:
+Open this file to see connector usage: [ConnectorsUsage.xls ](http://nateamwork.labinal.snecma/sep/is/PDMnDM/DM/Documents/300_ARCHI_INFRA/330_APPLICATION/ConnectorsUsage.xlsx).
+
+
+## Scheduled task (Tache planifie)
+**Windows Service / WorkerService**
+* SkillPower
+* JobMonitor
+
+## Image computing(Traitement d'image)
+
+## Data loading(Chargement de donnes)
+**Load DB to DB with SSIS (Chargement d'une BDD vers une autre via SSIS)**
+* ADPConnector
+
+**Upload files**
+* iDo
+
+## BackEnd
+**Use SQL view (Utilisation Vue SQL)**
+* SkillPower
+
+## FrontEnd
+**Print client Side (Impression ct client)**
+* FastTrack
+
+**Drag And Drop**
+* iDo
+
+**Utilisation des contrles Telerik/Kendo**
+* ePlan
+
+**HighCharts usage**
+* ePlan
+
+## Manipulation de document Document
+**Creation/Lecture PDF avec PDF Sharp**
+* SkillPower
+
diff --git a/DotNet/Docs/Features/CLIENT_FOR_HUB.md b/DotNet/Docs/Features/CLIENT_FOR_HUB.md
new file mode 100644
index 0000000..5b8ca13
--- /dev/null
+++ b/DotNet/Docs/Features/CLIENT_FOR_HUB.md
@@ -0,0 +1,48 @@
+# Client for hub (Worker Feature)
+This file explains what to use the the hub for client feature in your V3 project.
+
+## Prerequisite
+
+### Knowledge to have:
+* [SignalR introduction](https://docs.microsoft.com/fr-fr/aspnet/signalr/overview/getting-started/introduction-to-signalr)
+
+## Overview
+The activation of this feature in the worker give the possibility to send message to all connected Clients directly from the worker service.
+Concretly the service is connected to a front taht propagate the message. 
+
+## Activation
+* bianetconfig.json
+
+In the BIANet Section add:
+```Json
+    "WorkerFeatures": {
+      "HubForClients": {
+        "Activate": true,
+      }
+    },
+```
+* bianetconfig.Development.json
+```Json
+    "WorkerFeatures": {
+      "HubForClients": {
+        "SignalRUrl": "http://localhost/BIADemo/WebApi/HubForClients"
+      }
+    },
+```
+* bianetconfig.ENV.json (4 files not Development)
+In the BIANet Section add:
+```Json
+    "WorkerFeatures": {
+      "HubForClients": {
+        "SignalRUrl": "https://dmeu-[ENV].electrical-power.safran/BIADemo/WebApi/HubForClients"
+      }
+    },
+```
+replace [ENV] by the corresponding env of the file (int, uat, prd or pra)
+
+## Usage
+```csharp
+    using BIA.Net.Core.WorkerService.Features.HubForClients;
+    ...
+    HubForClientsService.SendMessage("refresh-planes", "");
+```
\ No newline at end of file
diff --git a/DotNet/Docs/Features/DATABASE_HANDLER.md b/DotNet/Docs/Features/DATABASE_HANDLER.md
new file mode 100644
index 0000000..98f4727
--- /dev/null
+++ b/DotNet/Docs/Features/DATABASE_HANDLER.md
@@ -0,0 +1,94 @@
+# Database Handler (Worker Feature)
+This file explains what to use the the database handler feature in your V3 project.
+
+## Prerequisite
+
+### Knowledge to have:
+* [SQL language](https://sql.sh/)
+
+### Database:
+* The project database should be SQL Server
+* Broker should be enable on the project database
+```SQL
+ALTER DATABASE [YourProjectDatabase] SET SINGLE_USER WITH ROLLBACK IMMEDIATE
+ALTER DATABASE [YourProjectDatabase] SET ENABLE_BROKER;
+ALTER DATABASE [YourProjectDatabase] SET MULTI_USER WITH ROLLBACK IMMEDIATE
+```
+
+## Overview
+* The worker service run code when there is change on the database.
+* A fine selection of the rows to track can be done with a SQL query.
+
+## Activation
+### Api: 
+* bianetconfig.json
+In the BIANet Section add:
+```Json
+    "WorkerFeatures": {
+      "DatabaseHandler": {
+        "Activate": true
+      }
+    },
+```
+
+## Usage
+## Create the handler repositories:
+Create a repository classe in the worker project in floder Features this classe inherit of DatabaseHandlerRepository.
+Example from BIADemo:
+```CSharp
+namespace Safran.BIADemo.WorkerService.Features
+{
+    using System.Data.SqlClient;
+    using BIA.Net.Core.WorkerService.Features.DataBaseHandler;
+    using BIA.Net.Core.WorkerService.Features.HubForClients;
+    using Microsoft.Extensions.Configuration;
+
+    public class PlaneHandlerRepository : DatabaseHandlerRepository
+    {
+        public PlaneHandlerRepository(IConfiguration configuration)
+            : base(
+            configuration.GetConnectionString("BIADemoDatabase"),
+            "SELECT RowVersion FROM [dbo].[Planes]",
+            "" /*"SELECT TOP (1) [Id] FROM [dbo].[Planes] ORDER BY [RowVersion] DESC"*/,
+            r => PlaneChange(r))
+            { }
+
+        public static void PlaneChange(SqlDataReader reader)
+        {
+            //int id = reader.GetInt32(0);
+
+            _ = HubForClientsService.SendMessage("refresh-planes", "");
+        }
+    }
+}
+```
+In the constructor base you specify the parameters:
+- The connection string
+- The SQL query to track change
+- The SQL query to execute when a change appear (if empty it do not execute query)
+- The callback fonction to execute when a change appear
+
+In the callback function :
+- you can read the result of the query passed in 3th parameters, by using the reader passed in parameter.
+- If the 3th paramter of the base constructor is empty the reader parameter is null.
+
+### Parameters those repositories
+In startup.cs you should pass the list of all yours database handler repositories class in the function config.DatabaseHandler.Activate.
+Example from BIADemo:
+```CSharp
+    // Begin BIA Standard service
+    services.AddBiaWorkerFeatures( config =>
+        {
+            config.BiaNetSection = biaNetSection;
+            config.DistributedCache.Activate(configuration.GetConnectionString("BIADemoDatabase"));
+            if (biaNetSection.WorkerFeatures.DatabaseHandler.Activate)
+            {
+                config.DatabaseHandler.Activate(new List<DatabaseHandlerRepository>()
+                {
+                    new PlaneHandlerRepository(configuration),
+                });
+            }
+        });
+
+    // End BIA Standard service
+```
diff --git a/DotNet/Docs/Features/DELEGATE_JOB_TO_WORKER.md b/DotNet/Docs/Features/DELEGATE_JOB_TO_WORKER.md
new file mode 100644
index 0000000..db15992
--- /dev/null
+++ b/DotNet/Docs/Features/DELEGATE_JOB_TO_WORKER.md
@@ -0,0 +1,97 @@
+# Delegate job to worker (api Feature)
+This file explains what to use the the delegate job to worker feature in your V3 project.
+
+## Prerequisite
+
+### Knowledge to have:
+* [Hangfire](https://www.hangfire.io/)
+* JobMonitor Project
+
+### Database:
+* The hangfire database is generaly initialised by the JobMonitor project
+* The connection string to this database is configured in the bianetconfig.[Env].json files (see Activation chapter)
+
+## Overview
+* When a controller is called it can create a task that is run asynchronously on the worker service server.
+* It is a smart way to not slow the front server, when the task is long.
+* It can be use to treat huge file or do complexe calculation.
+
+## Activation
+* bianetconfig.json
+In the BIANet Section add:
+```Json
+    "ApiFeatures": {
+      "DelegateJobToWorker": {
+        "Activate": true,
+        "ConnectionStringName": "[YourAppConnectionStringName]"
+      }
+    },
+```
+
+replace **[YourAppConnectionStringName]** by the name of your connection string in appsettings.json
+
+## Usage
+### Create the job
+In the Application layer (this layer is share with the worker service) create the job classe in the Job folder.
+Example form BIADemo:
+```CSharp
+namespace Safran.BIADemo.Application.Job
+{
+    using System;
+    using BIA.Net.Core.Application.Helpers;
+    using Microsoft.Extensions.Configuration;
+    using Microsoft.Extensions.Logging;
+
+    /// <summary>
+    /// Sample class to use a hangfire task.
+    /// </summary>
+    [BIAQueueAttribute]
+    public class BiaDemoTestHangfire
+    {
+        /// <summary>
+        /// Initializes a new instance of the <see cref="BiaDemoTestHangfire"/> class.
+        /// </summary>
+        /// <param name="configuration">The configuration.</param>
+        /// <param name="logger">logger.</param>
+        public BiaDemoTestHangfire(IConfiguration configuration, ILogger<BiaDemoTestHangfire> logger)
+        {
+            this.Configuration = configuration;
+            this.Logger = logger;
+        }
+
+        /// <summary>
+        /// application Configuration.
+        /// </summary>
+        protected IConfiguration Configuration { get; }
+
+        /// <summary>
+        /// application logger.
+        /// </summary>
+        protected ILogger Logger { get; }
+
+        /// <summary>
+        /// Run the processes that are waiting.
+        /// </summary>
+        public void RunWaitingProcess()
+        {
+            this.Logger.LogInformation($"{DateTime.Now.ToString("dd/MM/yyyy HH:mm:ss")}: BiaDemoTestHangfire => This log is generated by a hangfire task");
+        }
+    }
+} 
+```
+
+### Call the job
+In the Presentation.Api layer add the package Hangfire 1.7.18 (repect the version to keep a database compatibility)
+
+You can call the job like that from a controller:
+```CSharp
+    using BIA.Net.Core.Application.Helpers;
+    ...
+    using Hangfire;
+    using Hangfire.States;
+
+    ...
+
+    var client = new BackgroundJobClient();
+    client.Create<BiaDemoTestHangfire>(x => x.RunWaitingProcess(), new EnqueuedState(BIAQueueAttribute.QueueName));
+```
\ No newline at end of file
diff --git a/DotNet/Docs/Features/HUB_FOR_CLIENTS.md b/DotNet/Docs/Features/HUB_FOR_CLIENTS.md
new file mode 100644
index 0000000..bc370fa
--- /dev/null
+++ b/DotNet/Docs/Features/HUB_FOR_CLIENTS.md
@@ -0,0 +1,37 @@
+# Hub for Clients (Api and Worker Feature)
+This file explains what to use the the hub for client feature in your V3 project.
+
+## Prerequisite
+
+### Knowledge to have:
+* [SignalR introduction](https://docs.microsoft.com/fr-fr/aspnet/signalr/overview/getting-started/introduction-to-signalr)
+
+## Overview
+The Web clients are connected to one Web front server using SignalR.
+The server can push event to the Connected Clients.
+The front are connected with the redis server.
+The endpoint for this service is "HubForClients" (ie: http://localhost/BIADemo/WebApi/HubForClients)
+
+## Activation
+* bianetconfig.json
+In the BIANet Section add:
+```Json
+    "ApiFeatures": {
+      "HubForClients": {
+        "Activate": true
+      }
+    },
+```
+* bianetconfig.ENV.json (4 files not Development)
+In the BIANet Section add:
+```Json
+    "ApiFeatures": {
+      "HubForClients": {
+        "RedisConnectionString": "dmeu-redis-[ENV].electrical-power.safran",
+        "RedisChannelPrefix": "Safran.[YourProjectName]"
+      }
+    },
+```
+replace [YourProjectName] by the name of your project
+replace [ENV] by the corresponding env of the file (int, uat, prd or pra)
+
diff --git a/DotNet/Docs/Features/SWAGGER.md b/DotNet/Docs/Features/SWAGGER.md
new file mode 100644
index 0000000..edc2ac0
--- /dev/null
+++ b/DotNet/Docs/Features/SWAGGER.md
@@ -0,0 +1,34 @@
+# Swagger (Api Feature)
+This file explains what to use the Swagger feature in your V3 project.
+
+## Prerequisite
+
+### Knowledge to have:
+* [Swagger official site](https://swagger.io/)
+
+## Overview
+### User interface:
+Swagger open a user interface to launch and test the web api develop in the project.
+
+![Swagger UI](../Images/SwaggerUI.png)
+
+This interface is accesible with the path /swagger relative to the root of your Presentation.api application.
+
+### BIA customizing:
+In the BIA Framework a buton is ad at the bottom right to authenticat the user with SSO using JWT token.
+
+## Activation
+### bianetconfig.Development.json
+In the BIANet Section add:
+```Json
+    "ApiFeatures": {
+      "Swagger": {
+        "Activate": true
+      }
+    },
+```
+### recommendation
+It is not recommanded to Activate this feature in UAT and Production. It can be activate in Integration only for test.
+
+It is recomanded to configur your Presentation.Api project in Visual Studio to launch the swagger UI at start of debug:
+![Swagger VS Configuration](../Images/SwaggerVSConfig.png)
diff --git a/DotNet/Docs/Images/DDD.PNG b/DotNet/Docs/Images/DDD.PNG
new file mode 100644
index 0000000..46c3417
Binary files /dev/null and b/DotNet/Docs/Images/DDD.PNG differ
diff --git a/DotNet/Docs/Images/SwaggerUI.png b/DotNet/Docs/Images/SwaggerUI.png
new file mode 100644
index 0000000..20a7981
Binary files /dev/null and b/DotNet/Docs/Images/SwaggerUI.png differ
diff --git a/DotNet/Docs/Images/SwaggerVSConfig.PNG b/DotNet/Docs/Images/SwaggerVSConfig.PNG
new file mode 100644
index 0000000..7b9fd6f
Binary files /dev/null and b/DotNet/Docs/Images/SwaggerVSConfig.PNG differ
diff --git a/DotNet/Docs/NEW_PROJECT.md b/DotNet/Docs/NEW_PROJECT.md
index f101054..623f18b 100644
--- a/DotNet/Docs/NEW_PROJECT.md
+++ b/DotNet/Docs/NEW_PROJECT.md
@@ -65,4 +65,10 @@ To launch your project, you have to use **only IIS** (not compatible with IIS Ex
 Your IIS pool must be in "No Managed Code".
 For the user launching the pool, you have two options :
 - Use your own account but your will not be able to manage Users in the associated CRUD.
-- Use a Service account which have sufficient rights on AD. If you choose this option, don't forget to allow this user to access your database in SQL Server Management Studio.
\ No newline at end of file
+- Use a Service account which have sufficient rights on AD. If you choose this option, don't forget to allow this user to access your database in SQL Server Management Studio.
+
+
+## Use standard BIA Framework Component
+
+To use the project created by the framework have a look in the docs in [this folder](./Projects).
+To use the features proposed by the framework have a look in the docs in [this folder](./Features).
diff --git a/DotNet/Docs/Projects/00 - SOLUTION.md b/DotNet/Docs/Projects/00 - SOLUTION.md
new file mode 100644
index 0000000..e69de29
diff --git a/DotNet/Docs/Projects/01 - WORKER_SERVICE.md b/DotNet/Docs/Projects/01 - WORKER_SERVICE.md
new file mode 100644
index 0000000..8509fe7
--- /dev/null
+++ b/DotNet/Docs/Projects/01 - WORKER_SERVICE.md	
@@ -0,0 +1,18 @@
+```powershell
+# Adapt the path to your dev environment
+$serviceFullPath = "D:\Sources\Azure.DevOps.Safran\DigitalManufacturing\BIADemo\DotNet\Safran.BIADemo.WorkerService\bin\Debug\netcoreapp3.1\Safran.BIADemo.WorkerService.exe"
+
+# Adapt the user un pass to your environment
+$secpasswd = ConvertTo-SecureString "**********" -AsPlainText -Force
+$cred = New-Object System.Management.Automation.PSCredential ("EU\*****", $secpasswd)
+
+# Adapt the appli name to your application
+$appli = "BIADemo"
+$sCompanyName = "Safran"
+$sTeamName = "DM"
+
+$serviceName = $sCompanyName + "_" + $sTeamName + "_" + $appli
+$ServiceDisplayName = $sCompanyName + " - " + $sTeamName + " - " + $appli + " Service"
+$ServiceDescription = $sCompanyName + " - " + $sTeamName + " service for " + $appli + " application."
+New-Service -Name $serviceName  -BinaryPathName $serviceFullPath -DisplayName $ServiceDisplayName -Credential $cred -Description $ServiceDescription
+```
\ No newline at end of file
diff --git a/DotNet/Docs/Projects/99 - TEST.md b/DotNet/Docs/Projects/99 - TEST.md
new file mode 100644
index 0000000..8e38e6a
--- /dev/null
+++ b/DotNet/Docs/Projects/99 - TEST.md	
@@ -0,0 +1,283 @@
+﻿# Unit tests for V3 projects
+This file explains what to do in order to add unit tests for the back-end of your V3 project.
+
+It contains an overview of the architecture, but if you just want to know how to create your own unit tests project, go directly to chapter **How to add unit tests for my project?**.
+
+---
+
+## Prerequisite
+
+### Knowledge to have:
+* [Unit test best practices and naming conventions](https://docs.microsoft.com/en-us/dotnet/core/testing/unit-testing-best-practices)
+* [MStest](https://docs.microsoft.com/en-us/dotnet/core/testing/unit-testing-with-mstest)
+* We cannot mock static methods with the default test framework (so, the same thing applies to extension methods).
+
+###  Test attributes
+As explained [here](https://docs.microsoft.com/en-us/previous-versions/visualstudio/visual-studio-2012/ms245572(v=vs.110)#examples) or in **UnitTestExample** (one of the files provided in the example project), there are some attributes that can/have to be used for unit tests:
+* Every test suite shall be a class with the **<code>[TestClass]</code>** attribute. 
+A test suite is class containing several tests related to the same topic.
+* Every test shall be a method with the **<code>[TestMethod]</code>** attribute inside a test suite.
+* If you want to test the same thing but with different inputs, you can use a **<code>[DataTestMethod]</code>** attribute intead of the **<code>TestMethod</code>** one.
+This attribute can be used in combination with several **<code>[DataRow(x, y, z)]</code>** attributes. Each **<code>DataRow</code>** will be an execution of the test with the given inputs (x, y, z).
+Note: you can add as many input parameters as you want.
+Example:
+  ```csharp
+    [DataTestMethod]
+    [DataRow(-1, true)]
+    [DataRow(0, true)]
+    [DataRow(1, true)]
+    [DataRow(2, false)]**
+    public void TestMethodFactorized(int value, bool expectedResult)
+    {
+        Assert.AreEqual(expectedResult, value < 2);
+    }
+  ```
+* The **<code>[ClassInitialize]</code>** attribute can be used on a method that will be executed **once** for the whole test suite, **before the first test**. 
+It can be used to setup a global context for the whole test suite.
+* The **<code>[ClassCleanup]</code>** attribute can be used on a method that will be executed **once** for the whole test suite, **after the last test**.
+It can be used to reset any configuration that was setup previously.
+* The **<code>[TestInitialize]</code>** attribute can be used on a method that will be executed **before each test**. (in our case, we use it to reset the DB mock and IoC)
+*  The **<code>[TestCleanup]</code>** attribute can be used on a method that will be executed **after each test**.
+
+---
+
+## Overview
+Here is an overview of the architecture.
+### BIA.Net.Core.Test
+**BIA.Net.Core.Test** project contains some basic classes that:
+* Hide some of the complexity of the tests
+* Manage part of the IoC
+* Allow to mock some user related data (user ID, user rights, etc)
+
+It only uses common data (that are **not** strongly related to your project).
+
+**PrincipalMockBuilder** helps you create a mock where you can easily customize user related information (user id, user rights, etc).
+It follows the Builder pattern, so you can chain several method calls to configure your mock. The mocked object is automatically applied to the IoC before each test.
+
+**BIAAbstractUnitTest** is the base class of all unit tests.
+It contains mechanisms used to:
+* Access the database mock (through the **<code>DbMock</code>** property)
+* Manage the IoC services (through the **<code>servicesCollection</code>** attribute) and retrieve more easily instances of injected services and controllers (through the **<code>GetService\<T></code>** and **<code>GetControllerWithHttpContext\<TController></code>** methods)
+* Manage the user mock (through the **<code>principalBuilder</code>** attribute)
+* Eventually add default data at the beginning of each test (through the **<code>isInitDB</code>** attribute)
+
+### Unit test project
+Your unit test project shall:
+* Contain all your tests
+* Define more precisely how we interact with the database mock
+* Define the IoC part that is strongly coupled to your project (services, controllers and DbContext)
+
+By default, we are using an **'in memory'** Entity Framework database to mock the database context (through the use of **<code>MockEntityFrameworkInMemory</code>**).
+It means that you can manipulate directly **<code>DbSet</code>** objects, but nothing will be stored on your file system (just kept in RAM).
+
+Each test shall extend **<code>AbstractUnitTest</code>**.
+
+IoC of classes strongly coupled to your project shall be defined in **<code>IocContainerTest</code>**.
+
+---
+
+## How to add unit tests for my project?
+If you want to know what to do in order to add unit tests to your project, this is the way...
+
+### Create your test project
+#### Copy of Safran.BIADemo.Test
+* Copy/paste **Safran.BIADemo.Test** project from [here](https://azure.devops.safran/SafranElectricalAndPower/Digital%20Manufacturing/_git/BIADemo?path=%2FDotNet%2FSafran.BIADemo.Test) and add it in the "**DotNet**" folder of your solution.
+* Rename the folder and csproj in order to match your company and project names, but keep the pattern **[CompanyName].[ProjectName].Test**.
+* Add the project to your solution (usually inside a "**99 - Test**" folder).
+* Check the properties of your test project and (if necessary) change information in the "Package" tab in order to match your project information.
+* Replace all **Safran.BIADemo** occurences by **[CompanyName].[ProjectName]** (Ctrl+Shift+H on Visual Studio).
+
+#### Remove examples
+* Some example classes/interfaces have been added in order to show how to implement unit tests in a more realistic way.
+You can keep a copy of them somewhere to have examples, but eventually you will have to remove them (otherwise your project will never compile):
+  * **PlanesControllerTests**
+  * **PlaneAppServiceTests**
+  * **UnitTestExample**
+* Remove anything that contains **Plane** (except if you really use planes in your project obviously :)):
+  * **DataConstants.DefaultPlanesMsn**.
+  * Imports to **[CompanyName].[ProjectName].Domain.PlaneModule**
+  * Call to **<code>services.AddTransient<PlanesController, PlanesController>();</code>** in **IocContainerTest**.
+  * Any use of the **<code>Plane</code>** class.
+  * etc
+  
+#### Adapt project
+Some additional modifications have to be made on your project (not the unit test project, but your real project, the one you want to test):
+* Modify **[CompanyName].[ProjectName].Crosscutting.Ioc.IocContainer.ConfigureContainer(IServiceCollection collection, IConfiguration configuration)** method (required in order to use the 'in memory' database):
+  * Add a third parameter **<code>bool isUnitTest = false</code>** to this method.
+  * Inside this method, add a **<code>if (!isUnitTest)</code>** and put inside:
+    * Anything related to **<code>configuration</code>** (it should concern the DbContext and the management of BiaNetSection).
+    * The IoC for **<code>IGenericRepository</code>**.
+* **ClaimsPrincipal**
+  * Modify **[CompanyName].[ProjectName].Presentation.Api.Startup** in order to change the IoC for **<code>IPrincipal</code>** (required because we cannot mock extension methods). 
+  If the previous value was **<code>services.AddTransient<IPrincipal>(provider => xxxx);</code>**,
+  it should now be **<code>services.AddTransient<IPrincipal>(provider => new BIAClaimsPrincipal(xxxx));</code>** (just add <code>new BIAClaimsPrincipal()</code> around what was previsouly injected)
+  * Everywhere you use **<code>ClaimsPrincipal</code>**, replace it by **<code>BIAClaimsPrincipal</code>**
+* **UserDataDto**
+  * This class has been moved to **BIA.Net.Core.Domain.Dto.User**. 
+  * So remove your specific implementation (from **[CompanyName].[ProjectName].Domain.Dto.User**) and change usings where required.
+* **DataRepository**
+  * This class has been moved to **BIA.Net.Core.Infrastructure.Data.Repositories**. 
+  * So remove your specific implementation (from **[CompanyName].[ProjectName].Infrastructure.Data.Repositories**) and change usings where required.
+
+<p style="color:green; font-weight:bold">Once this is done, your solution should build successfully.</p>
+
+If this is not the case, then here are some additional things to do:
+* If your project is not up-to-date with the latest V3.3 framework, replace some of your project components by the generic ones that have been moved to BIA.Net.Core (such as **<code>IUnitOfWork, IQueryableUnitOfWork, IGenericRepository</code>**, etc).
+* If you use specific implementations of **<code>Site</code>** or **<code>User</code>**, you might have to change some methods in **<code>MockEntityFrameworkInMemory</code>** (some properties might be missing).
+
+#### Customize database mock and IoC
+No the real work starts! :)
+We will configure how to interact with the 'in memory' database and how to perform IoC.
+
+* Modify **MockEntityFrameWorkInMemory**. 
+This is the class mocking the database context to an 'in memory' Entity Framework database.
+  * It shall extend **<code>AbstractMockEntityFramework\<T></code>** where T is your **<code>DbContext</code>**.
+  If you are using the default name for your **<code>DbContext</code>**, it shall be **<code>DataContext</code>** and you have nothing to change.
+  * Normally, you should already have gotten rid of any reference to **<code>Plane</code>**, but if this is not the case, now is the time to do so.
+  * If you want to manipulate other tables, you can add methods to do so here. 
+  The **<code>GetDbContext()</code>** method gives you access to all available tables, so you can use it to implement those new methods.
+  * The **<code>InitDefaultData()</code>** method can be used to add some data before each test that is configured to do so. 
+  So, feel free to modify it, **but be careful: it can have an impact on every test that has been created with <code>isInitDB = true</code>**.
+
+* Modify **IocContainerTest**. 
+This is the class configuring the IoC for our unit tests.
+  * If you followed the previous steps, you already modified **<code>IocContainer.ConfigureContainer()</code>** in order to add a third parameter and change its implementation.
+  * Modify **<code>IocContainerTest.ConfigureControllerContainer()</code>**. You should add a dependency injection for every controller you want to test. This is usually quite a dummy one: **<code>services.AddTransient<MyController, MyController>();</code>**
+  
+<p style="color:green; font-weight:bold">Normally, everything should be set up right now.</p>
+
+If this is not the case, well here are some leads:
+* Your **<code>DbContext</code>** is not named **<code>DataContext</code>**. Then you have to replace **<code>DataContext</code>** by the correct name everywhere.
+
+
+#### Create your own tests
+Now that we configured everything correctly, it's time to write some tests!
+You can take examples on the existing ones, but here are some guidelines.
+
+##### Architecture
+* Your test suites shall be created in the "**Tests**" folder.
+The default structure is the following one:
+> [CompanyName].[ProjectName].Test
+> &nbsp;&nbsp;|\_ Tests
+> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|\_ Controllers
+> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|\_ One class for each controller you want to test
+> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|\_ Services
+> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|\_ One class for each service you want to test
+* Create a test suite for every topic (for example, sites, users, planes, etc).
+But you can even be more specific. 
+For example, you can create several test suites related to the same global topic (for example, sites), but each test suite having a specific context (for example, some specific user rights). 
+This can allow you to centralize some initialization in the **<code>[TestInitialize]</code>** method rather than doing it in every test.
+
+##### Test suites
+* Each test suite shall be a class:
+  * With the **<code>[TestClass]</code>** attribute.
+  * Extending **<code>AbstractUnitTest</code>**.
+  * With a default constructor (without parameter) calling the base constructor with a boolean parameter:
+  ```csharp
+   public MyControllerTests() 
+   : base(false) 
+   {
+
+   }
+   ```
+  This boolean parameter is used to define if we shall call the **<code>MockEntityFrameworkInMemory.InitDefaultData()</code>** before each test or not (in order to add some default data in the DB). It is up to you to decide if you want to use <code>true</code> or <code>false</code>.
+  * **[Optional]** With a method with the **<code>[TestInitialize]</code>** attribute.
+  In this method, you can setup a context that is common to every test.
+  For example, you can instanciate the controller/service you want to test, add some data in the DB, mock some user related data, etc.
+
+##### Tests
+* To easily create a test for each method of a service/controller, you can do the following in Visual Studio:
+  * In your test project, create the file where you want to put your tests.
+  * Copy its namespace (it will save you some time later).
+  * Open the service/controller you want to create tests for.
+  * Right-click inside the class and select "**Create Unit Tests**".
+  * Change only the following options:
+    * **Test Project**: select your existing test project.
+    * **Namespace**: paste the namespace you copied earlier.
+    * **Output file**: select the test file you created.
+  * Click OK. Visual Studio will create a test method for each method of your service/controller, even the constructor!
+  * Remove the constructor test.
+  * **[Optional]** Remove the "**()**" in each **<code>[TestMethod()]</code>** attribute or fill it with the desired display name.
+* Each test shall be a method with the **<code>[TestMethod]</code>** or **<code>[DataTestMethod]</code>** attribute.
+You can add an optional parameter to this attribute in order to configure the name which will be displayed in the test report. It can be a good idea to do so, because by default it only uses the method name (so if you have several methods with the same name in different test suites, you won't directly differenciate them).
+* Refer to [Unit test best practices and naming conventions](https://docs.microsoft.com/en-us/dotnet/core/testing/unit-testing-best-practices) in order to name your tests correctly.
+* Try to keep your tests small and with one single objective.
+* For **controller tests**, you can:
+  * Retrieve the **HTTP status code** of an API by casting its returned value into an **<code>IStatusCodeActionResult</code>**.
+  For example:
+    ```csharp
+    this.controller = this.GetControllerWithHttpContext<SitesController>();
+    IStatusCodeActionResult response = this.controller.Add(siteDto).Result as IStatusCodeActionResult;
+    Assert.IsNotNull(response);
+    Assert.AreEqual((int)HttpStatusCode.Created, response.StatusCode);
+    ```
+  * Retrieve the **HTTP status code and the returned value** of an API by casting its returned value into an **<code>ObjectResult</code>**.
+  For example:
+    ```csharp
+    this.controller = this.GetControllerWithHttpContext<SitesController>();
+    ObjectResult response = this.controller.GetAll(filter).Result as ObjectResult;
+    Assert.IsNotNull(response);
+    Assert.AreEqual((int)HttpStatusCode.OK, response.StatusCode);
+    IEnumerable<SiteInfoDto> listSites = response.Value as IEnumerable<SiteInfoDto>;
+    Assert.IsNotNull(listSites);
+    Assert.AreEqual(1, listSites.Count());
+    ```
+* For **service tests**, you can:
+  * Check the returned DTO.
+  * Check the DB has been correctly updated by using **<code>this.DbMock</code>**:
+    * Either by calling the helper methods you created in **<code>MockEntityFrameworkInMemory</code>**
+    * Or by using **<code>this.DbMock.GetDbContext()</code>** which gives you a direct access to the **<code>DbSet</code>** objects.
+
+##### IoC and mock
+* Use **<code>GetService\<T></code>** and **<code>GetControllerWithHttpContext\<TController></code>** methods from **<code>BIAAbstractUnitTest</code>** to instanciate your services and controllers through IoC.
+For the controllers, it will automatically configure an HttpContext that is required by most of the APIs we implemented in V3 projects.
+* Use **<code>this.DbMock</code>** in order to access to the database and:
+  * Check if the correct data is stored in DB,
+  * Add/Remove data from the DB to **setup your test context**.
+* Use **<code>this.principalBuilder</code>** to mock some user related information (user ID, user rights, etc).
+You only have to call the **<code>MockXxxx()</code>** methods in order to setup the information you want to mock. The mocked object is automatically generated and applied when initializing the test.
+* Since most of our APIs are asynchronous, use **<code>Result</code>** to wait for the call to be complete and retrieve the returned value.
+For example: 
+  ```csharp
+  ISiteAppService service = this.GetService<ISiteAppService>();  
+  SiteDto site = service.GetAsync(1).Result;
+  ```
+
+---
+
+### Pipelines
+In order to execute your unit tests before each build on Azure DevOps, do the following:
+* Edit your pipeline (AutomatedBuild or release).
+* Add a "**Visual Studio Test**" task if it is not already there (usually it has been renamed "**API Tests**").
+* Use the same options as the "**BIADemo - AutomatedBuild**" pipeline:
+  * Check it is in **Task version 2.***.
+  * Set the "**Test files**" option to the following value:
+    > \*\*\\\$(BuildConfiguration)\\netcoreapp3.1\\*$(ProjectName).Test.dll
+    !\*\*\\obj\\\*\*</code>
+* When you execute the pipeline, check the results of the "**API Tests**" task.
+You should see something like that:
+  > 2020-12-22T10:39:52.7079229Z "D:\Agent\_work\8\s\DotNet\Safran.BIADemo.Test\bin\Release\netcoreapp3.1\Safran.BIADemo.Test.dll"
+  2020-12-22T10:39:52.7079265Z /logger:"trx"
+  2020-12-22T10:39:52.7079308Z /TestAdapterPath:"D:\Agent\_work\8\s"
+  2020-12-22T10:39:52.7079341Z **Starting test execution, please wait...**
+  2020-12-22T10:39:53.4299256Z 
+  2020-12-22T10:39:53.4299811Z **A total of 1 test files matched the specified pattern.**
+  2020-12-22T10:39:56.0532657Z   âˆš **TestMethod** [640ms]
+  2020-12-22T10:39:56.0533075Z   âˆš **TestMethodFactorized** [4ms]
+  2020-12-22T10:39:56.0533872Z   âˆš **TestMethodFactorized (-1,True)** [1ms]
+  2020-12-22T10:39:56.0534709Z   âˆš **TestMethodFactorized (0,True)** [< 1ms]
+  2020-12-22T10:39:56.0535006Z   âˆš **TestMethodFactorized (1,True)** [< 1ms]
+  2020-12-22T10:39:56.0535243Z   âˆš **TestMethodFactorized (2,False)** [< 1ms]
+  ...
+  2020-12-22T10:39:56.6390388Z Results File: D:\Agent\_work\8\s\TestResults\lrAPP003_DS002AZS_2020-12-22_11_39_56.trx
+  2020-12-22T10:39:56.6413163Z 
+  2020-12-22T10:39:56.6415197Z **Test Run Successful.**
+  2020-12-22T10:39:56.6416408Z **Total tests: 41**
+  2020-12-22T10:39:56.6417058Z      **Passed: 41**
+  2020-12-22T10:39:56.6425008Z  Total time: 3,1740 Seconds
+  2020-12-22T10:39:56.8593561Z ##[section]Async Command Start: Publish test results
+  2020-12-22T10:39:56.8686539Z Publishing test results to test run '57'
+  2020-12-22T10:39:56.8686682Z Test results remaining: 22. Test run id: 57
+  2020-12-22T10:39:57.1301682Z Published Test Run : https://azure.devops.safran/SafranElectricalAndPower/Digital%20Manufacturing/_TestManagement/Runs?runId=57&_a=runCharts
+  2020-12-22T10:39:57.1315111Z ##[section]Async Command End: Publish test results
+  2020-12-22T10:39:57.1316208Z ##[section]Finishing: API Tests
\ No newline at end of file
diff --git a/DotNet/README.md b/DotNet/README.md
index fb29810..de1304f 100644
--- a/DotNet/README.md
+++ b/DotNet/README.md
@@ -8,4 +8,12 @@ Safran Framework is a development platform for building mobile and desktop web a
 
 ## Changelog
 
-[Learn about the latest improvements](./CHANGELOG.md).
\ No newline at end of file
+[Learn about the latest improvements](./CHANGELOG.md).
+
+## Features
+
+[See the framework features](./Docs/Features/).
+
+## Detail on projects of the solution
+
+[See the framework projects](./Docs/Projects/).
\ No newline at end of file
diff --git a/DotNet/Safran.BIATemplate.Application/Safran.BIATemplate.Application.csproj b/DotNet/Safran.BIATemplate.Application/Safran.BIATemplate.Application.csproj
index 405c236..1ab6679 100644
--- a/DotNet/Safran.BIATemplate.Application/Safran.BIATemplate.Application.csproj
+++ b/DotNet/Safran.BIATemplate.Application/Safran.BIATemplate.Application.csproj
@@ -7,8 +7,8 @@
   </PropertyGroup>
 
   <ItemGroup>
-    <PackageReference Include="BIA.Net.Core.Application" Version="3.2.0" />
-    <PackageReference Include="Microsoft.Extensions.Logging.Abstractions" Version="3.1.8" />
+    <PackageReference Include="BIA.Net.Core.Application" Version="3.3.0" />
+    <PackageReference Include="Microsoft.Extensions.Logging.Abstractions" Version="3.1.11" />
   </ItemGroup>
 
   <ItemGroup>
diff --git a/DotNet/Safran.BIATemplate.Application/Site/ISiteAppService.cs b/DotNet/Safran.BIATemplate.Application/Site/ISiteAppService.cs
index 4958781..3fadda8 100644
--- a/DotNet/Safran.BIATemplate.Application/Site/ISiteAppService.cs
+++ b/DotNet/Safran.BIATemplate.Application/Site/ISiteAppService.cs
@@ -8,11 +8,12 @@ namespace Safran.BIATemplate.Application.Site
     using System.Threading.Tasks;
     using BIA.Net.Core.Application;
     using Safran.BIATemplate.Domain.Dto.Site;
+    using Safran.BIATemplate.Domain.SiteModule.Aggregate;
 
     /// <summary>
     /// The interface defining the application service for site.
     /// </summary>
-    public interface ISiteAppService : ICrudAppServiceBase<SiteDto, SiteFilterDto>
+    public interface ISiteAppService : ICrudAppServiceBase<SiteDto, Site, SiteFilterDto>
     {
         /// <summary>
         /// Get the list of SiteInfoDto with paging and sorting.
@@ -24,14 +25,9 @@ namespace Safran.BIATemplate.Application.Site
         /// <summary>
         /// Gets all asynchronous.
         /// </summary>
-        /// <returns>all sites.</returns>
-        Task<IEnumerable<SiteDto>> GetAllAsync();
-
-        /// <summary>
-        /// Gets all by user asynchronous.
-        /// </summary>
         /// <param name="userId">The user identifier.</param>
+        /// <param name="userRights">The user rights.</param>
         /// <returns>all sites.</returns>
-        Task<IEnumerable<SiteDto>> GetAllByUserAsync(int userId);
+        Task<IEnumerable<SiteDto>> GetAllAsync(int userId = 0, IEnumerable<string> userRights = null);
     }
 }
\ No newline at end of file
diff --git a/DotNet/Safran.BIATemplate.Application/Site/SiteAppService.cs b/DotNet/Safran.BIATemplate.Application/Site/SiteAppService.cs
index 830522b..74a1612 100644
--- a/DotNet/Safran.BIATemplate.Application/Site/SiteAppService.cs
+++ b/DotNet/Safran.BIATemplate.Application/Site/SiteAppService.cs
@@ -6,16 +6,15 @@ namespace Safran.BIATemplate.Application.Site
 {
     using System.Collections.Generic;
     using System.Linq;
-    using System.Security.Claims;
     using System.Security.Principal;
     using System.Threading.Tasks;
     using BIA.Net.Core.Application;
     using BIA.Net.Core.Application.Authentication;
-    using BIA.Net.Core.Domain;
+    using BIA.Net.Core.Domain.Dto.User;
     using BIA.Net.Core.Domain.RepoContract;
+    using BIA.Net.Core.Domain.Specification;
     using Safran.BIATemplate.Crosscutting.Common;
     using Safran.BIATemplate.Domain.Dto.Site;
-    using Safran.BIATemplate.Domain.Dto.User;
     using Safran.BIATemplate.Domain.SiteModule.Aggregate;
 
     /// <summary>
@@ -26,65 +25,43 @@ namespace Safran.BIATemplate.Application.Site
         /// <summary>
         /// The claims principal.
         /// </summary>
-        private readonly ClaimsPrincipal principal;
+        private readonly BIAClaimsPrincipal principal;
 
         /// <summary>
         /// Initializes a new instance of the <see cref="SiteAppService"/> class.
         /// </summary>
         /// <param name="repository">The repository.</param>
         /// <param name="principal">The claims principal.</param>
-        public SiteAppService(IGenericRepository repository, IPrincipal principal)
+        public SiteAppService(ITGenericRepository<Site> repository, IPrincipal principal)
             : base(repository)
         {
-            this.principal = principal as ClaimsPrincipal;
+            this.principal = principal as BIAClaimsPrincipal;
         }
 
         /// <inheritdoc cref="ISiteAppService.GetAllWithMembersAsync"/>
         public async Task<(IEnumerable<SiteInfoDto> Sites, int Total)> GetAllWithMembersAsync(SiteFilterDto filters)
         {
-            var mapper = new SiteMapper();
-
             UserDataDto userData = this.principal.GetUserData<UserDataDto>();
+            IEnumerable<string> currentUserRights = this.principal.GetUserRights();
+            int siteId = currentUserRights?.Any(x => x == Rights.Sites.AccessAll) == true ? default(int) : userData.CurrentSiteId;
 
-            var specifications = SpecificationHelper.GetLazyLoad(
-                SiteSpecification.SearchGetAll(filters, userData?.CurrentSiteId > 0 ? userData.CurrentSiteId : default(int)),
-                mapper.ExpressionCollection,
-                filters);
-
-            var queryOrder = this.GetQueryOrder(mapper.ExpressionCollection, filters?.SortField, filters?.SortOrder == 1);
-
-            var results = await this.Repository.GetBySpecAndCountAsync(
-                mapper.EntityToSiteInfo(),
-                specifications,
-                queryOrder,
-                filters?.First ?? 0,
-                filters?.Rows ?? 0);
-
-            return (results.Item1.ToList(), results.Item2);
+            return await this.GetRangeAsync<SiteInfoDto, SiteInfoMapper, SiteFilterDto>(filters: filters, specification: SiteSpecification.SearchGetAll(filters, siteId));
         }
 
         /// <inheritdoc cref="ISiteAppService.GetAllAsync"/>
-        public async Task<IEnumerable<SiteDto>> GetAllAsync()
+        public async Task<IEnumerable<SiteDto>> GetAllAsync(int userId = 0, IEnumerable<string> userRights = null)
         {
-            IEnumerable<string> currentUserRights = this.principal.GetUserRights();
+            userRights = userRights != null ? userRights : this.principal.GetUserRights();
+            userId = userId > 0 ? userId : this.principal.GetUserId();
 
-            if (currentUserRights?.Any(x => x == Rights.Sites.AccessAll) == true)
+            if (userRights?.Any(x => x == Rights.Sites.AccessAll) == true)
             {
-                return await this.Repository.GetAllAsync(new SiteMapper().EntityToDto());
+                return await this.Repository.GetAllResultAsync(new SiteMapper().EntityToDto(userId));
             }
             else
             {
-                int currentUserId = this.principal.GetUserId();
-                return await this.GetAllByUserAsync(currentUserId);
+                return await this.Repository.GetAllResultAsync(new SiteMapper().EntityToDto(userId), specification: new DirectSpecification<Site>(site => site.Members.Any(member => member.UserId == userId)));
             }
         }
-
-        /// <inheritdoc cref="ISiteAppService.GetAllByUserAsync"/>
-        public async Task<IEnumerable<SiteDto>> GetAllByUserAsync(int userId)
-        {
-            return await this.Repository.GetByFilterAsync<Site, SiteDto>(
-                    site => new SiteDto { Id = site.Id, Title = site.Title, IsDefault = site.Members.Any(member => member.UserId == userId && member.IsDefault) },
-                    site => site.Members.Any(member => member.UserId == userId));
-        }
     }
 }
\ No newline at end of file
diff --git a/DotNet/Safran.BIATemplate.Application/User/IMemberAppService.cs b/DotNet/Safran.BIATemplate.Application/User/IMemberAppService.cs
index 9425933..a5edb81 100644
--- a/DotNet/Safran.BIATemplate.Application/User/IMemberAppService.cs
+++ b/DotNet/Safran.BIATemplate.Application/User/IMemberAppService.cs
@@ -8,18 +8,19 @@ namespace Safran.BIATemplate.Application.User
     using System.Threading.Tasks;
     using BIA.Net.Core.Application;
     using Safran.BIATemplate.Domain.Dto.User;
+    using Safran.BIATemplate.Domain.UserModule.Aggregate;
 
     /// <summary>
     /// The interface defining the application service for member.
     /// </summary>
-    public interface IMemberAppService : ICrudAppServiceBase<MemberDto, MemberFilterDto>
+    public interface IMemberAppService : ICrudAppServiceBase<MemberDto, Member, MemberFilterDto>
     {
         /// <summary>
         /// Get the list of MemberDto with paging and sorting.
         /// </summary>
         /// <param name="filters">The filters.</param>
         /// <returns>The list of MemberDto.</returns>
-        Task<(IEnumerable<MemberDto> Members, int Total)> GetAllBySiteAsync(MemberFilterDto filters);
+        Task<(IEnumerable<MemberDto> Members, int Total)> GetRangeBySiteAsync(MemberFilterDto filters);
 
         /// <summary>
         /// Sets the default site.
diff --git a/DotNet/Safran.BIATemplate.Application/User/IUserAppService.cs b/DotNet/Safran.BIATemplate.Application/User/IUserAppService.cs
index 3ba5827..88b357c 100644
--- a/DotNet/Safran.BIATemplate.Application/User/IUserAppService.cs
+++ b/DotNet/Safran.BIATemplate.Application/User/IUserAppService.cs
@@ -59,7 +59,7 @@ namespace Safran.BIATemplate.Application.User
         /// </summary>
         /// <param name="sid">The sid to search with.</param>
         /// <returns>The user.</returns>
-        Task<UserInfoDto> GetUserInfoForAlreadyAutorizedUserAndCreateIfRequieredAsync(string sid);
+        Task<UserInfoDto> GetCreateUserInfoAsync(string sid);
 
         /// <summary>
         /// Gets the profile of the given user.
diff --git a/DotNet/Safran.BIATemplate.Application/User/MemberAppService.cs b/DotNet/Safran.BIATemplate.Application/User/MemberAppService.cs
index 11edcdd..50f5df5 100644
--- a/DotNet/Safran.BIATemplate.Application/User/MemberAppService.cs
+++ b/DotNet/Safran.BIATemplate.Application/User/MemberAppService.cs
@@ -6,12 +6,10 @@ namespace Safran.BIATemplate.Application.User
 {
     using System.Collections.Generic;
     using System.Linq;
-    using System.Security.Claims;
     using System.Security.Principal;
     using System.Threading.Tasks;
     using BIA.Net.Core.Application;
     using BIA.Net.Core.Application.Authentication;
-    using BIA.Net.Core.Domain;
     using BIA.Net.Core.Domain.RepoContract;
     using Safran.BIATemplate.Domain.Dto.User;
     using Safran.BIATemplate.Domain.UserModule.Aggregate;
@@ -24,39 +22,27 @@ namespace Safran.BIATemplate.Application.User
         /// <summary>
         /// The claims principal.
         /// </summary>
-        private readonly ClaimsPrincipal principal;
+        private readonly BIAClaimsPrincipal principal;
 
         /// <summary>
         /// Initializes a new instance of the <see cref="MemberAppService"/> class.
         /// </summary>
         /// <param name="repository">The repository.</param>
         /// <param name="principal">The claims principal.</param>
-        public MemberAppService(IGenericRepository repository, IPrincipal principal)
+        /// <param name="queryCustomizer">The query customizer.</param>
+        public MemberAppService(ITGenericRepository<Member> repository, IPrincipal principal/*, IMemberQueryCustomizer queryCustomizer*/)
             : base(repository)
         {
-            this.principal = principal as ClaimsPrincipal;
+            this.principal = principal as BIAClaimsPrincipal;
+
+            // Include already add with the mapper MemberMapper
+            // this.Repository.QueryCustomizer = queryCustomizer
         }
 
-        /// <inheritdoc cref="IMemberAppService.GetAllBySiteAsync"/>
-        public async Task<(IEnumerable<MemberDto> Members, int Total)> GetAllBySiteAsync(MemberFilterDto filters)
+        /// <inheritdoc cref="IMemberAppService.GetRangeBySiteAsync"/>
+        public async Task<(IEnumerable<MemberDto> Members, int Total)> GetRangeBySiteAsync(MemberFilterDto filters)
         {
-            var mapper = new MemberMapper();
-
-            var specifications = SpecificationHelper.GetLazyLoad(
-                MemberSpecification.SearchGetAll(filters),
-                mapper.ExpressionCollection,
-                filters);
-
-            var queryOrder = this.GetQueryOrder(mapper.ExpressionCollection, filters?.SortField, filters?.SortOrder == 1);
-
-            var results = await this.Repository.GetBySpecAndCountAsync(
-                mapper.EntityToDto(),
-                specifications,
-                queryOrder,
-                filters?.First ?? 0,
-                filters?.Rows ?? 0);
-
-            return (results.Item1.ToList(), results.Item2);
+            return await this.GetRangeAsync(filters: filters, specification: MemberSpecification.SearchGetAll(filters));
         }
 
         /// <inheritdoc cref="IMemberAppService.SetDefaultSite"/>
@@ -65,7 +51,7 @@ namespace Safran.BIATemplate.Application.User
             int userId = this.principal.GetUserId();
             if (userId > 0 && siteId > 0)
             {
-                IList<Member> members = (await this.Repository.GetByFilterAsync<Member>(x => x.UserId == userId)).ToList();
+                IList<Member> members = (await this.Repository.GetAllEntityAsync(filter: x => x.UserId == userId)).ToList();
 
                 if (members?.Any() == true)
                 {
diff --git a/DotNet/Safran.BIATemplate.Application/User/RoleAppService.cs b/DotNet/Safran.BIATemplate.Application/User/RoleAppService.cs
index fadad83..72f5160 100644
--- a/DotNet/Safran.BIATemplate.Application/User/RoleAppService.cs
+++ b/DotNet/Safran.BIATemplate.Application/User/RoleAppService.cs
@@ -14,13 +14,13 @@ namespace Safran.BIATemplate.Application.User
     /// <summary>
     /// The application service used for role.
     /// </summary>
-    public class RoleAppService : AppServiceBase, IRoleAppService
+    public class RoleAppService : AppServiceBase<Role>, IRoleAppService
     {
         /// <summary>
         /// Initializes a new instance of the <see cref="RoleAppService"/> class.
         /// </summary>
         /// <param name="repository">The repository.</param>
-        public RoleAppService(IGenericRepository repository)
+        public RoleAppService(ITGenericRepository<Role> repository)
             : base(repository)
         {
         }
@@ -28,7 +28,7 @@ namespace Safran.BIATemplate.Application.User
         /// <inheritdoc cref="IRoleAppService.GetAllAsync"/>
         public async Task<IEnumerable<RoleDto>> GetAllAsync()
         {
-            return await this.Repository.GetAllAsync<Role, RoleDto>(role => new RoleDto { Id = role.Id, Label = role.Label });
+            return await this.Repository.GetAllResultAsync<RoleDto>(role => new RoleDto { Id = role.Id, Label = role.Label });
         }
     }
 }
\ No newline at end of file
diff --git a/DotNet/Safran.BIATemplate.Application/User/UserAppService.cs b/DotNet/Safran.BIATemplate.Application/User/UserAppService.cs
index 38f0861..4d65531 100644
--- a/DotNet/Safran.BIATemplate.Application/User/UserAppService.cs
+++ b/DotNet/Safran.BIATemplate.Application/User/UserAppService.cs
@@ -7,7 +7,6 @@ namespace Safran.BIATemplate.Application.User
     using System;
     using System.Collections.Generic;
     using System.Linq;
-    using System.Linq.Expressions;
     using System.Threading.Tasks;
     using BIA.Net.Core.Application;
     using BIA.Net.Core.Common.Configuration;
@@ -17,6 +16,7 @@ namespace Safran.BIATemplate.Application.User
     using BIA.Net.Core.Domain.Dto.User;
     using BIA.Net.Core.Domain.QueryOrder;
     using BIA.Net.Core.Domain.RepoContract;
+    using BIA.Net.Core.Domain.Specification;
     using Microsoft.Extensions.Logging;
     using Microsoft.Extensions.Options;
     using Safran.BIATemplate.Domain.Dto.User;
@@ -26,7 +26,7 @@ namespace Safran.BIATemplate.Application.User
     /// <summary>
     /// The application service used for user.
     /// </summary>
-    public class UserAppService : AppServiceBase, IUserAppService
+    public class UserAppService : AppServiceBase<User>, IUserAppService
     {
         /// <summary>
         /// The user right domain service.
@@ -63,7 +63,7 @@ namespace Safran.BIATemplate.Application.User
         /// <param name="userDirectoryHelper">The user directory helper.</param>
         /// <param name="logger">The logger.</param>
         public UserAppService(
-            IGenericRepository repository,
+            ITGenericRepository<User> repository,
             IUserRightDomainService userRightDomainService,
             IUserSynchronizeDomainService userSynchronizeDomainService,
             IOptions<BiaNetSection> configuration,
@@ -82,7 +82,7 @@ namespace Safran.BIATemplate.Application.User
         public async Task<IEnumerable<UserDto>> GetAllAsync(string filter)
         {
             var specification = UserSpecification.Search(filter);
-            var result = await this.Repository.GetBySpecAsync(UserSelectBuilder.EntityToDto(), specification);
+            var result = await this.Repository.GetAllResultAsync(UserSelectBuilder.EntityToDto(), specification: specification);
             return result.ToList();
         }
 
@@ -91,19 +91,19 @@ namespace Safran.BIATemplate.Application.User
         {
             var mapper = new UserMapper();
 
-            var specifications = SpecificationHelper.GetLazyLoad(
+            var specification = SpecificationHelper.GetLazyLoad(
                 UserSpecification.SearchActive(),
-                mapper.ExpressionCollection,
+                mapper,
                 filters);
 
             var queryOrder = this.GetQueryOrder(mapper.ExpressionCollection, filters?.SortField, filters?.SortOrder == 1);
 
-            var results = await this.Repository.GetBySpecAndCountAsync(
+            var results = await this.Repository.GetRangeResultAsync(
                 mapper.EntityToDto(),
-                specifications,
-                queryOrder,
-                filters?.First ?? 0,
-                filters?.Rows ?? 0);
+                specification: specification,
+                queryOrder: queryOrder,
+                firstElement: filters?.First ?? 0,
+                pageCount: filters?.Rows ?? 0);
 
             return (results.Item1.ToList(), results.Item2);
         }
@@ -126,12 +126,11 @@ namespace Safran.BIATemplate.Application.User
             return this.userRightDomainService.TranslateRolesInRights(roles);
         }
 
-        /// <inheritdoc cref="IUserAppService.GetUserInfoForAlreadyAutorizedUserAndCreateIfRequieredAsync"/>
-        public async Task<UserInfoDto> GetUserInfoForAlreadyAutorizedUserAndCreateIfRequieredAsync(string sid)
+        /// <inheritdoc cref="IUserAppService.GetCreateUserInfoAsync"/>
+        public async Task<UserInfoDto> GetCreateUserInfoAsync(string sid)
         {
             var userInfo =
-                (await this.Repository.GetByFilterAsync(UserSelectBuilder.SelectUserInfo(), user => user.Sid == sid))
-                .FirstOrDefault();
+                await this.Repository.GetResultAsync(UserSelectBuilder.SelectUserInfo(), filter: user => user.Sid == sid);
 
             if (userInfo != null)
             {
@@ -220,7 +219,7 @@ namespace Safran.BIATemplate.Application.User
         /// <inheritdoc cref="IUserAppService.RemoveInGroupAsync"/>
         public async Task<string> RemoveInGroupAsync(int id)
         {
-            var user = await this.Repository.GetAsync<User>(id);
+            var user = await this.Repository.GetEntityAsync(id: id);
 
             if (user == null)
             {
@@ -249,7 +248,7 @@ namespace Safran.BIATemplate.Application.User
         {
             if (userId > 0)
             {
-                User entity = await this.Repository.GetAsync(userId, new Expression<Func<User, object>>[0]);
+                User entity = await this.Repository.GetEntityAsync(id: userId, queryMode: "NoInclude");
                 entity.LastLoginDate = DateTime.Now;
                 entity.IsActive = true;
                 this.Repository.Update(entity);
@@ -262,7 +261,7 @@ namespace Safran.BIATemplate.Application.User
         {
             foreach (var user in users)
             {
-                await this.GetUserInfoForAlreadyAutorizedUserAndCreateIfRequieredAsync(user.Login);
+                await this.GetCreateUserInfoAsync(user.Login);
             }
         }
 
diff --git a/DotNet/Safran.BIATemplate.Application/View/ViewAppService.cs b/DotNet/Safran.BIATemplate.Application/View/ViewAppService.cs
index 659ce6f..6022f06 100644
--- a/DotNet/Safran.BIATemplate.Application/View/ViewAppService.cs
+++ b/DotNet/Safran.BIATemplate.Application/View/ViewAppService.cs
@@ -7,45 +7,53 @@ namespace Safran.BIATemplate.Application.View
     using System;
     using System.Collections.Generic;
     using System.Linq;
-    using System.Security.Claims;
     using System.Security.Principal;
     using System.Threading.Tasks;
     using BIA.Net.Core.Application;
     using BIA.Net.Core.Application.Authentication;
     using BIA.Net.Core.Common.Exceptions;
     using BIA.Net.Core.Domain.RepoContract;
+    using BIA.Net.Core.Domain.Specification;
     using Microsoft.Extensions.Logging;
     using Safran.BIATemplate.Crosscutting.Common;
     using Safran.BIATemplate.Domain.Dto.SiteView;
     using Safran.BIATemplate.Domain.Dto.View;
+    using Safran.BIATemplate.Domain.RepoContract;
     using Safran.BIATemplate.Domain.ViewModule.Aggregate;
 
     /// <summary>
     /// The application service used to manage views.
     /// </summary>
-    public class ViewAppService : AppServiceBase, IViewAppService
+    public class ViewAppService : AppServiceBase<View>, IViewAppService
     {
         /// <summary>
         /// The claims principal.
         /// </summary>
-        private readonly ClaimsPrincipal principal;
+        private readonly BIAClaimsPrincipal principal;
 
         /// <summary>
         /// The logger.
         /// </summary>
         private readonly ILogger<ViewAppService> logger;
 
+        /// <summary>
+        /// The logger.
+        /// </summary>
+        private readonly IViewQueryCustomizer queryCustomizer;
+
         /// <summary>
         /// Initializes a new instance of the <see cref="ViewAppService"/> class.
         /// </summary>
         /// <param name="repository">The repository.</param>
         /// <param name="principal">The principal.</param>
         /// <param name="logger">The logger.</param>
-        public ViewAppService(IGenericRepository repository, IPrincipal principal, ILogger<ViewAppService> logger)
+        public ViewAppService(ITGenericRepository<View> repository, IPrincipal principal, ILogger<ViewAppService> logger, IViewQueryCustomizer queryCustomizer)
             : base(repository)
         {
-            this.principal = principal as ClaimsPrincipal;
+            this.principal = principal as BIAClaimsPrincipal;
             this.logger = logger;
+            this.queryCustomizer = queryCustomizer;
+            this.Repository.QueryCustomizer = queryCustomizer;
         }
 
         /// <inheritdoc cref="IViewAppService.GetAllAsync"/>
@@ -56,15 +64,15 @@ namespace Safran.BIATemplate.Application.View
 
             if (currentUserRights?.Any(x => x == Rights.Sites.AccessAll) == true)
             {
-                return await this.Repository.GetByFilterAsync(
+                return await this.Repository.GetAllResultAsync(
                     ViewMapper.EntityToDto(currentUserId),
-                    view => view.ViewType == ViewType.Site || (view.ViewType == ViewType.User && view.ViewUsers.Any(viewUser => viewUser.UserId == currentUserId)));
+                    filter: view => view.ViewType == ViewType.Site || (view.ViewType == ViewType.User && view.ViewUsers.Any(viewUser => viewUser.UserId == currentUserId)));
             }
             else
             {
-                return await this.Repository.GetByFilterAsync(
+                return await this.Repository.GetAllResultAsync(
                     ViewMapper.EntityToDto(currentUserId),
-                    view =>
+                    filter: view =>
                     (view.ViewType == ViewType.Site && view.ViewSites.Any(viewSite => viewSite.Site.Members.Any(member => member.UserId == currentUserId))) ||
                     (view.ViewType == ViewType.User && view.ViewUsers.Any(viewUser => viewUser.UserId == currentUserId)));
             }
@@ -73,7 +81,7 @@ namespace Safran.BIATemplate.Application.View
         /// <inheritdoc cref="IViewAppService.RemoveSiteViewAsync"/>
         public async Task RemoveSiteViewAsync(int id)
         {
-            View entity = await this.Repository.GetAsync<View>(id, view => view.ViewSites);
+            View entity = await this.Repository.GetEntityAsync(id: id, queryMode: QueryCustomMode.ModeUpdateViewSites);
             if (entity == null)
             {
                 throw new ElementNotFoundException();
@@ -98,7 +106,7 @@ namespace Safran.BIATemplate.Application.View
         /// <inheritdoc cref="IViewAppService.RemoveUserViewAsync"/>
         public async Task RemoveUserViewAsync(int id)
         {
-            var entity = await this.Repository.GetAsync<View>(id, view => view.ViewUsers);
+            var entity = await this.Repository.GetEntityAsync(id: id, queryMode: QueryCustomMode.ModeUpdateViewUsers);
             if (entity == null)
             {
                 throw new ElementNotFoundException();
@@ -124,7 +132,7 @@ namespace Safran.BIATemplate.Application.View
         /// <inheritdoc cref="IViewAppService.SetDefaultUserViewAsync"/>
         public async Task SetDefaultUserViewAsync(DefaultViewDto dto)
         {
-            var entity = await this.Repository.GetAsync<View>(dto.Id, view => view.ViewUsers);
+            var entity = await this.Repository.GetEntityAsync(id: dto.Id, queryMode: QueryCustomMode.ModeUpdateViewUsers);
             if (entity == null)
             {
                 this.logger.LogWarning($"View with id {dto.Id} not found.");
@@ -137,8 +145,9 @@ namespace Safran.BIATemplate.Application.View
             // current one otherwise we remove the current view
             if (dto.IsDefault)
             {
-                var formerDefault = (await this.Repository.GetByFilterAsync<View>(
-                        w => w.TableId == dto.TableId && w.ViewUsers.Any(a => a.IsDefault && a.UserId == currentUserId), v => v.ViewUsers))
+                var formerDefault = (await this.Repository.GetAllEntityAsync(
+                        specification: new DirectSpecification<View>(w => w.TableId == dto.TableId && w.ViewUsers.Any(a => a.IsDefault && a.UserId == currentUserId)),
+                        queryMode: QueryCustomMode.ModeUpdateViewUsers))
                     .FirstOrDefault();
 
                 var formerViewUser =
@@ -197,7 +206,7 @@ namespace Safran.BIATemplate.Application.View
         {
             if (dto != null && dto.Id > 0 && dto.SiteId > 0 && !string.IsNullOrWhiteSpace(dto.TableId))
             {
-                View entity = await this.Repository.GetAsync<View>(dto.Id, view => view.ViewSites);
+                View entity = await this.Repository.GetEntityAsync(dto.Id, queryMode: QueryCustomMode.ModeUpdateViewSites);
                 if (entity == null)
                 {
                     this.logger.LogWarning($"View with id {dto.Id} not found.");
@@ -219,8 +228,8 @@ namespace Safran.BIATemplate.Application.View
 
                 if (dto.IsDefault)
                 {
-                    View formerDefault = (await this.Repository.GetByFilterAsync<View>(
-                            w => w.TableId == dto.TableId && w.ViewSites.Any(a => a.IsDefault && a.SiteId == currentSiteId), v => v.ViewSites))
+                    View formerDefault = (await this.Repository.GetAllEntityAsync(
+                            filter: w => w.TableId == dto.TableId && w.ViewSites.Any(a => a.IsDefault && a.SiteId == currentSiteId), queryMode: QueryCustomMode.ModeUpdateViewSites))
                         .FirstOrDefault();
 
                     ViewSite formerViewSite =
@@ -296,7 +305,7 @@ namespace Safran.BIATemplate.Application.View
         {
             if (dto != null)
             {
-                var entity = await this.Repository.GetAsync<View>(dto.Id, view => view.ViewUsers, view => view.ViewSites);
+                var entity = await this.Repository.GetEntityAsync(dto.Id, queryMode: QueryCustomMode.ModeUpdateViewSitesAndUsers);
                 if (entity == null)
                 {
                     throw new ElementNotFoundException();
@@ -323,7 +332,7 @@ namespace Safran.BIATemplate.Application.View
         {
             if (dto != null)
             {
-                View entity = await this.Repository.GetAsync<View>(dto.ViewId, view => view.ViewSites);
+                View entity = await this.Repository.GetEntityAsync(dto.ViewId, queryMode: QueryCustomMode.ModeUpdateViewSites);
                 if (entity == null)
                 {
                     throw new ElementNotFoundException();
diff --git a/DotNet/Safran.BIATemplate.Application/stylecop.json b/DotNet/Safran.BIATemplate.Application/stylecop.json
new file mode 100644
index 0000000..42fb1f8
--- /dev/null
+++ b/DotNet/Safran.BIATemplate.Application/stylecop.json
@@ -0,0 +1,14 @@
+﻿{
+  // ACTION REQUIRED: This file was automatically added to your project, but it
+  // will not take effect until additional steps are taken to enable it. See the
+  // following page for additional information:
+  //
+  // https://github.com/DotNetAnalyzers/StyleCopAnalyzers/blob/master/documentation/EnableConfiguration.md
+
+  "$schema": "https://raw.githubusercontent.com/DotNetAnalyzers/StyleCopAnalyzers/master/StyleCop.Analyzers/StyleCop.Analyzers/Settings/stylecop.schema.json",
+  "settings": {
+    "documentationRules": {
+      "companyName": "PlaceholderCompany"
+    }
+  }
+}
diff --git a/DotNet/Safran.BIATemplate.Crosscutting.Common/Constants.cs b/DotNet/Safran.BIATemplate.Crosscutting.Common/Constants.cs
index a34c73e..e564836 100644
--- a/DotNet/Safran.BIATemplate.Crosscutting.Common/Constants.cs
+++ b/DotNet/Safran.BIATemplate.Crosscutting.Common/Constants.cs
@@ -17,60 +17,44 @@ namespace Safran.BIATemplate.Crosscutting.Common
             /// <summary>
             /// The back end version.
             /// </summary>
-            public const string BackEndVersion = "1.2.2";
+            public const string BackEndVersion = "1.3.0";
 
             /// <summary>
             /// The front end version.
             /// </summary>
-            public const string FrontEndVersion = "1.2.2";
+            public const string FrontEndVersion = "1.3.0";
 
             /// <summary>
             /// The framework version.
             /// </summary>
-            public const string FrameworkVersion = "3.2.2";
+            public const string FrameworkVersion = "3.3.0";
         }
 
         /// <summary>
-        /// The class containing HTTP headers constants.
-        /// </summary>
-        public static class HttpHeaders
-        {
-            /// <summary>
-            /// The total count returned on getAll methods.
-            /// </summary>
-            public const string TotalCount = "X-Total-Count";
-        }
-
-        /// <summary>
-        /// The class containing JWT constants.
+        /// The default values.
         /// </summary>
-        public static class Jwt
+        public static class DefaultValues
         {
             /// <summary>
-            /// The user roles.
+            /// The default theme.
             /// </summary>
-            public const string Roles = "roles";
+            public const string Theme = "Light";
 
             /// <summary>
-            /// The user identifier.
+            /// The default language.
             /// </summary>
-            public const string Id = "id";
+            public const string Language = "en-US";
         }
 
         /// <summary>
-        /// The default values.
+        /// Role.
         /// </summary>
-        public static class DefaultValues
+        public static class Role
         {
             /// <summary>
-            /// The default theme.
+            /// The name of the user role.
             /// </summary>
-            public const string Theme = "Light";
-
-            /// <summary>
-            /// The default language.
-            /// </summary>
-            public const string Language = "en-US";
+            public const string User = "User";
         }
     }
 }
\ No newline at end of file
diff --git a/DotNet/Safran.BIATemplate.Crosscutting.Common/Rights.cs b/DotNet/Safran.BIATemplate.Crosscutting.Common/Rights.cs
index 8f14832..f833aee 100644
--- a/DotNet/Safran.BIATemplate.Crosscutting.Common/Rights.cs
+++ b/DotNet/Safran.BIATemplate.Crosscutting.Common/Rights.cs
@@ -72,7 +72,6 @@ namespace Safran.BIATemplate.Crosscutting.Common
             public const string SetDefaultSite = "Member_Set_Default_Site";
         }
 
-
         /// <summary>
         /// The roles rights.
         /// </summary>
diff --git a/DotNet/Safran.BIATemplate.Crosscutting.Common/Safran.BIATemplate.Crosscutting.Common.csproj b/DotNet/Safran.BIATemplate.Crosscutting.Common/Safran.BIATemplate.Crosscutting.Common.csproj
index c6f0de8..46a7db1 100644
--- a/DotNet/Safran.BIATemplate.Crosscutting.Common/Safran.BIATemplate.Crosscutting.Common.csproj
+++ b/DotNet/Safran.BIATemplate.Crosscutting.Common/Safran.BIATemplate.Crosscutting.Common.csproj
@@ -7,7 +7,7 @@
   </PropertyGroup>
 
   <ItemGroup>
-    <PackageReference Include="BIA.Net.Core.Common" Version="3.2.2" />
+    <PackageReference Include="BIA.Net.Core.Common" Version="3.3.0" />
     <PackageReference Include="Newtonsoft.Json" Version="12.0.3" />
     <PackageReference Include="System.Security.Principal.Windows" Version="4.7.0" />
   </ItemGroup>
diff --git a/DotNet/Safran.BIATemplate.Crosscutting.Ioc/IocContainer.cs b/DotNet/Safran.BIATemplate.Crosscutting.Ioc/IocContainer.cs
index 2f4d3ff..a157ed4 100644
--- a/DotNet/Safran.BIATemplate.Crosscutting.Ioc/IocContainer.cs
+++ b/DotNet/Safran.BIATemplate.Crosscutting.Ioc/IocContainer.cs
@@ -6,19 +6,20 @@ namespace Safran.BIATemplate.Crosscutting.Ioc
 {
     using BIA.Net.Core.Domain.RepoContract;
     using BIA.Net.Core.Infrastructure.Data;
+    using BIA.Net.Core.Infrastructure.Data.Repositories;
     using BIA.Net.Core.Infrastructure.Service.Repositories;
     using BIA.Net.Core.IocContainer;
     using Microsoft.EntityFrameworkCore;
     using Microsoft.Extensions.Configuration;
     using Microsoft.Extensions.DependencyInjection;
-
     using Safran.BIATemplate.Application.Site;
     using Safran.BIATemplate.Application.User;
     using Safran.BIATemplate.Application.View;
+    using Safran.BIATemplate.Domain.RepoContract;
     using Safran.BIATemplate.Domain.UserModule.Aggregate;
     using Safran.BIATemplate.Domain.UserModule.Service;
     using Safran.BIATemplate.Infrastructure.Data;
-    using Safran.BIATemplate.Infrastructure.Data.Repositories;
+    using Safran.BIATemplate.Infrastructure.Data.Repositories.QueryCustomizer;
     using Safran.BIATemplate.Infrastructure.Service.Repositories;
 
     /// <summary>
@@ -31,15 +32,21 @@ namespace Safran.BIATemplate.Crosscutting.Ioc
         /// </summary>
         /// <param name="collection">The collection of service.</param>
         /// <param name="configuration">The application configuration.</param>
-        public static void ConfigureContainer(IServiceCollection collection, IConfiguration configuration)
+        /// <param name="isUnitTest">Are we configuring IoC for unit tests? If so, some IoC shall not be performed here but replaced by
+        /// specific ones in IocContainerTest.</param>
+        public static void ConfigureContainer(IServiceCollection collection, IConfiguration configuration, bool isUnitTest = false)
         {
-            BIAIocContainer.ConfigureContainer(collection, configuration);
+            BIAIocContainer.ConfigureContainer(collection, configuration, isUnitTest);
 
             ConfigureInfrastructureServiceContainer(collection);
-            ConfigureInfrastructureDataContainer(collection, configuration);
             ConfigureDomainContainer(collection);
             ConfigureApplicationContainer(collection);
-            ConfigureCommonContainer(collection, configuration);
+
+            if (!isUnitTest)
+            {
+                ConfigureInfrastructureDataContainer(collection, configuration);
+                ConfigureCommonContainer(collection, configuration);
+            }
         }
 
         private static void ConfigureApplicationContainer(IServiceCollection collection)
@@ -50,7 +57,6 @@ namespace Safran.BIATemplate.Crosscutting.Ioc
             collection.AddTransient<IRoleAppService, RoleAppService>();
             collection.AddTransient<IUserAppService, UserAppService>();
             collection.AddTransient<IViewAppService, ViewAppService>();
-
         }
 
         private static void ConfigureDomainContainer(IServiceCollection collection)
@@ -73,7 +79,9 @@ namespace Safran.BIATemplate.Crosscutting.Ioc
                 options.UseSqlServer(configuration.GetConnectionString("BIATemplateDatabase"));
                 options.EnableSensitiveDataLogging();
             });
-            collection.AddTransient<IGenericRepository, DataRepository>();
+            collection.AddScoped(typeof(ITGenericRepository<>), typeof(TGenericRepositoryEF<>));
+            collection.AddTransient<IMemberQueryCustomizer, MemberQueryCustomizer>();
+            collection.AddTransient<IViewQueryCustomizer, ViewQueryCustomizer>();
         }
 
         private static void ConfigureInfrastructureServiceContainer(IServiceCollection collection)
diff --git a/DotNet/Safran.BIATemplate.Crosscutting.Ioc/Safran.BIATemplate.Crosscutting.Ioc.csproj b/DotNet/Safran.BIATemplate.Crosscutting.Ioc/Safran.BIATemplate.Crosscutting.Ioc.csproj
index 75afff2..8790579 100644
--- a/DotNet/Safran.BIATemplate.Crosscutting.Ioc/Safran.BIATemplate.Crosscutting.Ioc.csproj
+++ b/DotNet/Safran.BIATemplate.Crosscutting.Ioc/Safran.BIATemplate.Crosscutting.Ioc.csproj
@@ -7,7 +7,7 @@
   </PropertyGroup>
 
   <ItemGroup>
-    <PackageReference Include="BIA.Net.Core.Ioc" Version="3.2.0" />
+    <PackageReference Include="BIA.Net.Core.Ioc" Version="3.3.0" />
     <PackageReference Include="Microsoft.EntityFrameworkCore.SqlServer" Version="3.1.8" />
     <PackageReference Include="Microsoft.Extensions.DependencyInjection.Abstractions" Version="3.1.8" />
   </ItemGroup>
diff --git a/DotNet/Safran.BIATemplate.Domain.Dto/Safran.BIATemplate.Domain.Dto.csproj b/DotNet/Safran.BIATemplate.Domain.Dto/Safran.BIATemplate.Domain.Dto.csproj
index 88be7c6..5531c97 100644
--- a/DotNet/Safran.BIATemplate.Domain.Dto/Safran.BIATemplate.Domain.Dto.csproj
+++ b/DotNet/Safran.BIATemplate.Domain.Dto/Safran.BIATemplate.Domain.Dto.csproj
@@ -18,7 +18,7 @@
   </ItemGroup>
 
   <ItemGroup>
-    <PackageReference Include="BIA.Net.Core.Domain.Dto" Version="3.2.0" />
+    <PackageReference Include="BIA.Net.Core.Domain.Dto" Version="3.3.0" />
   </ItemGroup>
 
 </Project>
diff --git a/DotNet/Safran.BIATemplate.Domain.Dto/User/UserDataDto.cs b/DotNet/Safran.BIATemplate.Domain.Dto/User/UserDataDto.cs
deleted file mode 100644
index b36027b..0000000
--- a/DotNet/Safran.BIATemplate.Domain.Dto/User/UserDataDto.cs
+++ /dev/null
@@ -1,17 +0,0 @@
-// <copyright file="UserDataDto.cs" company="PlaceholderCompany">
-// Copyright (c) PlaceholderCompany. All rights reserved.
-// </copyright>
-
-namespace Safran.BIATemplate.Domain.Dto.User
-{
-    /// <summary>
-    /// UserData Dto.
-    /// </summary>
-    public class UserDataDto
-    {
-        /// <summary>
-        /// Gets or sets the current site identifier.
-        /// </summary>
-        public int CurrentSiteId { get; set; }
-    }
-}
diff --git a/DotNet/Safran.BIATemplate.Domain.Dto/User/UserDto.cs b/DotNet/Safran.BIATemplate.Domain.Dto/User/UserDto.cs
index fd45138..5b8a3a0 100644
--- a/DotNet/Safran.BIATemplate.Domain.Dto/User/UserDto.cs
+++ b/DotNet/Safran.BIATemplate.Domain.Dto/User/UserDto.cs
@@ -6,17 +6,13 @@ namespace Safran.BIATemplate.Domain.Dto.User
 {
     using System;
     using System.Collections.Generic;
+    using BIA.Net.Core.Domain.Dto.Base;
 
     /// <summary>
     /// The DTO used for user.
     /// </summary>
-    public class UserDto
+    public class UserDto : BaseDto
     {
-        /// <summary>
-        /// Gets or sets the user identifier.
-        /// </summary>
-        public int Id { get; set; }
-
         /// <summary>
         /// Gets or sets the last name.
         /// </summary>
diff --git a/DotNet/Safran.BIATemplate.Domain.Dto/View/AssignViewToSiteDto.cs b/DotNet/Safran.BIATemplate.Domain.Dto/View/AssignViewToSiteDto.cs
index 002446a..2946150 100644
--- a/DotNet/Safran.BIATemplate.Domain.Dto/View/AssignViewToSiteDto.cs
+++ b/DotNet/Safran.BIATemplate.Domain.Dto/View/AssignViewToSiteDto.cs
@@ -1,5 +1,5 @@
-// <copyright file="AssignViewToSiteDto.cs" company="PlaceholderCompany">
-// Copyright (c) PlaceholderCompany. All rights reserved.
+// <copyright file="AssignViewToSiteDto.cs" company="Safran">
+// Copyright (c) Safran. All rights reserved.
 // </copyright>
 
 namespace Safran.BIATemplate.Domain.Dto.View
diff --git a/DotNet/Safran.BIATemplate.Domain.Dto/View/DefaultSiteViewDto.cs b/DotNet/Safran.BIATemplate.Domain.Dto/View/DefaultSiteViewDto.cs
index 6b44cdc..fa4b332 100644
--- a/DotNet/Safran.BIATemplate.Domain.Dto/View/DefaultSiteViewDto.cs
+++ b/DotNet/Safran.BIATemplate.Domain.Dto/View/DefaultSiteViewDto.cs
@@ -1,5 +1,5 @@
-// <copyright file="DefaultSiteViewDto.cs" company="PlaceholderCompany">
-// Copyright (c) PlaceholderCompany. All rights reserved.
+// <copyright file="DefaultSiteViewDto.cs" company="Safran">
+// Copyright (c) Safran. All rights reserved.
 // </copyright>
 
 namespace Safran.BIATemplate.Domain.Dto.View
diff --git a/DotNet/Safran.BIATemplate.Domain.Dto/View/ViewSiteDto.cs b/DotNet/Safran.BIATemplate.Domain.Dto/View/ViewSiteDto.cs
index a47d6fb..1aabb1a 100644
--- a/DotNet/Safran.BIATemplate.Domain.Dto/View/ViewSiteDto.cs
+++ b/DotNet/Safran.BIATemplate.Domain.Dto/View/ViewSiteDto.cs
@@ -1,5 +1,5 @@
-// <copyright file="ViewSiteDto.cs" company="PlaceholderCompany">
-// Copyright (c) PlaceholderCompany. All rights reserved.
+// <copyright file="ViewSiteDto.cs" company="Safran">
+// Copyright (c) Safran. All rights reserved.
 // </copyright>
 
 namespace Safran.BIATemplate.Domain.Dto.View
diff --git a/DotNet/Safran.BIATemplate.Domain/RepoContract/IMemberQueryCustomizer.cs b/DotNet/Safran.BIATemplate.Domain/RepoContract/IMemberQueryCustomizer.cs
new file mode 100644
index 0000000..4acc814
--- /dev/null
+++ b/DotNet/Safran.BIATemplate.Domain/RepoContract/IMemberQueryCustomizer.cs
@@ -0,0 +1,16 @@
+// <copyright file="IMemberQueryCustomizer.cs" company="Safran">
+//     Copyright (c) Safran. All rights reserved.
+// </copyright>
+
+namespace Safran.BIATemplate.Domain.RepoContract
+{
+    using BIA.Net.Core.Domain.RepoContract.QueryCustomizer;
+    using Safran.BIATemplate.Domain.UserModule.Aggregate;
+
+    /// <summary>
+    /// interface use to customize the request on Member entity.
+    /// </summary>
+    public interface IMemberQueryCustomizer : IQueryCustomizer<Member>
+    {
+    }
+}
diff --git a/DotNet/Safran.BIATemplate.Domain/RepoContract/IViewQueryCustomizer.cs b/DotNet/Safran.BIATemplate.Domain/RepoContract/IViewQueryCustomizer.cs
new file mode 100644
index 0000000..7775c6f
--- /dev/null
+++ b/DotNet/Safran.BIATemplate.Domain/RepoContract/IViewQueryCustomizer.cs
@@ -0,0 +1,16 @@
+// <copyright file="IViewQueryCustomizer.cs" company="Safran">
+//     Copyright (c) Safran. All rights reserved.
+// </copyright>
+
+namespace Safran.BIATemplate.Domain.RepoContract
+{
+    using BIA.Net.Core.Domain.RepoContract.QueryCustomizer;
+    using Safran.BIATemplate.Domain.ViewModule.Aggregate;
+
+    /// <summary>
+    /// interface use to customize the request on Member entity.
+    /// </summary>
+    public interface IViewQueryCustomizer : IQueryCustomizer<View>
+    {
+    }
+}
diff --git a/DotNet/Safran.BIATemplate.Domain/RepoContract/QueryCustomMode.cs b/DotNet/Safran.BIATemplate.Domain/RepoContract/QueryCustomMode.cs
new file mode 100644
index 0000000..5a3c166
--- /dev/null
+++ b/DotNet/Safran.BIATemplate.Domain/RepoContract/QueryCustomMode.cs
@@ -0,0 +1,27 @@
+// <copyright file="QueryCustomMode.cs" company="Safran">
+//     Copyright (c) Safran. All rights reserved.
+// </copyright>
+
+namespace Safran.BIATemplate.Domain.RepoContract
+{
+    /// <summary>
+    /// Custom mode for the query.
+    /// </summary>
+    public static class QueryCustomMode
+    {
+        /// <summary>
+        /// Mode Update the view of type user.
+        /// </summary>
+        public const string ModeUpdateViewUsers = "UpdateViewUsers";
+
+        /// <summary>
+        /// Mode Update the view of type site.
+        /// </summary>
+        public const string ModeUpdateViewSites = "UpdateViewSites";
+
+        /// <summary>
+        /// Mode Update the view of type site.
+        /// </summary>
+        public const string ModeUpdateViewSitesAndUsers = "UpdateViewSitesAndUsers";
+    }
+}
diff --git a/DotNet/Safran.BIATemplate.Domain/Safran.BIATemplate.Domain.csproj b/DotNet/Safran.BIATemplate.Domain/Safran.BIATemplate.Domain.csproj
index 78b703a..4682391 100644
--- a/DotNet/Safran.BIATemplate.Domain/Safran.BIATemplate.Domain.csproj
+++ b/DotNet/Safran.BIATemplate.Domain/Safran.BIATemplate.Domain.csproj
@@ -7,7 +7,7 @@
   </PropertyGroup>
 
   <ItemGroup>
-    <PackageReference Include="BIA.Net.Core.Domain" Version="3.2.0" />
+    <PackageReference Include="BIA.Net.Core.Domain" Version="3.3.0" />
     <PackageReference Include="Microsoft.Extensions.Configuration.Abstractions" Version="3.1.8" />
     <PackageReference Include="Microsoft.Extensions.Options" Version="3.1.8" />
   </ItemGroup>
@@ -23,8 +23,4 @@
       <IncludeAssets>runtime; build; native; contentfiles; analyzers; buildtransitive</IncludeAssets>
     </PackageReference>
   </ItemGroup>
-
-  <ItemGroup>
-    <Folder Include="RepoContract\" />
-  </ItemGroup>
 </Project>
\ No newline at end of file
diff --git a/DotNet/Safran.BIATemplate.Domain/SiteModule/Aggregate/SiteInfoMapper.cs b/DotNet/Safran.BIATemplate.Domain/SiteModule/Aggregate/SiteInfoMapper.cs
new file mode 100644
index 0000000..56aa87b
--- /dev/null
+++ b/DotNet/Safran.BIATemplate.Domain/SiteModule/Aggregate/SiteInfoMapper.cs
@@ -0,0 +1,46 @@
+// <copyright file="SiteInfoMapper.cs" company="Safran">
+//     Copyright (c) Safran. All rights reserved.
+// </copyright>
+
+namespace Safran.BIATemplate.Domain.SiteModule.Aggregate
+{
+    using System;
+    using System.Linq;
+    using System.Linq.Expressions;
+    using BIA.Net.Core.Domain;
+    using Safran.BIATemplate.Crosscutting.Common.Enum;
+    using Safran.BIATemplate.Domain.Dto.Site;
+
+    /// <summary>
+    /// The mapper used for site.
+    /// </summary>
+    public class SiteInfoMapper : BaseMapper<SiteInfoDto, Site>
+    {
+        /// <summary>
+        /// Gets or sets the collection used for expressions to access fields.
+        /// </summary>
+        public override ExpressionCollection<Site> ExpressionCollection
+        {
+            get
+            {
+                return new ExpressionCollection<Site> { { "Id", site => site.Id }, { "Title", site => site.Title }, };
+            }
+        }
+
+        /// <summary>
+        /// Create a site DTO from a entity.
+        /// </summary>
+        /// <returns>The site DTO.</returns>
+        public override Expression<Func<Site, SiteInfoDto>> EntityToDto()
+        {
+            return entity => new SiteInfoDto
+            {
+                Id = entity.Id,
+                Title = entity.Title,
+                SiteAdmins = entity.Members
+                    .Where(w => w.MemberRoles.Any(a => a.RoleId == (int)Role.SiteAdmin))
+                    .Select(s => new SiteMemberDto { UserFirstName = s.User.FirstName, UserLastName = s.User.LastName, UserLogin = s.User.Login }),
+            };
+        }
+    }
+}
\ No newline at end of file
diff --git a/DotNet/Safran.BIATemplate.Domain/SiteModule/Aggregate/SiteMapper.cs b/DotNet/Safran.BIATemplate.Domain/SiteModule/Aggregate/SiteMapper.cs
index aef9228..c1cfb92 100644
--- a/DotNet/Safran.BIATemplate.Domain/SiteModule/Aggregate/SiteMapper.cs
+++ b/DotNet/Safran.BIATemplate.Domain/SiteModule/Aggregate/SiteMapper.cs
@@ -36,6 +36,18 @@ namespace Safran.BIATemplate.Domain.SiteModule.Aggregate
             return entity => new SiteDto { Id = entity.Id, Title = entity.Title };
         }
 
+        /// <summary>
+        /// Create a site DTO from a entity.
+        /// </summary>
+        /// <param name="userId">The user identifier.</param>
+        /// <returns>
+        /// The site DTO.
+        /// </returns>
+        public Expression<Func<Site, SiteDto>> EntityToDto(int userId)
+        {
+            return entity => new SiteDto { Id = entity.Id, Title = entity.Title, IsDefault = entity.Members.Any(member => member.UserId == userId && member.IsDefault) };
+        }
+
         /// <summary>
         /// Create a site entity from a DTO.
         /// </summary>
@@ -52,12 +64,6 @@ namespace Safran.BIATemplate.Domain.SiteModule.Aggregate
             entity.Title = dto.Title;
         }
 
-        /// <inheritdoc cref="BaseMapper{TDto,TEntity}.IncludesForUpdate"/>
-        public override Expression<Func<Site, object>>[] IncludesForUpdate()
-        {
-            return new Expression<Func<Site, object>>[0];
-        }
-
         /// <summary>
         /// Create a site info DTO from a entity.
         /// </summary>
diff --git a/DotNet/Safran.BIATemplate.Domain/UserModule/Aggregate/UserMapper.cs b/DotNet/Safran.BIATemplate.Domain/UserModule/Aggregate/UserMapper.cs
index b66a5c0..d7200f0 100644
--- a/DotNet/Safran.BIATemplate.Domain/UserModule/Aggregate/UserMapper.cs
+++ b/DotNet/Safran.BIATemplate.Domain/UserModule/Aggregate/UserMapper.cs
@@ -12,12 +12,12 @@ namespace Safran.BIATemplate.Domain.UserModule.Aggregate
     /// <summary>
     /// The mapper used for user.
     /// </summary>
-    public class UserMapper
+    public class UserMapper : BaseMapper<UserDto, User>
     {
         /// <summary>
         /// Gets or sets the collection used for expressions to access fields.
         /// </summary>
-        public ExpressionCollection<User> ExpressionCollection
+        public override ExpressionCollection<User> ExpressionCollection
         {
             get
             {
@@ -36,7 +36,7 @@ namespace Safran.BIATemplate.Domain.UserModule.Aggregate
         /// Create a user DTO from an entity.
         /// </summary>
         /// <returns>The user DTO.</returns>
-        public Expression<Func<User, UserDto>> EntityToDto()
+        public override Expression<Func<User, UserDto>> EntityToDto()
         {
             return entity => new UserDto
             {
diff --git a/DotNet/Safran.BIATemplate.Domain/UserModule/Service/UserRightDomainService.cs b/DotNet/Safran.BIATemplate.Domain/UserModule/Service/UserRightDomainService.cs
index eef1f09..824cc09 100644
--- a/DotNet/Safran.BIATemplate.Domain/UserModule/Service/UserRightDomainService.cs
+++ b/DotNet/Safran.BIATemplate.Domain/UserModule/Service/UserRightDomainService.cs
@@ -20,7 +20,7 @@ namespace Safran.BIATemplate.Domain.UserModule.Service
         /// <summary>
         /// The repository.
         /// </summary>
-        private readonly IGenericRepository repository;
+        private readonly ITGenericRepository<Member> repository;
 
         /// <summary>
         /// The configuration of the BiaNet section.
@@ -38,7 +38,7 @@ namespace Safran.BIATemplate.Domain.UserModule.Service
         /// <param name="repository">The repository.</param>
         /// <param name="configuration">The configuration of the BiaNet section.</param>
         /// <param name="adHelper">The AD helper.</param>
-        public UserRightDomainService(IGenericRepository repository, IOptions<BiaNetSection> configuration, IUserDirectoryRepository<UserFromDirectory> adHelper)
+        public UserRightDomainService(ITGenericRepository<Member> repository, IOptions<BiaNetSection> configuration, IUserDirectoryRepository<UserFromDirectory> adHelper)
         {
             this.repository = repository;
             this.configuration = configuration.Value;
@@ -51,13 +51,13 @@ namespace Safran.BIATemplate.Domain.UserModule.Service
             var specification = siteId > 0 ? MemberSpecification.SearchForSidAndSite(sid, siteId) : MemberSpecification.SearchForSid(sid);
 
             var sitesMemberRoles = (await this.repository
-                .GetBySpecAsync(
+                .GetAllResultAsync(
                     s => new UserRoleSelectResult
                     {
                         Roles = s.MemberRoles.Select(mr => mr.Role.Code),
                         UserId = s.UserId,
                     },
-                    specification)).Distinct().FirstOrDefault();
+                    specification: specification)).Distinct().FirstOrDefault();
 
             var roles = userDirectoryRoles;
             if (sitesMemberRoles != null)
@@ -72,8 +72,9 @@ namespace Safran.BIATemplate.Domain.UserModule.Service
         public List<string> TranslateRolesInRights(List<string> roles)
         {
             var rights = this.configuration.Permissions.ToList();
-            var userRights = rights.Where(w => w.Roles.Any(a => roles.Contains(a))).Select(s => s.Name).Distinct().ToList();
-            return userRights;
+            var userRights1 = rights.Where(w => w.Name != null && w.Roles.Any(a => roles.Contains(a))).Select(s => s.Name);
+            var userRights2 = rights.Where(w => w.Names != null && w.Roles.Any(a => roles.Contains(a))).SelectMany(s => s.Names);
+            return userRights1.Concat(userRights2).Distinct().ToList();
         }
     }
 }
\ No newline at end of file
diff --git a/DotNet/Safran.BIATemplate.Domain/UserModule/Service/UserSynchronizeDomainService.cs b/DotNet/Safran.BIATemplate.Domain/UserModule/Service/UserSynchronizeDomainService.cs
index 2a69bb6..d643bb5 100644
--- a/DotNet/Safran.BIATemplate.Domain/UserModule/Service/UserSynchronizeDomainService.cs
+++ b/DotNet/Safran.BIATemplate.Domain/UserModule/Service/UserSynchronizeDomainService.cs
@@ -18,7 +18,7 @@ namespace Safran.BIATemplate.Domain.UserModule.Service
         /// <summary>
         /// The repository.
         /// </summary>
-        private readonly IGenericRepository repository;
+        private readonly ITGenericRepository<User> repository;
 
         /// <summary>
         /// The AD helper.
@@ -31,7 +31,7 @@ namespace Safran.BIATemplate.Domain.UserModule.Service
         /// <param name="repository">The repository.</param>
         /// <param name="configuration">The configuration of the BiaNet section.</param>
         /// <param name="adHelper">The AD helper.</param>
-        public UserSynchronizeDomainService(IGenericRepository repository, IUserDirectoryRepository<UserFromDirectory> adHelper)
+        public UserSynchronizeDomainService(ITGenericRepository<User> repository, IUserDirectoryRepository<UserFromDirectory> adHelper)
         {
             this.repository = repository;
             this.userDirectoryHelper = adHelper;
@@ -40,8 +40,8 @@ namespace Safran.BIATemplate.Domain.UserModule.Service
         /// <inheritdoc cref="IUserSynchronizeDomainService.SynchronizeFromADGroupAsync"/>
         public async Task SynchronizeFromADGroupAsync(bool fullSynchro = false)
         {
-            List<User> users = (await this.repository.GetAllAsync<User>()).ToList();
-            List<string> usersSidInDirectory = (await this.userDirectoryHelper.GetAllUsersSidInRole("User")).ToList();
+            List<User> users = (await this.repository.GetAllEntityAsync()).ToList();
+            List<string> usersSidInDirectory = (await this.userDirectoryHelper.GetAllUsersSidInRoleToSync("User")).ToList();
 
             if (usersSidInDirectory != null)
             {
diff --git a/DotNet/Safran.BIATemplate.Infrastructure.Data/DataContext.cs b/DotNet/Safran.BIATemplate.Infrastructure.Data/DataContext.cs
index b856d1d..1a24e51 100644
--- a/DotNet/Safran.BIATemplate.Infrastructure.Data/DataContext.cs
+++ b/DotNet/Safran.BIATemplate.Infrastructure.Data/DataContext.cs
@@ -7,7 +7,6 @@ namespace Safran.BIATemplate.Infrastructure.Data
     using BIA.Net.Core.Infrastructure.Data;
     using Microsoft.EntityFrameworkCore;
     using Microsoft.Extensions.Logging;
-
     using Safran.BIATemplate.Domain.SiteModule.Aggregate;
     using Safran.BIATemplate.Domain.UserModule.Aggregate;
     using Safran.BIATemplate.Domain.ViewModule.Aggregate;
@@ -53,7 +52,6 @@ namespace Safran.BIATemplate.Infrastructure.Data
         /// </summary>
         public DbSet<View> Views { get; set; }
 
-
         /// <inheritdoc cref="DbContext.OnModelCreating"/>
         protected override void OnModelCreating(ModelBuilder modelBuilder)
         {
@@ -62,7 +60,6 @@ namespace Safran.BIATemplate.Infrastructure.Data
             SiteModelBuilder.CreateSiteModel(modelBuilder);
             UserModelBuilder.CreateModel(modelBuilder);
             ViewModelBuilder.CreateModel(modelBuilder);
-
             this.OnEndModelCreating(modelBuilder);
         }
     }
diff --git a/DotNet/Safran.BIATemplate.Infrastructure.Data/Repositories/DataRepository.cs b/DotNet/Safran.BIATemplate.Infrastructure.Data/Repositories/DataRepository.cs
deleted file mode 100644
index 2986e66..0000000
--- a/DotNet/Safran.BIATemplate.Infrastructure.Data/Repositories/DataRepository.cs
+++ /dev/null
@@ -1,23 +0,0 @@
-// <copyright file="DataRepository.cs" company="Safran">
-//     Copyright (c) Safran. All rights reserved.
-// </copyright>
-namespace Safran.BIATemplate.Infrastructure.Data.Repositories
-{
-    using BIA.Net.Core.Infrastructure.Data;
-    using BIA.Net.Core.Infrastructure.Data.Repositories;
-
-    /// <summary>
-    /// The class representing a GenericRepository.
-    /// </summary>
-    public class DataRepository : GenericRepositoryEF
-    {
-        /// <summary>
-        /// Initializes a new instance of the <see cref="DataRepository"/> class.
-        /// </summary>
-        /// <param name="unitOfWork">QueryableUnitOfWork.</param>
-        public DataRepository(IQueryableUnitOfWork unitOfWork)
-            : base(unitOfWork)
-        {
-        }
-    }
-}
\ No newline at end of file
diff --git a/DotNet/Safran.BIATemplate.Infrastructure.Data/Repositories/QueryCustomizer/MemberQueryCustomizer.cs b/DotNet/Safran.BIATemplate.Infrastructure.Data/Repositories/QueryCustomizer/MemberQueryCustomizer.cs
new file mode 100644
index 0000000..5726b67
--- /dev/null
+++ b/DotNet/Safran.BIATemplate.Infrastructure.Data/Repositories/QueryCustomizer/MemberQueryCustomizer.cs
@@ -0,0 +1,28 @@
+// <copyright file="MemberQueryCustomizer.cs" company="Safran">
+//     Copyright (c) Safran. All rights reserved.
+// </copyright>
+namespace Safran.BIATemplate.Infrastructure.Data.Repositories.QueryCustomizer
+{
+    using System.Linq;
+    using BIA.Net.Core.Domain.RepoContract.QueryCustomizer;
+    using Microsoft.EntityFrameworkCore;
+    using Safran.BIATemplate.Domain.RepoContract;
+    using Safran.BIATemplate.Domain.UserModule.Aggregate;
+
+    /// <summary>
+    /// Class use to customize the EF request on Member entity.
+    /// </summary>
+    public class MemberQueryCustomizer : TQueryCustomizer<Member>, IMemberQueryCustomizer
+    {
+        /// <inheritdoc/>
+        public override IQueryable<Member> CustomizeAfter(IQueryable<Member> objectSet, string queryMode)
+        {
+            if (queryMode == QueryMode.Update)
+            {
+                return objectSet.Include(member => member.MemberRoles);
+            }
+
+            return objectSet;
+        }
+    }
+}
diff --git a/DotNet/Safran.BIATemplate.Infrastructure.Data/Repositories/QueryCustomizer/ViewQueryCustomizer.cs b/DotNet/Safran.BIATemplate.Infrastructure.Data/Repositories/QueryCustomizer/ViewQueryCustomizer.cs
new file mode 100644
index 0000000..6663119
--- /dev/null
+++ b/DotNet/Safran.BIATemplate.Infrastructure.Data/Repositories/QueryCustomizer/ViewQueryCustomizer.cs
@@ -0,0 +1,37 @@
+// <copyright file="ViewQueryCustomizer.cs" company="Safran">
+//     Copyright (c) Safran. All rights reserved.
+// </copyright>
+
+namespace Safran.BIATemplate.Infrastructure.Data.Repositories.QueryCustomizer
+{
+    using System.Linq;
+    using BIA.Net.Core.Domain.RepoContract.QueryCustomizer;
+    using Microsoft.EntityFrameworkCore;
+    using Safran.BIATemplate.Domain.RepoContract;
+    using Safran.BIATemplate.Domain.ViewModule.Aggregate;
+
+    /// <summary>
+    /// Class use to customize the EF request on Member entity.
+    /// </summary>
+    public class ViewQueryCustomizer : TQueryCustomizer<View>, IViewQueryCustomizer
+    {
+        /// <inheritdoc/>
+        public override IQueryable<View> CustomizeAfter(IQueryable<View> objectSet, string queryMode)
+        {
+            if (queryMode == QueryCustomMode.ModeUpdateViewUsers)
+            {
+                return objectSet.Include(view => view.ViewUsers);
+            }
+            else if (queryMode == QueryCustomMode.ModeUpdateViewSites)
+            {
+                return objectSet.Include(view => view.ViewSites);
+            }
+            else if (queryMode == QueryCustomMode.ModeUpdateViewSitesAndUsers)
+            {
+                return objectSet.Include(view => view.ViewUsers).Include(view => view.ViewSites);
+            }
+
+            return objectSet;
+        }
+    }
+}
diff --git a/DotNet/Safran.BIATemplate.Infrastructure.Data/Safran.BIATemplate.Infrastructure.Data.csproj b/DotNet/Safran.BIATemplate.Infrastructure.Data/Safran.BIATemplate.Infrastructure.Data.csproj
index c77ff1b..ddeaade 100644
--- a/DotNet/Safran.BIATemplate.Infrastructure.Data/Safran.BIATemplate.Infrastructure.Data.csproj
+++ b/DotNet/Safran.BIATemplate.Infrastructure.Data/Safran.BIATemplate.Infrastructure.Data.csproj
@@ -16,7 +16,7 @@
   </ItemGroup>
 
   <ItemGroup>
-    <PackageReference Include="BIA.Net.Core.Infrastructure.Data" Version="3.2.2" />
+    <PackageReference Include="BIA.Net.Core.Infrastructure.Data" Version="3.3.0" />
     <PackageReference Include="Microsoft.EntityFrameworkCore" Version="3.1.8" />
     <PackageReference Include="Microsoft.EntityFrameworkCore.Relational" Version="3.1.8" />
     <PackageReference Include="Microsoft.EntityFrameworkCore.SqlServer" Version="3.1.8" />
diff --git a/DotNet/Safran.BIATemplate.Infrastructure.Service/Safran.BIATemplate.Infrastructure.Service.csproj b/DotNet/Safran.BIATemplate.Infrastructure.Service/Safran.BIATemplate.Infrastructure.Service.csproj
index 32578c4..e726023 100644
--- a/DotNet/Safran.BIATemplate.Infrastructure.Service/Safran.BIATemplate.Infrastructure.Service.csproj
+++ b/DotNet/Safran.BIATemplate.Infrastructure.Service/Safran.BIATemplate.Infrastructure.Service.csproj
@@ -7,7 +7,7 @@
   </PropertyGroup>
 
   <ItemGroup>
-    <PackageReference Include="BIA.Net.Core.Infrastructure.Service" Version="3.2.1" />
+    <PackageReference Include="BIA.Net.Core.Infrastructure.Service" Version="3.3.0" />
     <PackageReference Include="MailKit" Version="2.9.0" />
     <PackageReference Include="Microsoft.Extensions.Options" Version="3.1.8" />
     <PackageReference Include="System.DirectoryServices" Version="4.7.0" />
diff --git a/DotNet/Safran.BIATemplate.Presentation.Api/Controllers/AuthController.cs b/DotNet/Safran.BIATemplate.Presentation.Api/Controllers/AuthController.cs
index 7500ca6..3ed0601 100644
--- a/DotNet/Safran.BIATemplate.Presentation.Api/Controllers/AuthController.cs
+++ b/DotNet/Safran.BIATemplate.Presentation.Api/Controllers/AuthController.cs
@@ -114,6 +114,9 @@ namespace Safran.BIATemplate.Presentation.Api.Controllers
                 return this.BadRequest("Incorrect sid");
             }
 
+            // parallel launch the get user profile
+            var userProfileTask = this.userAppService.GetUserProfileAsync(login);
+
             // get roles
             var userRolesFromUserDirectory = await this.userAppService.GetUserDirectoryRolesAsync(sid);
 
@@ -123,14 +126,11 @@ namespace Safran.BIATemplate.Presentation.Api.Controllers
                 return this.Forbid("No roles found");
             }
 
-            // get main rights
-            var userMainRights = this.userAppService.TranslateRolesInRights(userRolesFromUserDirectory);
-
             // get user info
             UserInfoDto userInfo = null;
-            if (userRolesFromUserDirectory.Contains("User"))
+            if (userRolesFromUserDirectory.Contains(Constants.Role.User))
             {
-                userInfo = await this.userAppService.GetUserInfoForAlreadyAutorizedUserAndCreateIfRequieredAsync(sid);
+                userInfo = await this.userAppService.GetCreateUserInfoAsync(sid);
                 await this.userAppService.UpdateLastLoginDateAndActivate(userInfo.Id);
             }
             else
@@ -140,18 +140,21 @@ namespace Safran.BIATemplate.Presentation.Api.Controllers
 
             // get user rights
             List<string> userRights = null;
-            if (userRolesFromUserDirectory.Contains("User") && !userMainRights.Any(x => x == Rights.Sites.AccessAll))
+            if (userRolesFromUserDirectory.Contains(Constants.Role.User))
             {
                 if (siteId < 1)
                 {
-                    var site = (await this.siteAppService.GetAllByUserAsync(userInfo.Id)).OrderByDescending(x => x.IsDefault).FirstOrDefault();
+                    var userMainRights = this.userAppService.TranslateRolesInRights(userRolesFromUserDirectory);
+                    var sites = await this.siteAppService.GetAllAsync(userInfo.Id, userMainRights);
+                    var site = sites?.OrderByDescending(x => x.IsDefault).FirstOrDefault();
+
                     if (site != null)
                     {
                         siteId = site.Id;
                     }
                 }
 
-                if (siteId >= 1)
+                if (siteId > 0)
                 {
                     userRights = await this.userAppService.GetRightsForUserAsync(userRolesFromUserDirectory, sid, siteId);
                     if (userRights == null || !userRights.Any())
@@ -188,7 +191,7 @@ namespace Safran.BIATemplate.Presentation.Api.Controllers
                 return this.Unauthorized("No rights found");
             }
 
-            var userProfile = await this.userAppService.GetUserProfileAsync(login) ?? new UserProfileDto { Theme = Constants.DefaultValues.Theme };
+            var userProfile = userProfileTask.Result ?? new UserProfileDto { Theme = Constants.DefaultValues.Theme };
 
             var token = await this.jwtFactory.GenerateJwtAsync(claimsIdentity, new { UserInfo = userInfo, UserProfile = userProfile, UserData = userData });
 
diff --git a/DotNet/Safran.BIATemplate.Presentation.Api/Controllers/MembersController.cs b/DotNet/Safran.BIATemplate.Presentation.Api/Controllers/MembersController.cs
index 72a6e54..5dd3894 100644
--- a/DotNet/Safran.BIATemplate.Presentation.Api/Controllers/MembersController.cs
+++ b/DotNet/Safran.BIATemplate.Presentation.Api/Controllers/MembersController.cs
@@ -8,6 +8,7 @@ namespace Safran.BIATemplate.Presentation.Api.Controllers
     using System.Collections.Generic;
     using System.Linq;
     using System.Threading.Tasks;
+    using BIA.Net.Core.Common;
     using BIA.Net.Core.Common.Exceptions;
     using BIA.Net.Presentation.Api.Controllers.Base;
     using Microsoft.AspNetCore.Authorization;
@@ -46,9 +47,9 @@ namespace Safran.BIATemplate.Presentation.Api.Controllers
         [Authorize(Roles = Rights.Members.ListAccess)]
         public async Task<IActionResult> GetAll([FromBody] MemberFilterDto filters)
         {
-            var results = await this.memberService.GetAllBySiteAsync(filters);
+            var results = await this.memberService.GetRangeBySiteAsync(filters);
 
-            this.HttpContext.Response.Headers.Add(Constants.HttpHeaders.TotalCount, results.Total.ToString());
+            this.HttpContext.Response.Headers.Add(BIAConstants.HttpHeaders.TotalCount, results.Total.ToString());
 
             return this.Ok(results.Members);
         }
@@ -96,7 +97,7 @@ namespace Safran.BIATemplate.Presentation.Api.Controllers
         [ProducesResponseType(StatusCodes.Status400BadRequest)]
         [ProducesResponseType(StatusCodes.Status500InternalServerError)]
         [Authorize(Roles = Rights.Members.Create)]
-        public async Task<IActionResult> Add([FromBody]MemberDto dto)
+        public async Task<IActionResult> Add([FromBody] MemberDto dto)
         {
             try
             {
@@ -125,7 +126,7 @@ namespace Safran.BIATemplate.Presentation.Api.Controllers
         [ProducesResponseType(StatusCodes.Status404NotFound)]
         [ProducesResponseType(StatusCodes.Status500InternalServerError)]
         [Authorize(Roles = Rights.Members.Update)]
-        public async Task<IActionResult> Update(int id, [FromBody]MemberDto dto)
+        public async Task<IActionResult> Update(int id, [FromBody] MemberDto dto)
         {
             if (id == 0 || dto == null || dto.Id != id)
             {
@@ -184,6 +185,43 @@ namespace Safran.BIATemplate.Presentation.Api.Controllers
             }
         }
 
+        /// <summary>
+        /// Removes the specified member ids.
+        /// </summary>
+        /// <param name="ids">The member ids.</param>
+        /// <returns>The result of the remove.</returns>
+        [HttpDelete]
+        [ProducesResponseType(StatusCodes.Status200OK)]
+        [ProducesResponseType(StatusCodes.Status400BadRequest)]
+        [ProducesResponseType(StatusCodes.Status404NotFound)]
+        [ProducesResponseType(StatusCodes.Status500InternalServerError)]
+        [Authorize(Roles = Rights.Members.Delete)]
+        public async Task<IActionResult> Remove([FromQuery] List<int> ids)
+        {
+            if (ids?.Any() != true)
+            {
+                return this.BadRequest();
+            }
+
+            try
+            {
+                foreach (int id in ids)
+                {
+                    await this.memberService.RemoveAsync(id);
+                }
+
+                return this.Ok();
+            }
+            catch (ElementNotFoundException)
+            {
+                return this.NotFound();
+            }
+            catch (Exception)
+            {
+                return this.StatusCode(500, "Internal server error");
+            }
+        }
+
         /// <summary>
         /// Save all members according to their state (added, updated or removed).
         /// </summary>
diff --git a/DotNet/Safran.BIATemplate.Presentation.Api/Controllers/RolesController.cs b/DotNet/Safran.BIATemplate.Presentation.Api/Controllers/RolesController.cs
index 2dc0a38..0a6ac6b 100644
--- a/DotNet/Safran.BIATemplate.Presentation.Api/Controllers/RolesController.cs
+++ b/DotNet/Safran.BIATemplate.Presentation.Api/Controllers/RolesController.cs
@@ -6,6 +6,7 @@ namespace Safran.BIATemplate.Presentation.Api.Controllers
 {
     using System.Linq;
     using System.Threading.Tasks;
+    using BIA.Net.Core.Common;
     using BIA.Net.Presentation.Api.Controllers.Base;
     using Microsoft.AspNetCore.Authorization;
     using Microsoft.AspNetCore.Http;
@@ -43,7 +44,7 @@ namespace Safran.BIATemplate.Presentation.Api.Controllers
         {
             var results = await this.roleService.GetAllAsync();
 
-            this.HttpContext.Response.Headers.Add(Constants.HttpHeaders.TotalCount, results.Count().ToString());
+            this.HttpContext.Response.Headers.Add(BIAConstants.HttpHeaders.TotalCount, results.Count().ToString());
 
             return this.Ok(results);
         }
diff --git a/DotNet/Safran.BIATemplate.Presentation.Api/Controllers/SitesController.cs b/DotNet/Safran.BIATemplate.Presentation.Api/Controllers/SitesController.cs
index 2bc5908..2c23404 100644
--- a/DotNet/Safran.BIATemplate.Presentation.Api/Controllers/SitesController.cs
+++ b/DotNet/Safran.BIATemplate.Presentation.Api/Controllers/SitesController.cs
@@ -8,6 +8,7 @@ namespace Safran.BIATemplate.Presentation.Api.Controllers
     using System.Collections.Generic;
     using System.Linq;
     using System.Threading.Tasks;
+    using BIA.Net.Core.Common;
     using BIA.Net.Core.Common.Exceptions;
     using BIA.Net.Presentation.Api.Controllers.Base;
     using Microsoft.AspNetCore.Authorization;
@@ -61,7 +62,7 @@ namespace Safran.BIATemplate.Presentation.Api.Controllers
         {
             var results = await this.siteService.GetAllWithMembersAsync(filters);
 
-            this.HttpContext.Response.Headers.Add(Constants.HttpHeaders.TotalCount, results.Total.ToString());
+            this.HttpContext.Response.Headers.Add(BIAConstants.HttpHeaders.TotalCount, results.Total.ToString());
 
             return this.Ok(results.Sites);
         }
@@ -197,6 +198,43 @@ namespace Safran.BIATemplate.Presentation.Api.Controllers
             }
         }
 
+        /// <summary>
+        /// Removes the specified site ids.
+        /// </summary>
+        /// <param name="ids">The site ids.</param>
+        /// <returns>The result of the remove.</returns>
+        [HttpDelete]
+        [ProducesResponseType(StatusCodes.Status200OK)]
+        [ProducesResponseType(StatusCodes.Status400BadRequest)]
+        [ProducesResponseType(StatusCodes.Status404NotFound)]
+        [ProducesResponseType(StatusCodes.Status500InternalServerError)]
+        [Authorize(Roles = Rights.Sites.Delete)]
+        public async Task<IActionResult> Remove([FromQuery] List<int> ids)
+        {
+            if (ids?.Any() != true)
+            {
+                return this.BadRequest();
+            }
+
+            try
+            {
+                foreach (int id in ids)
+                {
+                    await this.siteService.RemoveAsync(id);
+                }
+
+                return this.Ok();
+            }
+            catch (ElementNotFoundException)
+            {
+                return this.NotFound();
+            }
+            catch (Exception)
+            {
+                return this.StatusCode(500, "Internal server error");
+            }
+        }
+
         /// <summary>
         /// Save all sites according to their state (added, updated or removed).
         /// </summary>
diff --git a/DotNet/Safran.BIATemplate.Presentation.Api/Controllers/UsersController.cs b/DotNet/Safran.BIATemplate.Presentation.Api/Controllers/UsersController.cs
index 57be9b9..3175efb 100644
--- a/DotNet/Safran.BIATemplate.Presentation.Api/Controllers/UsersController.cs
+++ b/DotNet/Safran.BIATemplate.Presentation.Api/Controllers/UsersController.cs
@@ -6,7 +6,9 @@ namespace Safran.BIATemplate.Presentation.Api.Controllers
 {
     using System.Collections.Generic;
     using System.Linq;
+    using System.Text;
     using System.Threading.Tasks;
+    using BIA.Net.Core.Common;
     using BIA.Net.Core.Domain.Dto.Base;
     using BIA.Net.Presentation.Api.Controllers.Base;
     using Microsoft.AspNetCore.Authorization;
@@ -61,7 +63,7 @@ namespace Safran.BIATemplate.Presentation.Api.Controllers
         {
             var results = await this.userService.GetAllAsync(filters);
 
-            this.HttpContext.Response.Headers.Add(Constants.HttpHeaders.TotalCount, results.Total.ToString());
+            this.HttpContext.Response.Headers.Add(BIAConstants.HttpHeaders.TotalCount, results.Total.ToString());
 
             return this.Ok(results.Users);
         }
@@ -79,7 +81,7 @@ namespace Safran.BIATemplate.Presentation.Api.Controllers
         {
             var results = await this.userService.GetAllADUserAsync(filter, ldapName);
 
-            this.HttpContext.Response.Headers.Add(Constants.HttpHeaders.TotalCount, results.Count().ToString());
+            this.HttpContext.Response.Headers.Add(BIAConstants.HttpHeaders.TotalCount, results.Count().ToString());
 
             return this.Ok(results);
         }
@@ -96,7 +98,7 @@ namespace Safran.BIATemplate.Presentation.Api.Controllers
         {
             var results = await this.userService.GetAllLdapUsersDomains();
 
-            this.HttpContext.Response.Headers.Add(Constants.HttpHeaders.TotalCount, results.Count.ToString());
+            this.HttpContext.Response.Headers.Add(BIAConstants.HttpHeaders.TotalCount, results.Count.ToString());
 
             return this.Ok(results);
         }
@@ -145,9 +147,15 @@ namespace Safran.BIATemplate.Presentation.Api.Controllers
         /// <returns>The result code.</returns>
         [HttpDelete("{id}")]
         [ProducesResponseType(StatusCodes.Status200OK)]
+        [ProducesResponseType(StatusCodes.Status400BadRequest)]
         [Authorize(Roles = Rights.Users.Delete)]
         public async Task<IActionResult> RemoveInGroup(int id)
         {
+            if (id == 0)
+            {
+                return this.BadRequest();
+            }
+
             var error = await this.userService.RemoveInGroupAsync(id);
             if (error != string.Empty)
             {
@@ -157,6 +165,44 @@ namespace Safran.BIATemplate.Presentation.Api.Controllers
             return this.Ok();
         }
 
+        /// <summary>
+        /// Removes the specified user ids.
+        /// </summary>
+        /// <param name="ids">The identifiers of the user.</param>
+        /// <returns>The result of the remove.</returns>
+        [HttpDelete]
+        [ProducesResponseType(StatusCodes.Status200OK)]
+        [ProducesResponseType(StatusCodes.Status400BadRequest)]
+        [ProducesResponseType(StatusCodes.Status404NotFound)]
+        [ProducesResponseType(StatusCodes.Status500InternalServerError)]
+        [Authorize(Roles = Rights.Users.Delete)]
+        public async Task<IActionResult> Remove([FromQuery] List<int> ids)
+        {
+            if (ids?.Any() != true)
+            {
+                return this.BadRequest();
+            }
+
+            StringBuilder sb = new StringBuilder();
+
+            foreach (int id in ids)
+            {
+                var error = await this.userService.RemoveInGroupAsync(id);
+                if (error != string.Empty)
+                {
+                    sb.Append(error);
+                }
+            }
+
+            var errors = sb.ToString();
+            if (!string.IsNullOrEmpty(errors))
+            {
+                return this.Problem(errors);
+            }
+
+            return this.Ok();
+        }
+
         /// <summary>
         /// Synchronize all the users with the AD.
         /// </summary>
diff --git a/DotNet/Safran.BIATemplate.Presentation.Api/Program.cs b/DotNet/Safran.BIATemplate.Presentation.Api/Program.cs
index fb4248e..2ee96b2 100644
--- a/DotNet/Safran.BIATemplate.Presentation.Api/Program.cs
+++ b/DotNet/Safran.BIATemplate.Presentation.Api/Program.cs
@@ -9,7 +9,6 @@ namespace Safran.BIATemplate.Presentation.Api
     using Microsoft.AspNetCore;
     using Microsoft.AspNetCore.Hosting;
     using Microsoft.Extensions.Configuration;
-    using Microsoft.Extensions.Logging;
     using NLog;
     using NLog.Extensions.Logging;
     using NLog.Web;
@@ -26,21 +25,14 @@ namespace Safran.BIATemplate.Presentation.Api
         public static void Main(string[] args)
         {
             // NLog: setup the logger first to catch all errors
-            var config = new ConfigurationBuilder()
-                .SetBasePath(System.IO.Directory.GetCurrentDirectory())
-                .AddJsonFile("appsettings.json", optional: true, reloadOnChange: true)
-                .AddJsonFile($"appsettings.{Environment.GetEnvironmentVariable("ASPNETCORE_ENVIRONMENT")}.json", optional: true, reloadOnChange: true)
-                .Build();
-            LogManager.Configuration = new NLogLoggingConfiguration(config.GetSection("NLog"));
-            var logger = NLogBuilder.ConfigureNLog(LogManager.Configuration).GetCurrentClassLogger();
             try
             {
-                logger.Debug("init main");
                 CreateWebHostBuilder(args).Build().Run();
             }
             catch (Exception ex)
             {
                 // NLog: catch setup errors
+                var logger = NLogBuilder.ConfigureNLog(LogManager.Configuration).GetCurrentClassLogger();
                 logger.Error(ex, "Stopped program because of exception");
                 throw;
             }
@@ -60,15 +52,17 @@ namespace Safran.BIATemplate.Presentation.Api
             WebHost.CreateDefaultBuilder(args)
                 .ConfigureAppConfiguration((hostingContext, config) =>
                 {
+                    config.AddJsonFile("appsettings.json", optional: true, reloadOnChange: true);
+                    config.AddJsonFile($"appsettings.{Environment.GetEnvironmentVariable("ASPNETCORE_ENVIRONMENT")}.json", optional: true, reloadOnChange: true);
                     config.AddJsonFile("bianetconfig.json", optional: false, reloadOnChange: true);
                     config.AddJsonFile($"bianetconfig.{Environment.GetEnvironmentVariable("ASPNETCORE_ENVIRONMENT")}.json", optional: true, reloadOnChange: true);
                 })
-                .UseStartup<Startup>()
                 .ConfigureLogging((hostingContext, logging) =>
                 {
-                    logging.ClearProviders();
-                    logging.SetMinimumLevel(Microsoft.Extensions.Logging.LogLevel.Trace);
+                    IConfiguration configuration = hostingContext.Configuration;
+                    LogManager.Configuration = new NLogLoggingConfiguration(configuration.GetSection("NLog"));
                 })
-                .UseNLog();
+                .UseNLog()
+                .UseStartup<Startup>();
     }
 }
\ No newline at end of file
diff --git a/DotNet/Safran.BIATemplate.Presentation.Api/Safran.BIATemplate.Presentation.Api.csproj b/DotNet/Safran.BIATemplate.Presentation.Api/Safran.BIATemplate.Presentation.Api.csproj
index 7e6d3e0..9fbf431 100644
--- a/DotNet/Safran.BIATemplate.Presentation.Api/Safran.BIATemplate.Presentation.Api.csproj
+++ b/DotNet/Safran.BIATemplate.Presentation.Api/Safran.BIATemplate.Presentation.Api.csproj
@@ -9,8 +9,10 @@
   </PropertyGroup>
 
   <ItemGroup>
-    <PackageReference Include="BIA.Net.Core.Presentation.Api" Version="3.2.2.1" />
+    <PackageReference Include="BIA.Net.Core.Presentation.Api" Version="3.3.0" />
+    <PackageReference Include="Hangfire" Version="1.7.18" />
     <PackageReference Include="Microsoft.AspNetCore.Authentication.JwtBearer" Version="3.1.8" />
+    <PackageReference Include="Microsoft.AspNetCore.SignalR.Redis" Version="1.1.5" />
     <PackageReference Include="Microsoft.EntityFrameworkCore.Design" Version="3.1.8">
       <PrivateAssets>all</PrivateAssets>
       <IncludeAssets>runtime; build; native; contentfiles; analyzers; buildtransitive</IncludeAssets>
@@ -19,7 +21,7 @@
       <PrivateAssets>all</PrivateAssets>
       <IncludeAssets>runtime; build; native; contentfiles; analyzers; buildtransitive</IncludeAssets>
     </PackageReference>
-    <PackageReference Include="Microsoft.Extensions.Logging.Abstractions" Version="3.1.8" />
+    <PackageReference Include="Microsoft.Extensions.Logging.Abstractions" Version="3.1.11" />
     <PackageReference Include="NLog" Version="4.7.5" />
     <PackageReference Include="NLog.Extensions.Logging" Version="1.6.5" />
     <PackageReference Include="NLog.MailKit" Version="3.3.0" />
diff --git a/DotNet/Safran.BIATemplate.Presentation.Api/Startup.cs b/DotNet/Safran.BIATemplate.Presentation.Api/Startup.cs
index afc10b9..3fdfca2 100644
--- a/DotNet/Safran.BIATemplate.Presentation.Api/Startup.cs
+++ b/DotNet/Safran.BIATemplate.Presentation.Api/Startup.cs
@@ -5,16 +5,16 @@
 namespace Safran.BIATemplate.Presentation.Api
 {
     using System.Security.Principal;
+    using BIA.Net.Core.Application.Authentication;
+    using BIA.Net.Core.Common;
     using BIA.Net.Core.Common.Configuration;
-    using BIA.Net.Core.Presentation.Api.Authentication;
+    using BIA.Net.Core.WorkerService.Features;
     using Microsoft.AspNetCore.Builder;
     using Microsoft.AspNetCore.Hosting;
     using Microsoft.AspNetCore.Http;
     using Microsoft.Extensions.Configuration;
     using Microsoft.Extensions.DependencyInjection;
     using Microsoft.Extensions.Hosting;
-    using Microsoft.OpenApi.Models;
-    using Safran.BIATemplate.Crosscutting.Common;
     using Safran.BIATemplate.Crosscutting.Ioc;
 
     /// <summary>
@@ -60,48 +60,16 @@ namespace Safran.BIATemplate.Presentation.Api
             services.AddCors();
             services.AddResponseCompression();
 
-            if (this.currentEnvironment.IsDevelopment())
-            {
-
-                services.AddSwaggerGen(a =>
-                {
-                    var apiScheme = new OpenApiSecurityScheme
-                    {
-                        Name = "Authorization",
-                        Description = "JWT Authorization header using the Bearer scheme. Example: \"Authorization: Bearer {token}\"",
-                        In = ParameterLocation.Header,
-                        Type = SecuritySchemeType.Http,
-                        Scheme = "bearer",
-                        Reference = new OpenApiReference
-                        {
-                            Type = ReferenceType.SecurityScheme,
-                            Id = "Bearer",
-                        },
-                    };
-                    var securityRequirement = new OpenApiSecurityRequirement();
-                    securityRequirement.Add(apiScheme, new[] { "Bearer" });
-
-                    a.SwaggerDoc("BIATemplateApi", new OpenApiInfo { Title = "BIATemplateApi", Version = "v1.0" });
-                    a.AddSecurityDefinition(
-                        "Bearer",
-                        apiScheme);
-                    a.AddSecurityRequirement(securityRequirement);
-                });
-            }
-
             // Used to get a unique identifier for each HTTP request and track it.
             services.AddSingleton<IHttpContextAccessor, HttpContextAccessor>();
-            services.AddTransient<IPrincipal>(provider => provider.GetService<IHttpContextAccessor>().HttpContext.User);
+            services.AddTransient<IPrincipal>(provider => new BIAClaimsPrincipal(provider.GetService<IHttpContextAccessor>().HttpContext.User));
 
             // Begin BIA Standard service
-            services.ConfigureAuthentication(this.biaNetSection);
-            services.AddDistributedSqlServerCache(options =>
+            services.AddBiaApiFeatures(config =>
             {
-                options.ConnectionString = this.configuration.GetConnectionString("BIATemplateDatabase");
-                options.SchemaName = "dbo";
-                options.TableName = "DistCache";
+                config.Configuration = this.configuration;
+                config.DistributedCache.Activate("BIATemplateDatabase");
             });
-            services.AddMemoryCache();
 
             // End BIA Standard service
 
@@ -116,7 +84,6 @@ namespace Safran.BIATemplate.Presentation.Api
         /// <param name="env">The environment.</param>
         public void Configure(IApplicationBuilder app, IWebHostEnvironment env)
         {
-
             if (env.IsDevelopment())
             {
                 app.UseDeveloperExceptionPage();
@@ -129,16 +96,7 @@ namespace Safran.BIATemplate.Presentation.Api
                     .AllowAnyMethod()
                     .AllowAnyHeader()
                     .AllowCredentials()
-                    .WithExposedHeaders(Constants.HttpHeaders.TotalCount));
-                app.UseStaticFiles();
-                app.UseSwagger();
-                app.UseSwaggerUI(c =>
-                {
-                    c.SwaggerEndpoint("BIATemplateApi/swagger.json", "v1.0");
-                    c.InjectJavascript("./jquery.min.js");
-                    c.InjectJavascript("./AutoLogin.js");
-                    c.InjectStylesheet("./AutoLogin.css");
-                });
+                    .WithExposedHeaders(BIAConstants.HttpHeaders.TotalCount));
             }
             else
             {
@@ -152,7 +110,7 @@ namespace Safran.BIATemplate.Presentation.Api
             app.UseAuthentication();
             app.UseAuthorization();
 
-            app.UseEndpoints(endpoints => endpoints.MapControllers());
+            app.UseBiaApiFeatures(x => x.BiaNetSection = this.biaNetSection);
         }
     }
 }
\ No newline at end of file
diff --git a/DotNet/Safran.BIATemplate.Presentation.Api/appsettings.json b/DotNet/Safran.BIATemplate.Presentation.Api/appsettings.json
index b167246..9229a39 100644
--- a/DotNet/Safran.BIATemplate.Presentation.Api/appsettings.json
+++ b/DotNet/Safran.BIATemplate.Presentation.Api/appsettings.json
@@ -9,6 +9,10 @@
       "Microsoft": "Warning"
     }
   },
+  "Project": {
+    "Name": "BIATemplate",
+    "ShortName": "BIATemplate"
+  },
   "AllowedHosts": "*",
   "NLog": {
     "autoReload": true,
diff --git a/DotNet/Safran.BIATemplate.Presentation.Api/bianetconfig.DMEU_INT.json b/DotNet/Safran.BIATemplate.Presentation.Api/bianetconfig.DMEU_INT.json
index db6ff58..59d955d 100644
--- a/DotNet/Safran.BIATemplate.Presentation.Api/bianetconfig.DMEU_INT.json
+++ b/DotNet/Safran.BIATemplate.Presentation.Api/bianetconfig.DMEU_INT.json
@@ -1,7 +1,14 @@
 {
   "BiaNet": {
     "Environment": {
-      "Type": "INT"
+      "Type": "INT",
+      "UrlMatomo": "https://matomo-int.devops.safran/"
+    },
+    "ApiFeatures": {
+      "HubForClients": {
+        "RedisConnectionString": "dmeu-redis-int.electrical-power.safran",
+        "RedisChannelPrefix": "Safran.BIATemplate"
+      }
     },
     "Authentication": {
       "LdapDomains": [
@@ -49,15 +56,7 @@
         "Type": "Ldap",
         "LdapGroups": [
           {
-            "AddUsersOfDomains": [ "EU", "NA" ],
-            "RecursiveGroupsOfDomains": [ "EU", "NA" ],
-            "LdapName": "EU\\P_LPS_DM_EU_BIATemplate_User",
-            "Domain": "EU"
-
-          },
-          {
-            "AddUsersOfDomains": [ "CORP" ],
-            "RecursiveGroupsOfDomains": [ "CORP", "RD1RF1" ],
+            "AddUsersOfDomains": [ "CORP", "EU", "NA" ],
             "LdapName": "RD1RF1\\RD1-SEP-DM-APP_BIATemplate_INT_User",
             "Domain": "RD1RF1"
           }
@@ -68,13 +67,8 @@
         "Type": "Ldap",
         "LdapGroups": [
           {
-            "RecursiveGroupsOfDomains": [ "EU", "NA" ],
-            "LdapName": "EU\\P_LPS_DM_EU_BIATemplate_Admin",
-            "Domain": "EU"
-          },
-          {
-            "RecursiveGroupsOfDomains": [ "CORP", "RD1RF1" ],
-            "LdapName": "RD1RF1\\RD1-SEP-DM-APP_BIATemplate_Admin",
+            "RecursiveGroupsOfDomains": [ "EU", "RD1RF1" ],
+            "LdapName": "RD1RF1\\RD1-SEP-DM-APP_Admin",
             "Domain": "RD1RF1"
           }
         ]
diff --git a/DotNet/Safran.BIATemplate.Presentation.Api/bianetconfig.DMEU_PRA.json b/DotNet/Safran.BIATemplate.Presentation.Api/bianetconfig.DMEU_PRA.json
index e05813f..9b0ba0b 100644
--- a/DotNet/Safran.BIATemplate.Presentation.Api/bianetconfig.DMEU_PRA.json
+++ b/DotNet/Safran.BIATemplate.Presentation.Api/bianetconfig.DMEU_PRA.json
@@ -1,7 +1,14 @@
 {
   "BiaNet": {
     "Environment": {
-      "Type": "PRA"
+      "Type": "PRA",
+      "UrlMatomo": "https://matomo.devops.safran/"
+    },
+    "ApiFeatures": {
+      "HubForClients": {
+        "RedisConnectionString": "dmeu-redis-int.electrical-power.safran",
+        "RedisChannelPrefix": "Safran.BIATemplate"
+      }
     },
     "Authentication": {
       "LdapDomains": [
@@ -49,15 +56,7 @@
         "Type": "Ldap",
         "LdapGroups": [
           {
-            "AddUsersOfDomains": [ "EU", "NA" ],
-            "RecursiveGroupsOfDomains": [ "EU", "NA" ],
-            "LdapName": "EU\\P_LPS_DM_EU_BIATemplate_User",
-            "Domain": "EU"
-
-          },
-          {
-            "AddUsersOfDomains": [ "CORP" ],
-            "RecursiveGroupsOfDomains": [ "CORP", "RD1RF1" ],
+            "AddUsersOfDomains": [ "CORP", "EU", "NA" ],
             "LdapName": "RD1RF1\\RD1-SEP-DM-APP_BIATemplate_PRD_User",
             "Domain": "RD1RF1"
           }
@@ -68,13 +67,8 @@
         "Type": "Ldap",
         "LdapGroups": [
           {
-            "RecursiveGroupsOfDomains": [ "EU", "NA" ],
-            "LdapName": "EU\\P_LPS_DM_EU_BIATemplate_Admin",
-            "Domain": "EU"
-          },
-          {
-            "RecursiveGroupsOfDomains": [ "CORP", "RD1RF1" ],
-            "LdapName": "RD1RF1\\RD1-SEP-DM-APP_BIATemplate_Admin",
+            "RecursiveGroupsOfDomains": [ "EU", "RD1RF1" ],
+            "LdapName": "RD1RF1\\RD1-SEP-DM-APP_Admin",
             "Domain": "RD1RF1"
           }
         ]
diff --git a/DotNet/Safran.BIATemplate.Presentation.Api/bianetconfig.DMEU_PRD.json b/DotNet/Safran.BIATemplate.Presentation.Api/bianetconfig.DMEU_PRD.json
index b7145ec..90024d9 100644
--- a/DotNet/Safran.BIATemplate.Presentation.Api/bianetconfig.DMEU_PRD.json
+++ b/DotNet/Safran.BIATemplate.Presentation.Api/bianetconfig.DMEU_PRD.json
@@ -1,7 +1,14 @@
 {
   "BiaNet": {
     "Environment": {
-      "Type": "PRD"
+      "Type": "PRD",
+      "UrlMatomo": "https://matomo.devops.safran/"
+    },
+    "ApiFeatures": {
+      "HubForClients": {
+        "RedisConnectionString": "dmeu-redis-prd.electrical-power.safran",
+        "RedisChannelPrefix": "Safran.BIATemplate"
+      }
     },
     "Authentication": {
       "LdapDomains": [
@@ -49,15 +56,7 @@
         "Type": "Ldap",
         "LdapGroups": [
           {
-            "AddUsersOfDomains": [ "EU", "NA" ],
-            "RecursiveGroupsOfDomains": [ "EU", "NA" ],
-            "LdapName": "EU\\P_LPS_DM_EU_BIATemplate_User",
-            "Domain": "EU"
-
-          },
-          {
-            "AddUsersOfDomains": [ "CORP" ],
-            "RecursiveGroupsOfDomains": [ "CORP", "RD1RF1" ],
+            "AddUsersOfDomains": [ "CORP", "EU", "NA" ],
             "LdapName": "RD1RF1\\RD1-SEP-DM-APP_BIATemplate_PRD_User",
             "Domain": "RD1RF1"
           }
@@ -68,13 +67,8 @@
         "Type": "Ldap",
         "LdapGroups": [
           {
-            "RecursiveGroupsOfDomains": [ "EU", "NA" ],
-            "LdapName": "EU\\P_LPS_DM_EU_BIATemplate_Admin",
-            "Domain": "EU"
-          },
-          {
-            "RecursiveGroupsOfDomains": [ "CORP", "RD1RF1" ],
-            "LdapName": "RD1RF1\\RD1-SEP-DM-APP_BIATemplate_Admin",
+            "RecursiveGroupsOfDomains": [ "EU", "RD1RF1" ],
+            "LdapName": "RD1RF1\\RD1-SEP-DM-APP_Admin",
             "Domain": "RD1RF1"
           }
         ]
diff --git a/DotNet/Safran.BIATemplate.Presentation.Api/bianetconfig.DMEU_UAT.json b/DotNet/Safran.BIATemplate.Presentation.Api/bianetconfig.DMEU_UAT.json
index 319b578..4b795fc 100644
--- a/DotNet/Safran.BIATemplate.Presentation.Api/bianetconfig.DMEU_UAT.json
+++ b/DotNet/Safran.BIATemplate.Presentation.Api/bianetconfig.DMEU_UAT.json
@@ -1,7 +1,14 @@
 {
   "BiaNet": {
     "Environment": {
-      "Type": "UAT"
+      "Type": "UAT",
+      "UrlMatomo": "https://matomo-uat.devops.safran/"
+    },
+    "ApiFeatures": {
+      "HubForClients": {
+        "RedisConnectionString": "dmeu-redis-uat.electrical-power.safran",
+        "RedisChannelPrefix": "Safran.BIATemplate"
+      }
     },
     "Authentication": {
       "LdapDomains": [
@@ -49,15 +56,7 @@
         "Type": "Ldap",
         "LdapGroups": [
           {
-            "AddUsersOfDomains": [ "EU", "NA" ],
-            "RecursiveGroupsOfDomains": [ "EU", "NA" ],
-            "LdapName": "EU\\P_LPS_DM_EU_BIATemplate_User",
-            "Domain": "EU"
-
-          },
-          {
-            "AddUsersOfDomains": [ "CORP" ],
-            "RecursiveGroupsOfDomains": [ "CORP", "RD1RF1" ],
+            "AddUsersOfDomains": [ "CORP", "EU", "NA" ],
             "LdapName": "RD1RF1\\RD1-SEP-DM-APP_BIATemplate_UAT_User",
             "Domain": "RD1RF1"
           }
@@ -68,13 +67,8 @@
         "Type": "Ldap",
         "LdapGroups": [
           {
-            "RecursiveGroupsOfDomains": [ "EU", "NA" ],
-            "LdapName": "EU\\P_LPS_DM_EU_BIATemplate_Admin",
-            "Domain": "EU"
-          },
-          {
-            "RecursiveGroupsOfDomains": [ "CORP", "RD1RF1" ],
-            "LdapName": "RD1RF1\\RD1-SEP-DM-APP_BIATemplate_Admin",
+            "RecursiveGroupsOfDomains": [ "EU", "RD1RF1" ],
+            "LdapName": "RD1RF1\\RD1-SEP-DM-APP_Admin",
             "Domain": "RD1RF1"
           }
         ]
diff --git a/DotNet/Safran.BIATemplate.Presentation.Api/bianetconfig.Development.json b/DotNet/Safran.BIATemplate.Presentation.Api/bianetconfig.Development.json
index 9c15f89..ad62728 100644
--- a/DotNet/Safran.BIATemplate.Presentation.Api/bianetconfig.Development.json
+++ b/DotNet/Safran.BIATemplate.Presentation.Api/bianetconfig.Development.json
@@ -1,7 +1,13 @@
 {
   "BiaNet": {
     "Environment": {
-      "Type": "DEV"
+      "Type": "DEV",
+      "UrlMatomo": "https://matomo-int.devops.safran/"
+    },
+    "ApiFeatures": {
+      "Swagger": {
+        "IsActive": true
+      }
     },
     "EmailConfiguration": {
       "From": "noreply-BIATemplate@safrangroup.com",
@@ -21,7 +27,7 @@
           "LdapName": "na.labinal.snecma",
           "ContainsGroup": true,
           "ContainsUser": true
-        }
+        }//,
         //{
         //  "Name": "CORP",
         //  "LdapName": "corp.zodiac.lan",
@@ -39,46 +45,47 @@
       ]
     },
     "Roles": [
-      //{
-      //  "Label": "User",
-      //  "Type": "Fake"
-      //},
-      //{
-      //  "Label": "Admin",
-      //  "Type": "Fake"
-      //}
       {
         "Label": "User",
-        "Type": "Ldap",
-        "LdapGroups": [
-          {
-            "AddUsersOfDomains": [ "EU", "NA" ],
-            "RecursiveGroupsOfDomains": [ "EU", "NA" ],
-            "LdapName": "EU\\P_LPS_DM_EU_BIATemplate_User",
-            "Domain": "EU"
-          }
-          //{
-          //  "AddUsersOfDomains": [ "CORP" ],
-          //  "RecursiveGroupsOfDomains": [ "CORP", "RD1RF1" ],
-          //  "LdapName": "RD1RF1\\RD1-SEP-DM-APP_BIATemplate_INT_User",
-          //  "Domain": "RD1RF1"
-          //}
-        ]
+        "Type": "Fake"
       },
       {
         "Label": "Admin",
-        "Type": "Ldap",
-        "LdapGroups": [
-          {
-            "RecursiveGroupsOfDomains": [ "EU", "NA" ],
-            "LdapName": "EU\\P_LPS_DM_EU_BIATemplate_Admin",
-            "Domain": "EU"
-          }
-        ]
+        "Type": "Fake"
       }
+      //{
+      //  "Label": "User",
+      //  "Type": "Ldap",
+      //  "LdapGroups": [
+      //    {
+      //      "AddUsersOfDomains": [ "EU", "NA" ],
+      //      "RecursiveGroupsOfDomains": [ "EU", "NA" ],
+      //      "LdapName": "EU\\P_LPS_DM_EU_BIATemplate_User",
+      //      "Domain": "EU"
+      //    }//,
+      //    //{
+      //    //  "AddUsersOfDomains": [ "CORP" ],
+      //    //  "RecursiveGroupsOfDomains": [ "CORP", "RD1RF1" ],
+      //    //  "LdapName": "RD1RF1\\RD1-SEP-DM-APP_BIATemplate_INT_User",
+      //    //  "ContainsOnlyUsers": true,
+      //    //  "Domain": "RD1RF1"
+      //    //}
+      //  ]
+      //},
+      //{
+      //  "Label": "Admin",
+      //  "Type": "Ldap",
+      //  "LdapGroups": [
+      //    {
+      //      "RecursiveGroupsOfDomains": [ "EU", "NA" ],
+      //      "LdapName": "EU\\P_LPS_DM_EU_BIATemplate_Admin",
+      //      "Domain": "EU"
+      //    }
+      //  ]
+      //}
     ],
     "UserProfile": {
-      "url": "http://intdm/DMIndex/UserProfile/GetUserProfile"
+      "url": "http://localhost/DMIndex/UserProfile/GetUserProfile"
     }
   }
 }
\ No newline at end of file
diff --git a/DotNet/Safran.BIATemplate.Presentation.Api/bianetconfig.json b/DotNet/Safran.BIATemplate.Presentation.Api/bianetconfig.json
index be3863c..0e074d2 100644
--- a/DotNet/Safran.BIATemplate.Presentation.Api/bianetconfig.json
+++ b/DotNet/Safran.BIATemplate.Presentation.Api/bianetconfig.json
@@ -1,13 +1,26 @@
 {
   "BiaNet": {
+    "ApiFeatures": {
+      "DistributedCache": {
+        "IsActive": true,
+        "ConnectionStringName": "BIATemplateDatabase"
+      },
+      "DelegateJobToWorker": {
+        "IsActive": true,
+        "ConnectionStringName": "BIATemplateDatabase"
+      },
+      "HubForClients": {
+        "IsActive": true
+      }
+    },
     "EmailConfiguration": {
       "From": "noreply-BIATemplate@safrangroup.com",
       "SmtpHost": "smtp",
       "SmtpPort": 25
     },
     "Authentication": {
-      "LdapCacheGroupDuration": 20, //in minutes
-      "LdapCacheUserDuration": 180 //in minutes
+      "LdapCacheGroupDuration": 200, //in minutes
+      "LdapCacheUserDuration": 1800 //in minutes
     },
     "Jwt": {
       "Issuer": "BIATemplateApi",
@@ -59,166 +72,66 @@
       }
     ],
     "Permissions": [
+      // Home
       {
         "Name": "Home_Access",
         "Roles": [ "Admin", "Site_Admin", "Site_Member", "User" ]
       },
+      // Log
       {
         "Name": "Logs_Create",
         "Roles": [ "Admin", "Site_Admin", "Site_Member" ]
       },
+      // Member
       {
-        "Name": "Member_List_Access",
-        "Roles": [ "Admin", "Site_Admin" ]
-      },
-      {
-        "Name": "Member_Create",
-        "Roles": [ "Admin", "Site_Admin" ]
-      },
-      {
-        "Name": "Member_Read",
-        "Roles": [ "Admin", "Site_Admin" ]
-      },
-      {
-        "Name": "Member_Update",
-        "Roles": [ "Admin", "Site_Admin" ]
-      },
-      {
-        "Name": "Member_Delete",
-        "Roles": [ "Admin", "Site_Admin" ]
-      },
-      {
-        "Name": "Member_Save",
+        "Names": [ "Member_List_Access", "Member_Create", "Member_Read", "Member_Update", "Member_Delete", "Member_Save" ],
         "Roles": [ "Admin", "Site_Admin" ]
       },
       {
         "Name": "Member_Set_Default_Site",
         "Roles": [ "Admin", "Site_Admin", "Site_Member" ]
       },
-      {
-        "Name": "Plane_List_Access",
-        "Roles": [ "Admin", "Site_Admin", "Site_Member" ]
-      },
-      {
-        "Name": "Plane_Create",
-        "Roles": [ "Admin", "Site_Admin", "Site_Member" ]
-      },
-      {
-        "Name": "Plane_Read",
-        "Roles": [ "Admin", "Site_Admin", "Site_Member" ]
-      },
-      {
-        "Name": "Plane_Update",
-        "Roles": [ "Admin", "Site_Admin", "Site_Member" ]
-      },
-      {
-        "Name": "Plane_Delete",
-        "Roles": [ "Admin", "Site_Admin", "Site_Member" ]
-      },
-      {
-        "Name": "Plane_Save",
-        "Roles": [ "Admin", "Site_Admin", "Site_Member" ]
-      },
+      // Role
       {
         "Name": "Roles_List",
         "Roles": [ "Admin", "Site_Admin" ]
       },
+      // Ldap Domain
       {
         "Name": "LdapDomains_List",
         "Roles": [ "Admin", "Site_Admin" ]
       },
+      // Site
       {
-        "Name": "Site_List_Access",
+        "Names": [ "Site_List_Access", "Site_Read" ],
         "Roles": [ "Admin", "Site_Admin" ]
       },
       {
-        "Name": "Site_Access_All",
-        "Roles": [ "Admin" ]
-      },
-      {
-        "Name": "Site_Create",
+        "Names": [ "Site_Access_All", "Site_Create", "Site_Update", "Site_Delete", "Site_Save" ],
         "Roles": [ "Admin" ]
       },
+      // User
       {
-        "Name": "Site_Read",
-        "Roles": [ "Admin", "Site_Admin" ]
-      },
-      {
-        "Name": "Site_Update",
-        "Roles": [ "Admin" ]
-      },
-      {
-        "Name": "Site_Delete",
-        "Roles": [ "Admin" ]
-      },
-      {
-        "Name": "Site_Save",
-        "Roles": [ "Admin" ]
-      },
-      {
-        "Name": "User_List_Access",
-        "Roles": [ "Admin" ]
-      },
-      {
-        "Name": "User_List",
-        "Roles": [ "Admin" ]
-      },
-      {
-        "Name": "User_ListAD",
-        "Roles": [ "Admin" ]
-      },
-      {
-        "Name": "User_Add",
-        "Roles": [ "Admin" ]
-      },
-      {
-        "Name": "User_Delete",
-        "Roles": [ "Admin" ]
-      },
-      {
-        "Name": "User_Sync",
+        "Names": [ "User_List_Access", "User_List", "User_ListAD", "User_Add", "User_Delete", "User_Sync" ],
         "Roles": [ "Admin" ]
       },
+      // View
       {
         "Name": "View_List",
         "Roles": [ "Admin", "Site_Admin", "Site_Member" ]
       },
       {
-        "Name": "View_Add_UserView",
+        "Names": [ "View_Add_UserView", "View_Update_UserView", "View_Delete_UserView", "View_Set_Default_UserView" ],
         "Roles": [ "Admin", "Site_Admin", "Site_Member" ]
       },
       {
-        "Name": "View_Add_SiteView",
+        "Names": [ "View_Add_SiteView", "View_Update_SiteView", "View_Set_Default_SiteView", "View_Assign_To_Site" ],
         "Roles": [ "Admin", "Site_Admin" ]
       },
-      {
-        "Name": "View_Update_UserView",
-        "Roles": [ "Admin", "Site_Admin", "Site_Member" ]
-      },
-      {
-        "Name": "View_Update_SiteView",
-        "Roles": [ "Admin", "Site_Admin" ]
-      },
-      {
-        "Name": "View_Delete_UserView",
-        "Roles": [ "Admin", "Site_Admin", "Site_Member" ]
-      },
       {
         "Name": "View_Delete_SiteView",
         "Roles": [ "Admin" ]
-      },
-      {
-        "Name": "View_Set_Default_UserView",
-        "Roles": [ "Admin", "Site_Admin", "Site_Member" ]
-      },
-      {
-        "Name": "View_Set_Default_SiteView",
-        "Roles": [ "Admin", "Site_Admin" ]
-      },
-      {
-        "Name": "View_Assign_To_Site",
-        "Roles": [ "Admin", "Site_Admin" ]
       }
     ]
   }
-}
\ No newline at end of file
+}
diff --git a/DotNet/Safran.BIATemplate.Test/Data/DataConstants.cs b/DotNet/Safran.BIATemplate.Test/Data/DataConstants.cs
new file mode 100644
index 0000000..bd7a629
--- /dev/null
+++ b/DotNet/Safran.BIATemplate.Test/Data/DataConstants.cs
@@ -0,0 +1,16 @@
+// <copyright file="DataConstants.cs" company="Safran">
+//     Copyright (c) Safran. All rights reserved.
+// </copyright>
+namespace Safran.BIATemplate.Test.Data
+{
+    /// <summary>
+    /// Constants used for DB provisioning.
+    /// </summary>
+    public static class DataConstants
+    {
+        /// <summary>
+        /// List of titles used for the default sites.
+        /// </summary>
+        public static readonly string[] DefaultSitesTitles = { "BLC", "VMR", "CAM" };
+    }
+}
diff --git a/DotNet/Safran.BIATemplate.Test/Data/MockEntityFrameWorkInMemory.cs b/DotNet/Safran.BIATemplate.Test/Data/MockEntityFrameWorkInMemory.cs
new file mode 100644
index 0000000..90707cd
--- /dev/null
+++ b/DotNet/Safran.BIATemplate.Test/Data/MockEntityFrameWorkInMemory.cs
@@ -0,0 +1,134 @@
+// <copyright file="MockEntityFrameWorkInMemory.cs" company="Safran">
+//     Copyright (c) Safran. All rights reserved.
+// </copyright>
+namespace Safran.BIATemplate.Test.Data
+{
+    using System;
+    using System.Collections.Generic;
+    using System.Linq;
+    using BIA.Net.Core.Infrastructure.Data;
+    using BIA.Net.Core.Test.Data;
+    using Safran.BIATemplate.Domain.SiteModule.Aggregate;
+    using Safran.BIATemplate.Domain.UserModule.Aggregate;
+    using Safran.BIATemplate.Domain.ViewModule.Aggregate;
+    using Safran.BIATemplate.Infrastructure.Data;
+
+    /// <summary>
+    /// Manage the mock of the DB context as an "in memory" database.
+    /// </summary>
+    /// <seealso cref="AbstractMockEntityFramework{TDbContext}"/>
+    public class MockEntityFrameworkInMemory : AbstractMockEntityFramework<DataContext>
+    {
+        /// <summary>
+        /// Initializes a new instance of the <see cref="MockEntityFrameworkInMemory"/> class.
+        /// </summary>
+        /// <param name="dbContext">The DB context.</param>
+        public MockEntityFrameworkInMemory(IQueryableUnitOfWork dbContext)
+            : base(dbContext)
+        {
+            // Do nothing. Used to create the DbContext through IoC.
+        }
+
+        #region Sites methods
+
+        /// <inheritdoc cref="IDataSites.CountSites"/>
+        public int CountSites()
+        {
+            return this.GetDbContext().Sites.Count();
+        }
+
+        /// <inheritdoc cref="IDataSites.GetSite(int)"/>
+        public Site GetSite(int id)
+        {
+            return this.GetDbContext().Sites.Find(id);
+        }
+
+        /// <inheritdoc cref="IDataSites.InitDefaultSites"/>
+        public void InitDefaultSites()
+        {
+            int id = 1;
+
+            foreach (string title in DataConstants.DefaultSitesTitles)
+            {
+                this.GetDbContext().Sites.Add(new Site
+                {
+                    Id = id++,
+                    Title = title,
+                    Members = new List<Member>(),
+                });
+            }
+
+            this.GetDbContext().SaveChanges();
+        }
+
+        #endregion Sites methods
+
+        #region Users methods
+
+        /// <inheritdoc cref="IDataUsers.AddMember(int, int, int, ICollection{MemberRole})"/>
+        public void AddMember(int id, int siteId, int userId, ICollection<MemberRole> roles)
+        {
+            this.GetDbContext().Members.Add(new Member()
+            {
+                Id = id,
+                SiteId = siteId,
+                UserId = userId,
+                MemberRoles = roles,
+            });
+            this.GetDbContext().SaveChanges();
+        }
+
+        /// <inheritdoc cref="IDataUsers.AddUser(int, string, string, int?, int?, ICollection{MemberRole})"/>
+        public void AddUser(int id, string firstName, string lastName, int? memberId = null, int? memberSiteId = null, ICollection<MemberRole> memberRoles = null)
+        {
+            this.GetDbContext().Users.Add(new User()
+            {
+                Id = id,
+                Company = "Safran",
+                Country = "France",
+                DaiDate = new DateTime(2000, 1, 1),
+                Department = "DM",
+                DistinguishedName = "DistinguishedName",
+                Domain = "EU",
+                Email = $"{firstName}{lastName}@fake.com",
+                ExternalCompany = string.Empty,
+                FirstName = firstName,
+                Guid = Guid.Empty,
+                IsActive = true,
+                IsEmployee = true,
+                IsExternal = false,
+                LastLoginDate = DateTime.Now.AddDays(-2),
+                LastName = lastName,
+                Login = firstName + lastName,
+                Manager = "Big BOSS",
+                Members = new List<Member>(),
+                Office = "101",
+                Sid = $"SID-{firstName}{lastName}",
+                Site = DataConstants.DefaultSitesTitles[0],
+                SubDepartment = "BIA",
+                ViewUsers = new List<ViewUser>(),
+            });
+
+            if (memberId != null)
+            {
+                this.AddMember(memberId.Value, memberSiteId.Value, id, memberRoles);
+            }
+            else
+            {
+                // We do not save changes in the "if", because it is already done by AddMember().
+                this.GetDbContext().SaveChanges();
+            }
+        }
+
+        #endregion Users methods
+        #region AbstractMockEntityFrameworkInMemory methods
+
+        /// <inheritdoc cref="AbstractMockEntityFramework{TDbContext}.InitDefaultData" />
+        public override void InitDefaultData()
+        {
+            this.InitDefaultSites();
+        }
+
+        #endregion AbstractMockEntityFrameworkInMemory methods
+    }
+}
diff --git a/DotNet/Safran.BIATemplate.Test/IoC/IocContainerTest.cs b/DotNet/Safran.BIATemplate.Test/IoC/IocContainerTest.cs
new file mode 100644
index 0000000..03d61b5
--- /dev/null
+++ b/DotNet/Safran.BIATemplate.Test/IoC/IocContainerTest.cs
@@ -0,0 +1,53 @@
+// <copyright file="IocContainerTest.cs" company="Safran">
+//     Copyright (c) Safran. All rights reserved.
+// </copyright>
+namespace Safran.BIATemplate.Test.IoC
+{
+    using BIA.Net.Core.Test.Data;
+    using BIA.Net.Core.Test.IoC;
+    using Microsoft.Extensions.DependencyInjection;
+    using Safran.BIATemplate.Crosscutting.Ioc;
+    using Safran.BIATemplate.Infrastructure.Data;
+    using Safran.BIATemplate.Presentation.Api.Controllers;
+    using Safran.BIATemplate.Test.Data;
+
+    /// <summary>
+    /// Specific IoC container used for unit tests.
+    ///
+    /// Note: Add IoC for components specific to your project in <see cref="ConfigureContainerTest(IServiceCollection)"/> method.
+    /// </summary>
+    /// <seealso cref="BIAIocContainerTest"/>
+    /// <seealso cref="IocContainer"/>
+    public static class IocContainerTest
+    {
+        /// <summary>
+        /// Method used to register all instances for unit test purposes.
+        ///
+        /// Note: Add IoC for components specific to your project in this method.
+        /// </summary>
+        /// <param name="services">The collection of services to update.</param>
+        public static void ConfigureContainerTest(IServiceCollection services)
+        {
+            IocContainer.ConfigureContainer(services, null, true);
+            BIAIocContainerTest.ConfigureContainerTest<DataContext>(services);
+
+            services.AddTransient<IMockEntityFramework<DataContext>, MockEntityFrameworkInMemory>();
+
+            ConfigureControllerContainer(services);
+        }
+
+        /// <summary>
+        /// Configure dependency injection for all controllers.
+        /// </summary>
+        /// <param name="services">The collection of services to update.</param>
+        private static void ConfigureControllerContainer(IServiceCollection services)
+        {
+            // Application Layer
+            services.AddTransient<SitesController, SitesController>();
+            services.AddTransient<MembersController, MembersController>();
+            services.AddTransient<RolesController, RolesController>();
+            services.AddTransient<UsersController, UsersController>();
+            services.AddTransient<ViewsController, ViewsController>();
+        }
+    }
+}
diff --git a/DotNet/Safran.BIATemplate.Test/Safran.BIATemplate.Test.csproj b/DotNet/Safran.BIATemplate.Test/Safran.BIATemplate.Test.csproj
new file mode 100644
index 0000000..47515eb
--- /dev/null
+++ b/DotNet/Safran.BIATemplate.Test/Safran.BIATemplate.Test.csproj
@@ -0,0 +1,39 @@
+<Project Sdk="Microsoft.NET.Sdk">
+
+	<PropertyGroup>
+		<TargetFramework>netcoreapp3.1</TargetFramework>
+
+		<IsPackable>false</IsPackable>
+
+		<Company>Safran</Company>
+
+		<Copyright>Copyright © Safran 2020</Copyright>
+	</PropertyGroup>
+
+	<PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|AnyCPU'">
+		<OutputPath></OutputPath>
+		<DebugType>portable</DebugType>
+		<DebugSymbols>true</DebugSymbols>
+		<DefineConstants>TRACE</DefineConstants>
+	</PropertyGroup>
+
+	<PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release|AnyCPU'">
+		<OutputPath></OutputPath>
+		<DebugType>portable</DebugType>
+		<DebugSymbols>true</DebugSymbols>
+	</PropertyGroup>
+
+	<ItemGroup>
+		<PackageReference Include="BIA.Net.Core.Test" Version="3.3.0" />
+		<PackageReference Include="Microsoft.NET.Test.Sdk" Version="16.7.1" />
+		<PackageReference Include="Moq" Version="4.15.2" />
+		<PackageReference Include="MSTest.TestAdapter" Version="2.1.1" />
+		<PackageReference Include="MSTest.TestFramework" Version="2.1.1" />
+		<PackageReference Include="coverlet.collector" Version="1.3.0" />
+	</ItemGroup>
+
+	<ItemGroup>
+		<ProjectReference Include="..\Safran.BIATemplate.Presentation.Api\Safran.BIATemplate.Presentation.Api.csproj" />
+	</ItemGroup>
+
+</Project>
diff --git a/DotNet/Safran.BIATemplate.Test/Tests/AbstractUnitTest.cs b/DotNet/Safran.BIATemplate.Test/Tests/AbstractUnitTest.cs
new file mode 100644
index 0000000..ddc4ca4
--- /dev/null
+++ b/DotNet/Safran.BIATemplate.Test/Tests/AbstractUnitTest.cs
@@ -0,0 +1,39 @@
+// <copyright file="AbstractUnitTest.cs" company="Safran">
+//     Copyright (c) Safran. All rights reserved.
+// </copyright>
+namespace Safran.BIATemplate.Test.Tests
+{
+    using BIA.Net.Core.Test;
+    using Microsoft.Extensions.DependencyInjection;
+    using Safran.BIATemplate.Infrastructure.Data;
+    using Safran.BIATemplate.Test.Data;
+    using Safran.BIATemplate.Test.IoC;
+
+    /// <summary>
+    /// Base class for all unit tests of the project.
+    /// </summary>
+    /// <seealso cref="BIAAbstractUnitTest{TMockEF, TDbContext}" />
+    public abstract class AbstractUnitTest : BIAAbstractUnitTest<MockEntityFrameworkInMemory, DataContext>
+    {
+        /// <summary>
+        /// Initializes a new instance of the <see cref="AbstractUnitTest"/> class.
+        /// </summary>
+        /// <param name="isInitDB">Shall we initialize the database with some default values?</param>
+        protected AbstractUnitTest(bool isInitDB)
+            : base(isInitDB)
+        {
+            // Initialize AbstractUnitTest.isInitDB, which is used to either start each test of this test suite:
+            // - with an empty DB
+            // - or with some default data in the DB (inserted through IMockEntityFramework.InitDefaultData())
+        }
+
+        /// <inheritdoc cref="BIAAbstractUnitTest{TMockEF, TDbContext}.InitServiceCollection"/>
+        protected override void InitServiceCollection()
+        {
+            this.servicesCollection = new ServiceCollection();
+
+            // Add IoC for components specific to your project in this method.
+            IocContainerTest.ConfigureContainerTest(this.servicesCollection);
+        }
+    }
+}
diff --git a/DotNet/Safran.BIATemplate.Test/Tests/Controllers/Site/SitesControllerTests.cs b/DotNet/Safran.BIATemplate.Test/Tests/Controllers/Site/SitesControllerTests.cs
new file mode 100644
index 0000000..ae185d3
--- /dev/null
+++ b/DotNet/Safran.BIATemplate.Test/Tests/Controllers/Site/SitesControllerTests.cs
@@ -0,0 +1,355 @@
+// <copyright file="SitesControllerTests.cs" company="Safran">
+//     Copyright (c) Safran. All rights reserved.
+// </copyright>
+namespace Safran.BIATemplate.Test.Tests.Controllers.Site
+{
+    using System.Collections.Generic;
+    using System.Linq;
+    using System.Net;
+    using Microsoft.AspNetCore.Mvc;
+    using Microsoft.AspNetCore.Mvc.Infrastructure;
+    using Microsoft.VisualStudio.TestTools.UnitTesting;
+    using Safran.BIATemplate.Crosscutting.Common;
+    using Safran.BIATemplate.Domain.Dto.Site;
+    using Safran.BIATemplate.Domain.UserModule.Aggregate;
+    using Safran.BIATemplate.Presentation.Api.Controllers;
+    using Safran.BIATemplate.Test.Data;
+
+    /// <summary>
+    /// Class used to test <see cref="SitesController"/> methods.
+    /// </summary>
+    /// <seealso cref="AbstractUnitTest" />
+    [TestClass]
+    public class SitesControllerTests : AbstractUnitTest
+    {
+        /// <summary>
+        /// The controller to test.
+        /// </summary>
+        private SitesController controller;
+
+        /// <summary>
+        /// Initializes a new instance of the <see cref="SitesControllerTests"/> class.
+        /// </summary>
+        public SitesControllerTests()
+            : base(false)
+        {
+            // Initialize AbstractUnitTest.isInitDB to false, which is used to start with an empty DB for each test of this test suite.
+        }
+
+        /// <summary>
+        /// Method used to initialize the context before each test.
+        /// </summary>
+        [TestInitialize]
+        public void InitTest()
+        {
+            // Create a new instance of the controller to test and set its HttpContext.
+            this.controller = this.GetControllerWithHttpContext<SitesController>();
+        }
+
+        /// <summary>
+        /// Test site removal from the controller.
+        /// </summary>
+        [TestMethod("SitesControllerTests.RemoveSiteByController")]
+        public void RemoveSiteByController()
+        {
+            // Add default data in DB.
+            this.DbMock.InitDefaultSites();
+            int nbSites = this.DbMock.CountSites();
+
+            // Remove existing site.
+            IStatusCodeActionResult response = this.controller.Remove(2).Result as IStatusCodeActionResult;
+            Assert.IsNotNull(response);
+            Assert.AreEqual((int)HttpStatusCode.OK, response.StatusCode);
+            Assert.AreEqual(nbSites - 1, this.DbMock.CountSites());
+
+            // Check first site is still OK.
+            var site = this.DbMock.GetSite(1);
+            Assert.IsNotNull(site);
+            Assert.AreEqual(DataConstants.DefaultSitesTitles[0], site.Title);
+
+            // Check second site has been removed.
+            Assert.IsNull(this.DbMock.GetSite(2));
+
+            // Check third site is still OK.
+            site = this.DbMock.GetSite(3);
+            Assert.IsNotNull(site);
+            Assert.AreEqual(DataConstants.DefaultSitesTitles[2], site.Title);
+        }
+
+        /// <summary>
+        /// Test outcomes of <see cref="SitesController.Remove(int)"/> based on the given site ID.
+        /// </summary>
+        /// <param name="siteId">The ID of the site to remove.</param>
+        /// <param name="expectedResult">The expected HTTP status.</param>
+        [DataTestMethod]
+        [DataRow(-1, HttpStatusCode.NotFound)]
+        [DataRow(0, HttpStatusCode.BadRequest)]
+        [DataRow(1, HttpStatusCode.OK)]
+        [DataRow(2, HttpStatusCode.OK)]
+        [DataRow(404, HttpStatusCode.NotFound)]
+        public void TryRemoveSitesByController(int siteId, HttpStatusCode expectedResult)
+        {
+            // Add default data in DB.
+            this.DbMock.InitDefaultSites();
+            int nbSites = this.DbMock.CountSites();
+
+            IStatusCodeActionResult response = this.controller.Remove(siteId).Result as IStatusCodeActionResult;
+
+            Assert.IsNotNull(response);
+            Assert.AreEqual((int)expectedResult, response.StatusCode);
+
+            // If removal is supposed to be successful, check that the item has really been removed.
+            if (expectedResult == HttpStatusCode.OK)
+            {
+                Assert.IsNull(this.DbMock.GetSite(siteId));
+                nbSites -= 1;
+            }
+
+            Assert.AreEqual(nbSites, this.DbMock.CountSites());
+        }
+
+        /// <summary>
+        /// Test outcomes of <see cref="SitesController.Update(int, SiteDto)"/> based on the given site ID.
+        /// </summary>
+        /// <param name="siteId">The site identifier.</param>
+        /// <param name="expectedResult">The expected result.</param>
+        [DataTestMethod]
+        [DataRow(-1, HttpStatusCode.NotFound)]
+        [DataRow(0, HttpStatusCode.BadRequest)]
+        [DataRow(1, HttpStatusCode.OK)]
+        [DataRow(2, HttpStatusCode.OK)]
+        [DataRow(404, HttpStatusCode.NotFound)]
+        public void TryUpdateSitesByController(int siteId, HttpStatusCode expectedResult)
+        {
+            // Add default data in DB.
+            this.DbMock.InitDefaultSites();
+            int nbSites = this.DbMock.CountSites();
+
+            string newTitle = "New title";
+            SiteDto newSite = new SiteDto()
+            {
+                Id = siteId,
+                Title = newTitle,
+            };
+
+            IStatusCodeActionResult statusResponse = this.controller.Update(siteId, newSite).Result as IStatusCodeActionResult;
+
+            Assert.IsNotNull(statusResponse);
+            Assert.AreEqual((int)expectedResult, statusResponse.StatusCode);
+            Assert.AreEqual(nbSites, this.DbMock.CountSites());
+
+            if (expectedResult == HttpStatusCode.OK)
+            {
+                Assert.AreEqual(newTitle, this.DbMock.GetSite(siteId).Title);
+            }
+        }
+
+        /// <summary>
+        /// Test outcomes of <see cref="SitesController.Update(int, SiteDto)"/> when the ID of the site to update is not the same as the given one.
+        /// </summary>
+        [TestMethod("SitesControllerTests.TryUpdateSite_NotMatchingIds_ByController")]
+        public void TryUpdateSite_NotMatchingIds_ByController()
+        {
+            // Add default data in DB.
+            this.DbMock.InitDefaultSites();
+            int nbSites = this.DbMock.CountSites();
+
+            SiteDto newSite = new SiteDto()
+            {
+                Id = 2,
+                Title = "Site with not matching ID",
+            };
+
+            IStatusCodeActionResult statusResponse = this.controller.Update(3, newSite).Result as IStatusCodeActionResult;
+
+            Assert.IsNotNull(statusResponse);
+            Assert.AreEqual((int)HttpStatusCode.BadRequest, statusResponse.StatusCode);
+
+            // Check that nothing has changed in DB.
+            Assert.AreEqual(DataConstants.DefaultSitesTitles[1], this.DbMock.GetSite(2).Title);
+            Assert.AreEqual(DataConstants.DefaultSitesTitles[2], this.DbMock.GetSite(3).Title);
+            Assert.AreEqual(nbSites, this.DbMock.CountSites());
+        }
+
+        /// <summary>
+        /// Test site update workflow by controller.
+        /// </summary>
+        [TestMethod("SitesControllerTests.UpdateSiteWorkflowByController")]
+        public void UpdateSiteWorkflowByController()
+        {
+            #region Setup additional context
+
+            // Add default data in DB.
+            this.DbMock.InitDefaultSites();
+
+            // Add member: required for the GetAll() method.
+            this.DbMock.AddUser(1, "John", "DOE", 1, 1, new List<MemberRole>
+                {
+                    new MemberRole()
+                    {
+                        MemberId = 1,
+                    },
+                });
+
+            this.principalBuilder.MockPrincipalUserRights(new List<string>
+                {
+                    Rights.Sites.AccessAll,
+                });
+
+            #endregion Setup additional context
+
+            // Check GetAll behavior (used when displaying the list of available sites).
+            SiteFilterDto filter = new SiteFilterDto()
+            {
+                Filters = null,
+                UserId = 1,
+            };
+            ObjectResult response = this.controller.GetAll(filter).Result as ObjectResult;
+            Assert.IsNotNull(response);
+            Assert.AreEqual((int)HttpStatusCode.OK, response.StatusCode);
+
+            IEnumerable<SiteInfoDto> listSites = response.Value as IEnumerable<SiteInfoDto>;
+            Assert.IsNotNull(listSites);
+            Assert.AreEqual(1, listSites.Count());
+
+            // Check Get behavior (used when displaying the "Edit" popup).
+            response = this.controller.Get(1).Result as ObjectResult;
+            Assert.IsNotNull(response);
+            Assert.AreEqual((int)HttpStatusCode.OK, response.StatusCode);
+
+            SiteDto selectedSite = response.Value as SiteDto;
+            Assert.IsNotNull(selectedSite);
+            Assert.AreEqual(DataConstants.DefaultSitesTitles[0], selectedSite.Title);
+            Assert.AreEqual(1, selectedSite.Id);
+
+            // Check Update behavior (used when validating the "Edit" popup).
+            string newTitle = "New site 1";
+            SiteDto newSite = new SiteDto()
+            {
+                Id = 1,
+                Title = newTitle,
+            };
+            response = this.controller.Update(1, newSite).Result as ObjectResult;
+            Assert.IsNotNull(response);
+            Assert.AreEqual((int)HttpStatusCode.OK, response.StatusCode);
+
+            // - Check response of the Update API
+            selectedSite = response.Value as SiteDto;
+            Assert.IsNotNull(selectedSite);
+            Assert.AreEqual(newTitle, selectedSite.Title);
+            Assert.AreEqual(1, selectedSite.Id);
+
+            // - Check DB content.
+            Assert.AreEqual(newTitle, this.DbMock.GetSite(1).Title);
+        }
+
+        /// <summary>
+        /// Test outcomes of <see cref="SitesController.Add(SiteDto)"/> based on the given site ID.
+        /// Note: for this test, we will encounter <see cref="HttpStatusCode.InternalServerError"/> when trying to add a site with an existing ID.
+        /// </summary>
+        /// <param name="siteId">The site identifier.</param>
+        /// <param name="expectedResult">The expected result.</param>
+        [DataTestMethod]
+        [DataRow(-1, HttpStatusCode.Created)]
+        [DataRow(0, HttpStatusCode.Created)]
+        [DataRow(1, HttpStatusCode.InternalServerError)]
+        [DataRow(2, HttpStatusCode.InternalServerError)]
+        [DataRow(404, HttpStatusCode.Created)]
+        public void TryInsertSitesByController(int siteId, HttpStatusCode expectedResult)
+        {
+            // Add default data in DB.
+            this.DbMock.InitDefaultSites();
+            int nbSites = this.DbMock.CountSites();
+
+            string siteTitle = "New title";
+            SiteDto newSite = new SiteDto()
+            {
+                Id = siteId,
+                Title = siteTitle,
+            };
+
+            IStatusCodeActionResult statusResponse = this.controller.Add(newSite).Result as IStatusCodeActionResult;
+
+            Assert.IsNotNull(statusResponse);
+            Assert.AreEqual((int)expectedResult, statusResponse.StatusCode);
+
+            if (expectedResult == HttpStatusCode.Created)
+            {
+                nbSites += 1;
+
+                // Specific use-case: when site ID is 0, we use an automatically incremented ID, otherwise we use the given ID.
+                siteId = (siteId == 0) ? nbSites : siteId;
+
+                Assert.AreEqual(siteTitle, this.DbMock.GetSite(siteId).Title);
+            }
+
+            Assert.AreEqual(nbSites, this.DbMock.CountSites());
+        }
+
+        /// <summary>
+        /// Test site creation by controller.
+        /// </summary>
+        [TestMethod("SitesControllerTests.InsertSiteByController")]
+        public void InsertSiteByController()
+        {
+            // Try to add null site: it shall fail.
+            IStatusCodeActionResult response = this.controller.Add(null).Result as IStatusCodeActionResult;
+            Assert.IsNotNull(response);
+            Assert.AreEqual((int)HttpStatusCode.InternalServerError, response.StatusCode);
+            Assert.AreEqual(0, this.DbMock.CountSites());
+
+            // Add site.
+            SiteDto siteDto = new SiteDto()
+            {
+                Title = "PST",
+            };
+
+            response = this.controller.Add(siteDto).Result as IStatusCodeActionResult;
+            Assert.IsNotNull(response);
+            Assert.AreEqual((int)HttpStatusCode.Created, response.StatusCode);
+            Assert.AreEqual(1, this.DbMock.CountSites());
+            Assert.AreEqual("PST", this.DbMock.GetSite(1).Title);
+
+            // Add site.
+            siteDto = new SiteDto()
+            {
+                Title = "TMR",
+            };
+
+            response = this.controller.Add(siteDto).Result as IStatusCodeActionResult;
+            Assert.IsNotNull(response);
+            Assert.AreEqual((int)HttpStatusCode.Created, response.StatusCode);
+            Assert.AreEqual(2, this.DbMock.CountSites());
+            Assert.AreEqual("PST", this.DbMock.GetSite(1).Title);
+            Assert.AreEqual("TMR", this.DbMock.GetSite(2).Title);
+        }
+
+        /// <summary>
+        /// Create a site, then update it by controller.
+        /// </summary>
+        [TestMethod("SitesControllerTests.UpdateCreatedSiteByController")]
+        public void UpdateCreatedSiteByController()
+        {
+            // Create new site.
+            SiteDto siteDto = new SiteDto
+            {
+                Title = "TLS",
+            };
+            IStatusCodeActionResult response = this.controller.Add(siteDto).Result as IStatusCodeActionResult;
+            Assert.IsNotNull(response);
+            Assert.AreEqual((int)HttpStatusCode.Created, response.StatusCode);
+
+            var site = this.DbMock.GetSite(1);
+            Assert.AreEqual("TLS", site.Title);
+
+            // Update the previously created site.
+            siteDto.Title = "BLC";
+            response = this.controller.Update(1, siteDto).Result as IStatusCodeActionResult;
+            Assert.IsNotNull(response);
+            Assert.AreEqual((int)HttpStatusCode.OK, response.StatusCode);
+
+            site = this.DbMock.GetSite(1);
+            Assert.AreEqual("BLC", site.Title);
+        }
+    }
+}
diff --git a/DotNet/Safran.BIATemplate.Test/Tests/Services/Site/SiteAppServiceTests.cs b/DotNet/Safran.BIATemplate.Test/Tests/Services/Site/SiteAppServiceTests.cs
new file mode 100644
index 0000000..cfdbd84
--- /dev/null
+++ b/DotNet/Safran.BIATemplate.Test/Tests/Services/Site/SiteAppServiceTests.cs
@@ -0,0 +1,234 @@
+// <copyright file="SiteAppServiceTests.cs" company="Safran">
+//     Copyright (c) Safran. All rights reserved.
+// </copyright>
+namespace Safran.BIATemplate.Test.Tests.Services.Site
+{
+    using System.Collections.Generic;
+    using System.Linq;
+    using System.Threading.Tasks;
+    using BIA.Net.Core.Domain.Dto.User;
+    using Microsoft.VisualStudio.TestTools.UnitTesting;
+    using Safran.BIATemplate.Application.Site;
+    using Safran.BIATemplate.Crosscutting.Common;
+    using Safran.BIATemplate.Domain.Dto.Site;
+    using Safran.BIATemplate.Test.Data;
+
+    /// <summary>
+    /// Class used to test <see cref="SiteAppService"/> methods.
+    /// </summary>
+    /// <seealso cref="AbstractUnitTest" />
+    [TestClass]
+    public class SiteAppServiceTests : AbstractUnitTest
+    {
+        /// <summary>
+        /// Initializes a new instance of the <see cref="SiteAppServiceTests"/> class.
+        /// </summary>
+        public SiteAppServiceTests()
+            : base(true)
+        {
+            // Initialize AbstractUnitTest.isInitDB to true, which is used to start with some default data in the DB for each test of this test suite.
+        }
+
+        /// <summary>
+        /// Test <see cref="ISiteAppService.GetAllAsync"/> method when user has <see cref="Rights.Sites.AccessAll"/> rights.
+        /// </summary>
+        [TestMethod("SiteAppServiceTests.GetAllAsync_UserRights_AccessAllTest")]
+        public void GetAllAsync_UserRights_AccessAllTest()
+        {
+            #region Setup context
+            // Mock authentication data (IPrincipal).
+            this.principalBuilder.MockPrincipalUserRights(new List<string>
+                {
+                    Rights.Sites.AccessAll,
+                });
+
+            // Initialize the service to test.
+            ISiteAppService service = this.GetService<ISiteAppService>();
+            #endregion Setup context
+
+            IEnumerable<SiteDto> sites = service.GetAllAsync().Result;
+
+            // All existing sites are returned.
+            Assert.IsNotNull(sites);
+            Assert.AreEqual(3, sites.Count());
+        }
+
+        /// <summary>
+        /// Test <see cref="ISiteAppService.GetAllAsync"/> method when user:
+        /// - has <see cref="Rights.Sites.ListAccess"/> rights
+        /// - is not a member of any site.
+        /// </summary>
+        [TestMethod("SiteAppServiceTests.GetAllAsync_UserRights_ListAccess_NotMemberTest")]
+        public void GetAllAsync_UserRights_ListAccess_NotMemberTest()
+        {
+            #region Setup context
+            // Mock authentication data (IPrincipal).
+            this.principalBuilder.MockPrincipalUserId(1)
+                .MockPrincipalUserRights(new List<string>
+                {
+                        Rights.Sites.ListAccess,
+                });
+
+            // Initialize the service to test.
+            ISiteAppService service = this.GetService<ISiteAppService>();
+            #endregion Setup context
+
+            IEnumerable<SiteDto> sites = service.GetAllAsync().Result;
+
+            // No site is returned.
+            Assert.IsNotNull(sites);
+            Assert.AreEqual(0, sites.Count());
+        }
+
+        /// <summary>
+        /// Test <see cref="ISiteAppService.GetAllAsync"/> method when user:
+        /// - has <see cref="Rights.Sites.ListAccess"/> rights
+        /// - is member of one site.
+        /// </summary>
+        [TestMethod("SiteAppServiceTests.GetAllAsync_UserRights_ListAccess_MemberTest")]
+        public void GetAllAsync_UserRights_ListAccess_MemberTest()
+        {
+            #region Setup context
+            // Mock authentication data (IPrincipal).
+            this.principalBuilder.MockPrincipalUserId(1)
+                .MockPrincipalUserRights(new List<string>
+                {
+                        Rights.Sites.ListAccess,
+                });
+
+            // Insert additional data in the DB.
+            this.DbMock.AddUser(1, "John", "DOE", 1, 1, null);
+
+            // Initialize the service to test.
+            ISiteAppService service = this.GetService<ISiteAppService>();
+            #endregion Setup context
+
+            IEnumerable<SiteDto> sites = service.GetAllAsync().Result;
+
+            // Only one site is returned (the one the user is a member of).
+            Assert.IsNotNull(sites);
+            Assert.AreEqual(1, sites.Count());
+
+            SiteDto site = sites.First();
+            Assert.AreEqual(1, site.Id);
+            Assert.AreEqual(DataConstants.DefaultSitesTitles[0], site.Title);
+        }
+
+        /// <summary>
+        /// Test <see cref="ISiteAppService.GetAllWithMembersAsync(SiteFilterDto)"/> method when user:
+        /// - has <see cref="Rights.Sites.ListAccess"/> rights
+        /// - is member of one site.
+        /// </summary>
+        [TestMethod("SiteAppServiceTests.GetAllWithMembersAsync_UserRights_ListAccess_MemberTest")]
+        public void GetAllWithMembersAsync_UserRights_ListAccess_MemberTest()
+        {
+            #region Setup context
+            // Mock authentication data (IPrincipal).
+            this.principalBuilder.MockPrincipalUserRights(new List<string>
+                {
+                        Rights.Sites.ListAccess,
+                })
+                .MockPrincipalUserData(new UserDataDto()
+                {
+                    CurrentSiteId = 1,
+                });
+
+            // Insert additional data in the DB.
+            this.DbMock.AddUser(1, "John", "DOE", 1, 1, null);
+
+            // Initialize the service to test.
+            ISiteAppService service = this.GetService<ISiteAppService>();
+            #endregion Setup context
+
+            SiteFilterDto filters = new SiteFilterDto()
+            {
+                Filters = new Dictionary<string, Dictionary<string, object>>(),
+            };
+            (IEnumerable<SiteInfoDto> sites, int total) = service.GetAllWithMembersAsync(filters).Result;
+
+            // Only one site is returned (the one the user is a member of).
+            Assert.IsNotNull(sites);
+            Assert.AreEqual(1, total);
+
+            SiteInfoDto site = sites.First();
+            Assert.AreEqual(1, site.Id);
+            Assert.AreEqual(DataConstants.DefaultSitesTitles[0], site.Title);
+        }
+
+        /// <summary>
+        /// Test <see cref="ISiteAppService.GetAsync"/> method.
+        /// </summary>
+        [TestMethod("SiteAppServiceTests.GetAsyncTest")]
+        public void GetAsyncTest()
+        {
+            // Initialize the service to test.
+            ISiteAppService service = this.GetService<ISiteAppService>();
+
+            SiteDto site = service.GetAsync(1).Result;
+
+            Assert.IsNotNull(site);
+            Assert.AreEqual(DataConstants.DefaultSitesTitles[0], site.Title);
+        }
+
+        /// <summary>
+        /// Test <see cref="ISiteAppService.AddAsync"/> method.
+        /// </summary>
+        [TestMethod("SiteAppServiceTests.AddAsyncTest")]
+        public void AddAsyncTest()
+        {
+            // Initialize the service to test.
+            ISiteAppService service = this.GetService<ISiteAppService>();
+
+            SiteDto siteDto = new SiteDto()
+            {
+                Title = "TLS",
+            };
+            SiteDto site = service.AddAsync(siteDto).Result;
+
+            Assert.IsNotNull(site);
+
+            Assert.AreEqual(4, this.DbMock.CountSites());
+            Assert.AreEqual("TLS", this.DbMock.GetSite(DataConstants.DefaultSitesTitles.Length + 1).Title);
+        }
+
+        /// <summary>
+        /// Test <see cref="ISiteAppService.RemoveAsync"/> method.
+        /// </summary>
+        /// <returns>The <see cref="Task"/> representing the asynchronous operation to perform.</returns>
+        [TestMethod("SiteAppServiceTests.RemoveAsyncTest")]
+        public async Task RemoveAsyncTest()
+        {
+            // Initialize the service to test.
+            ISiteAppService service = this.GetService<ISiteAppService>();
+
+            await service.RemoveAsync(2);
+
+            Assert.AreEqual(2, this.DbMock.CountSites());
+            Assert.IsNull(this.DbMock.GetSite(2));
+            Assert.AreEqual(DataConstants.DefaultSitesTitles[0], this.DbMock.GetSite(1).Title);
+            Assert.AreEqual(DataConstants.DefaultSitesTitles[2], this.DbMock.GetSite(3).Title);
+        }
+
+        /// <summary>
+        /// Test <see cref="ISiteAppService.UpdateAsync"/> method.
+        /// </summary>
+        [TestMethod("SiteAppServiceTests.UpdateAsyncTest")]
+        public void UpdateAsyncTest()
+        {
+            // Initialize the service to test.
+            ISiteAppService service = this.GetService<ISiteAppService>();
+
+            SiteDto siteDto = new SiteDto()
+            {
+                Id = 2,
+                Title = "TLS",
+            };
+            SiteDto site = service.UpdateAsync(siteDto).Result;
+
+            Assert.IsNotNull(site);
+
+            Assert.AreEqual(3, this.DbMock.CountSites());
+            Assert.AreEqual("TLS", this.DbMock.GetSite(2).Title);
+        }
+    }
+}
\ No newline at end of file
diff --git a/DotNet/Safran.BIATemplate.WorkerService/Features/HangfireAuthorizationFilter.cs b/DotNet/Safran.BIATemplate.WorkerService/Features/HangfireAuthorizationFilter.cs
new file mode 100644
index 0000000..dc41c3c
--- /dev/null
+++ b/DotNet/Safran.BIATemplate.WorkerService/Features/HangfireAuthorizationFilter.cs
@@ -0,0 +1,50 @@
+// <copyright file="HangfireAuthorizationFilter.cs" company="Safran">
+//     Copyright (c) BIA.Net. All rights reserved.
+// </copyright>
+
+namespace Safran.BIATemplate.WorkerService.Features
+{
+    using Hangfire.Dashboard;
+    using Safran.BIATemplate.Application.User;
+
+    /// <summary>
+    /// Manage the authorisation to acced to the dashboard.
+    /// </summary>
+    public class HangfireAuthorizationFilter : IDashboardAuthorizationFilter
+    {
+        /// <summary>
+        /// The helper used for AD.
+        /// </summary>
+        private readonly IUserAppService userAppService;
+
+        /// <summary>
+        /// Initializes a new instance of the <see cref="HangfireAuthorizationFilter"/> class.
+        /// </summary>
+        /// <param name="userAppService">Service to get user right.</param>
+        public HangfireAuthorizationFilter(IUserAppService userAppService)
+        {
+            this.userAppService = userAppService;
+        }
+
+        /// <summary>
+        /// Authorize use the role Hangfire_Dashboard.
+        /// </summary>
+        /// <param name="context">the context.</param>
+        /// <returns>true if user is authorized.</returns>
+        public bool Authorize(DashboardContext context)
+        {
+            var httpContext = context.GetHttpContext();
+            if (httpContext.User.Identity.IsAuthenticated)
+            {
+                var sid = ((System.Security.Principal.WindowsIdentity)httpContext.User.Identity).User.Value;
+                var userRolesFromUserDirectory = this.userAppService.GetUserDirectoryRolesAsync(sid).Result;
+                var userMainRights = this.userAppService.TranslateRolesInRights(userRolesFromUserDirectory);
+                return userMainRights.Contains("Hangfire_Dashboard");
+            }
+            else
+            {
+                return false;
+            }
+        }
+    }
+}
diff --git a/DotNet/Safran.BIATemplate.WorkerService/Job/Shared/BaseJob.cs b/DotNet/Safran.BIATemplate.WorkerService/Job/Shared/BaseJob.cs
deleted file mode 100644
index 29dbba4..0000000
--- a/DotNet/Safran.BIATemplate.WorkerService/Job/Shared/BaseJob.cs
+++ /dev/null
@@ -1,118 +0,0 @@
-// <copyright file="BaseJob.cs" company="Safran">
-// Copyright (c) Safran. All rights reserved.
-// </copyright>
-
-namespace Safran.BIATemplate.Presentation.WorkerService.Job.Shared
-{
-    using System;
-    using System.Threading.Tasks;
-    using BIA.Net.Core.Common.Helpers;
-    using Microsoft.Extensions.Configuration;
-    using Microsoft.Extensions.Logging;
-
-    /// <summary>
-    /// The base Job Service.
-    /// </summary>
-    /// <seealso cref="Safran.BIATemplate.Presentation.WorkerService.Job.Shared.Interface.IBaseJob" />
-    public class BaseJob
-    {
-        protected readonly ILogger logger;
-
-        /// <summary>
-        /// Initializes a new instance of the <see cref="BaseJob"/> class.
-        /// </summary>
-        /// <param name="configuration">The configuration.</param>
-        /// <param name="logger">The logger.</param>
-        public BaseJob(IConfiguration configuration, ILogger logger)
-        {
-            this.Configuration = configuration;
-            this.logger = logger;
-        }
-
-        /// <summary>
-        /// application Configuration.
-        /// </summary>
-        protected IConfiguration Configuration { get; }
-
-        /// <summary>
-        /// Run the monitored Task with the monitored event.
-        /// </summary>
-        /// <param name="taskName">The taskName.</param>
-        /// <returns>the task async.</returns>
-        public async Task RunWithMonitoring(string taskName)
-        {
-            this.logger.LogInformation(DateTime.Now.ToString("dd/MM/yyyy HH:mm:ss") + ": Begin " + taskName);
-            _ = this.RefreshProcessing();
-            try
-            {
-                await this.RunMonitoredTask();
-                _ = Task.Delay(1000).ContinueWith((task) =>
-                {
-                    _ = this.RefreshProcessing();
-                    _ = this.RefreshSuccess();
-                });
-                this.logger.LogInformation(DateTime.Now.ToString("dd/MM/yyyy HH:mm:ss") + ": End " + taskName + " with Success.");
-            }
-            catch (Exception)
-            {
-                this.logger.LogInformation(DateTime.Now.ToString("dd/MM/yyyy HH:mm:ss") + ": End " + taskName + " with Fail.");
-                _ = Task.Delay(1000).ContinueWith((task) =>
-                {
-                    _ = this.RefreshProcessing();
-                    _ = this.RefreshFail();
-                });
-                throw;
-            }
-        }
-
-        /// <summary>
-        /// Run the monitored Task.
-        /// </summary>
-        /// <returns>the task async.</returns>
-#pragma warning disable CS1998 // Async method lacks 'await' operators and will run synchronously
-        public virtual async Task RunMonitoredTask()
-#pragma warning restore CS1998 // Async method lacks 'await' operators and will run synchronously
-        {
-            throw new NotImplementedException();
-        }
-
-        /// <summary>
-        /// HTTPs the post request.
-        /// </summary>
-        /// <typeparam name="TREQ">The type of requestObject.</typeparam>
-        /// <param name="requestUrl">The request URL.</param>
-        /// <param name="requestObject">The request object send.</param>
-        /// <returns>a string.</returns>
-        public async Task<string> HttpPostRequest<TREQ>(string requestUrl, TREQ requestObject)
-        {
-            return await RequestHelper.PostAsync(this.Configuration["JobMonitor:MessageBaseUrl"] + requestUrl, null, requestObject);
-        }
-
-        /// <summary>
-        /// Refreshes the success.
-        /// </summary>
-        /// <returns>the task async.</returns>
-        protected async Task RefreshSuccess()
-        {
-            await this.HttpPostRequest("refresh", new ListToRefresh() { Name = "Success" });
-        }
-
-        /// <summary>
-        /// Refreshes the processing.
-        /// </summary>
-        /// <returns>the task async.</returns>
-        protected async Task RefreshProcessing()
-        {
-            await this.HttpPostRequest("refresh", new ListToRefresh() { Name = "Processing" });
-        }
-
-        /// <summary>
-        /// Refreshes the fail.
-        /// </summary>
-        /// <returns>the task async.</returns>
-        protected async Task RefreshFail()
-        {
-            await this.HttpPostRequest("Fail", new ListToRefresh() { Name = "Fail" });
-        }
-    }
-}
\ No newline at end of file
diff --git a/DotNet/Safran.BIATemplate.WorkerService/Job/Shared/ListToRefresh.cs b/DotNet/Safran.BIATemplate.WorkerService/Job/Shared/ListToRefresh.cs
deleted file mode 100644
index 66d5a09..0000000
--- a/DotNet/Safran.BIATemplate.WorkerService/Job/Shared/ListToRefresh.cs
+++ /dev/null
@@ -1,17 +0,0 @@
-// <copyright file="ListToRefresh.cs" company="Safran">
-// Copyright (c) PlaceholderCompany. All rights reserved.
-// </copyright>
-
-namespace Safran.BIATemplate.Presentation.WorkerService.Job.Shared
-{
-    /// <summary>
-    /// Object containing the List to refresh object.
-    /// </summary>
-    public class ListToRefresh
-    {
-        /// <summary>
-        /// Name of the list to refresh.
-        /// </summary>
-        public string Name { get; set; }
-    }
-}
diff --git a/DotNet/Safran.BIATemplate.WorkerService/Job/SynchronizeUserTask.cs b/DotNet/Safran.BIATemplate.WorkerService/Job/SynchronizeUserTask.cs
index df0f4bc..1c3b5fb 100644
--- a/DotNet/Safran.BIATemplate.WorkerService/Job/SynchronizeUserTask.cs
+++ b/DotNet/Safran.BIATemplate.WorkerService/Job/SynchronizeUserTask.cs
@@ -1,18 +1,20 @@
 // <copyright file="SynchronizeUserTask.cs" company="Safran">
-// Copyright (c) PlaceholderCompany. All rights reserved.
+// Copyright (c) Safran. All rights reserved.
 // </copyright>
 
-namespace Safran.BIATemplate.Presentation.WorkerService.Job
+namespace Safran.BIATemplate.WorkerService.Job
 {
     using System.Threading.Tasks;
+    using BIA.Net.Core.Application.Job;
+    using Hangfire;
     using Microsoft.Extensions.Configuration;
     using Microsoft.Extensions.Logging;
     using Safran.BIATemplate.Application.User;
-    using Safran.BIATemplate.Presentation.WorkerService.Job.Shared;
 
     /// <summary>
-    /// Task to synchrnize user date from ldap.
+    /// Task to synchronize users from LDAP.
     /// </summary>
+    [AutomaticRetry(Attempts = 2, LogEvents = true)]
     internal class SynchronizeUserTask : BaseJob
     {
         private readonly IUserAppService userService;
@@ -29,20 +31,11 @@ namespace Safran.BIATemplate.Presentation.WorkerService.Job
             this.userService = userService;
         }
 
-        /// <summary>
-        /// the task.
-        /// </summary>
-        /// <returns>the async Task.</returns>
-        public async Task Run()
-        {
-            await this.RunWithMonitoring("SynchronizeUserTask");
-        }
-
         /// <summary>
         /// Call the synchronization service.
         /// </summary>
-        /// <returns>the async Task.</returns>
-        public override async Task RunMonitoredTask()
+        /// <returns>The <see cref="Task"/> representing the operation to perform.</returns>
+        protected override async Task RunMonitoredTask()
         {
             await this.userService.SynchronizeWithADAsync(true);
         }
diff --git a/DotNet/Safran.BIATemplate.WorkerService/Job/WakeUpTask.cs b/DotNet/Safran.BIATemplate.WorkerService/Job/WakeUpTask.cs
index f3d38ea..d1518f4 100644
--- a/DotNet/Safran.BIATemplate.WorkerService/Job/WakeUpTask.cs
+++ b/DotNet/Safran.BIATemplate.WorkerService/Job/WakeUpTask.cs
@@ -2,19 +2,20 @@
 // Copyright (c) Safran. All rights reserved.
 // </copyright>
 
-namespace Safran.BIATemplate.Presentation.WorkerService.Job
+namespace Safran.BIATemplate.WorkerService.Job
 {
-    using System;
     using System.Collections.Generic;
     using System.Threading.Tasks;
+    using BIA.Net.Core.Application.Job;
     using BIA.Net.Core.Common.Helpers;
+    using Hangfire;
     using Microsoft.Extensions.Configuration;
     using Microsoft.Extensions.Logging;
-    using Safran.BIATemplate.Presentation.WorkerService.Job.Shared;
 
     /// <summary>
     /// Task to wake up.
     /// </summary>
+    [AutomaticRetry(Attempts = 2, LogEvents = true)]
     internal class WakeUpTask : BaseJob
     {
         /// <summary>
@@ -28,20 +29,12 @@ namespace Safran.BIATemplate.Presentation.WorkerService.Job
         {
         }
 
-        /// <summary>
-        /// the task.
-        /// </summary>
-        /// <returns>the task async.</returns>
-        public async Task Run()
-        {
-            await this.RunWithMonitoring("WakeUpTask");
-        }
 
         /// <summary>
         /// Call all urls in Tasks:WakeUp:Url split by '|'.
         /// </summary>
-        /// <returns>the task async.</returns>
-        public override async Task RunMonitoredTask()
+        /// <returns>The <see cref="Task"/> representing the operation to perform.</returns>
+        protected override async Task RunMonitoredTask()
         {
             string[] urlToWakeUp = this.Configuration["Tasks:WakeUp:Url"].Split("|");
             var requestTasks = new List<Task>();
diff --git a/DotNet/Safran.BIATemplate.WorkerService/Program.cs b/DotNet/Safran.BIATemplate.WorkerService/Program.cs
index dfbd804..9630ed0 100644
--- a/DotNet/Safran.BIATemplate.WorkerService/Program.cs
+++ b/DotNet/Safran.BIATemplate.WorkerService/Program.cs
@@ -1,130 +1,120 @@
 // <copyright file="Program.cs" company="Safran">
-// Copyright (c) Safran. All rights reserved.
+//     Copyright (c) Safran. All rights reserved.
 // </copyright>
 
-namespace Safran.BIATemplate.Presentation.WorkerService
+namespace Safran.BIATemplate.WorkerService
 {
     using System;
-    using System.Diagnostics;
-    using System.IO;
-    using System.Linq;
-    using System.Reflection;
-    using BIA.Net.Core.Common.Configuration;
-    using Hangfire;
+    using System.Collections.Generic;
+    using BIA.Net.Core.WorkerService.Features;
+    using BIA.Net.Core.WorkerService.Features.DataBaseHandler;
+    using Microsoft.AspNetCore;
+    using Microsoft.AspNetCore.Hosting;
     using Microsoft.Extensions.Configuration;
     using Microsoft.Extensions.DependencyInjection;
     using Microsoft.Extensions.Hosting;
     using NLog;
     using NLog.Extensions.Logging;
     using NLog.Web;
-    using Safran.BIATemplate.Crosscutting.Ioc;
+    using Safran.BIATemplate.WorkerService.Features;
 
     /// <summary>
-    /// The program.
+    /// The base program class.
     /// </summary>
     public static class Program
     {
         /// <summary>
-        /// Gets or sets the configuration.
+        /// The main method that start the project.
         /// </summary>
-        public static IConfiguration Configuration { get; set; }
-
-        /// <summary>
-        /// Defines the entry point of the application.
-        /// </summary>
-        /// <param name="args">The arguments.</param>
+        /// <param name="args">The command line arguments.</param>
         public static void Main(string[] args)
         {
-            if (Debugger.IsAttached || args.Contains("--debug"))
+            // NLog: setup the logger first to catch all errors
+            try
+            {
+                CreateWebHostBuilder(args).Build().Run();
+
+                // If use as a windows service: CreateHostBuilder(args).Build().Run()
+            }
+            catch (Exception ex)
             {
-                // Mode debug
+                // NLog: catch setup errors
+                var logger = NLogBuilder.ConfigureNLog(LogManager.Configuration).GetCurrentClassLogger();
+                logger.Error(ex, "Stopped program because of exception");
+                throw;
             }
-            else
+            finally
             {
-                var path = Path.GetDirectoryName(Assembly.GetEntryAssembly().Location);
-                Directory.SetCurrentDirectory(path);
+                // Ensure to flush and stop internal timers/threads before application-exit
+                LogManager.Shutdown();
             }
-
-            CreateHostBuilder(args).Build().Run();
         }
 
         /// <summary>
-        /// Creates the host builder.
+        /// Create the web host builder.
         /// </summary>
-        /// <param name="args">The arguments.</param>
-        /// <returns>IHostBuilder.</returns>
-        public static IHostBuilder CreateHostBuilder(string[] args) =>
-            Host.CreateDefaultBuilder(args)
-                .UseWindowsService()
+        /// <param name="args">The command line arguments.</param>
+        /// <returns>The web host builder.</returns>
+        private static IWebHostBuilder CreateWebHostBuilder(string[] args) =>
+            WebHost.CreateDefaultBuilder(args)
+                .ConfigureAppConfiguration((hostingContext, config) =>
+                {
+                    config.AddJsonFile("appsettings.json", optional: true, reloadOnChange: true);
+                    config.AddJsonFile($"appsettings.{Environment.GetEnvironmentVariable("ASPNETCORE_ENVIRONMENT")}.json", optional: true, reloadOnChange: true);
+                    config.AddJsonFile("bianetconfig.json", optional: false, reloadOnChange: true);
+                    config.AddJsonFile($"bianetconfig.{Environment.GetEnvironmentVariable("ASPNETCORE_ENVIRONMENT")}.json", optional: true, reloadOnChange: true);
+                })
+                .ConfigureLogging((hostingContext, logging) =>
+                {
+                    IConfiguration configuration = hostingContext.Configuration;
+                    LogManager.Configuration = new NLogLoggingConfiguration(configuration.GetSection("NLog"));
+                })
+                .UseNLog()
+                .UseStartup<Startup>()
                 .ConfigureServices((hostContext, services) =>
                 {
-                    ConfigureServices(services);
-                    LogManager.Configuration = new NLogLoggingConfiguration(Configuration.GetSection("NLog"));
-                    var logger = NLogBuilder.ConfigureNLog(LogManager.Configuration).GetCurrentClassLogger();
-
-                    try
-                    {
-                        logger.Debug("init main");
-                    }
-                    catch (Exception ex)
+                    services.AddBiaWorkerFeatures(config =>
                     {
-                        // NLog: catch setup errors
-                        logger.Error(ex, "Stopped program because of exception");
-                        throw;
-                    }
-                    finally
-                    {
-                        // Ensure to flush and stop internal timers/threads before application-exit
-                        LogManager.Shutdown();
-                    }
+                        config.Configuration = hostContext.Configuration;
+                    });
+
+                    services.AddHostedService<Worker>();
                 });
 
         /// <summary>
-        /// Configure the Services.
+        /// Create the host builder.
         /// </summary>
-        /// <param name="services">the services.</param>
-        public static void ConfigureServices(IServiceCollection services)
-        {
-            services.AddHostedService<Worker>();
-            Configuration = new ConfigurationBuilder()
-               .SetBasePath(Directory.GetCurrentDirectory())
-               .AddJsonFile("appsettings.json", optional: true, reloadOnChange: true)
-               .AddJsonFile($"appsettings.{Environment.GetEnvironmentVariable("ASPNETCORE_ENVIRONMENT")}.json", optional: true, reloadOnChange: true)
-               .AddJsonFile("bianetconfig.json", optional: false, reloadOnChange: true)
-               .AddJsonFile($"bianetconfig.{Environment.GetEnvironmentVariable("ASPNETCORE_ENVIRONMENT")}.json", optional: true, reloadOnChange: true)
-               .Build();
-
-            services.AddCors();
-
-            BiaNetSection biaNetSection = new BiaNetSection();
-            Configuration.GetSection("BiaNet").Bind(biaNetSection);
-
-            // Begin BIA Standard service
-            services.AddDistributedSqlServerCache(options =>
-            {
-                options.ConnectionString = Configuration.GetConnectionString("BIATemplateDatabase");
-                options.SchemaName = "dbo";
-                options.TableName = "DistCache";
-            });
-            services.AddMemoryCache();
-
-            // End BIA Standard service
-
-            // Configure IoC for classes not in the API project.
-            IocContainer.ConfigureContainer(services, Configuration);
-
-            services.AddHangfire(config =>
-            config
-            .UseSimpleAssemblyNameTypeSerializer()
-            .UseRecommendedSerializerSettings()
-            .UseSqlServerStorage(
-               Configuration.GetConnectionString("JobMonitorDatabase")));
+        /// <param name="args">The command line arguments.</param>
+        /// <returns>The web host builder.</returns>
+        private static IHostBuilder CreateHostBuilder(string[] args) =>
+            Host.CreateDefaultBuilder(args)
+                .ConfigureAppConfiguration((hostingContext, config) =>
+                {
+                    config.AddJsonFile("appsettings.json", optional: true, reloadOnChange: true);
+                    config.AddJsonFile($"appsettings.{Environment.GetEnvironmentVariable("ASPNETCORE_ENVIRONMENT")}.json", optional: true, reloadOnChange: true);
+                    config.AddJsonFile("bianetconfig.json", optional: false, reloadOnChange: true);
+                    config.AddJsonFile($"bianetconfig.{Environment.GetEnvironmentVariable("ASPNETCORE_ENVIRONMENT")}.json", optional: true, reloadOnChange: true);
+                })
+                .ConfigureLogging((hostingContext, logging) =>
+                {
+                    IConfiguration configuration = hostingContext.Configuration;
+                    LogManager.Configuration = new NLogLoggingConfiguration(configuration.GetSection("NLog"));
+                })
+                .UseNLog()
+                .ConfigureWebHostDefaults(webBuilder =>
+                {
+                    webBuilder.UseUrls("https://*:8081", "http://*:8080");
+                    webBuilder.UseStartup<Startup>();
+                })
+                .ConfigureServices((hostContext, services) =>
+                {
+                    services.AddBiaWorkerFeatures(config =>
+                    {
+                        config.Configuration = hostContext.Configuration;
+                    });
 
-            services.AddHangfireServer(options =>
-            {
-                options.Queues = new[] { "biatemplate" };
-                options.ServerName = "BIATemplate";
-            });
-        }
+                    services.AddHostedService<Worker>();
+                })
+                .UseWindowsService();
     }
-}
\ No newline at end of file
+}
diff --git a/DotNet/Safran.BIATemplate.WorkerService/Safran.BIATemplate.WorkerService.csproj b/DotNet/Safran.BIATemplate.WorkerService/Safran.BIATemplate.WorkerService.csproj
index 0e0c8ca..74e6bfa 100644
--- a/DotNet/Safran.BIATemplate.WorkerService/Safran.BIATemplate.WorkerService.csproj
+++ b/DotNet/Safran.BIATemplate.WorkerService/Safran.BIATemplate.WorkerService.csproj
@@ -1,21 +1,28 @@
-<Project Sdk="Microsoft.NET.Sdk.Worker">
+<Project Sdk="Microsoft.NET.Sdk.Web">
 
   <PropertyGroup>
-    <Company>Safran</Company>
-    <Copyright>Copyright © Safran 2020</Copyright>
     <TargetFramework>netcoreapp3.1</TargetFramework>
-    <UserSecretsId>dotnet-Safran.BIATemplate.Presentation.WorkerService-6995F7EB-1398-40C6-9F6D-189FA0F468E9</UserSecretsId>
+    <Company>Safran</Company>
+    <Copyright>Safran</Copyright>
+    <IncludeOpenAPIAnalyzers>true</IncludeOpenAPIAnalyzers>
+    <ANCMPreConfiguredForIIS>true</ANCMPreConfiguredForIIS>
+    <UserSecretsId>dotnet-Safran.BIATemplate.WorkerService-6995F7EB-1398-40C6-9F6D-189FA0F468E9</UserSecretsId>
   </PropertyGroup>
 
   <ItemGroup>
-    <PackageReference Include="Hangfire" Version="1.7.15" />
-    <PackageReference Include="Hangfire.Core" Version="1.7.15" />
-    <PackageReference Include="Hangfire.SqlServer" Version="1.7.15" />
+    <PackageReference Include="BIA.Net.Core.WorkerService" Version="3.3.0" />
+    <PackageReference Include="Hangfire" Version="1.7.18" />
+    <PackageReference Include="Hangfire.Core" Version="1.7.18" />
+    <PackageReference Include="Hangfire.SqlServer" Version="1.7.18" />
     <PackageReference Include="Microsoft.AspNetCore.Http" Version="2.2.2" />
+    <PackageReference Include="Microsoft.AspNetCore.SignalR.Redis" Version="1.1.5" />
     <PackageReference Include="Microsoft.Extensions.Hosting" Version="3.1.8" />
     <PackageReference Include="Microsoft.Extensions.Hosting.WindowsServices" Version="3.1.8" />
     <PackageReference Include="NLog" Version="4.7.5" />
+   <PackageReference Include="NLog.Extensions.Logging" Version="1.6.5" />
+    <PackageReference Include="NLog.MailKit" Version="3.3.0" />
     <PackageReference Include="NLog.Web.AspNetCore" Version="4.9.3" />
+    <PackageReference Include="System.Data.SqlClient" Version="4.8.2" />
   </ItemGroup>
 
   <ItemGroup>
@@ -53,6 +60,10 @@
     <Content Update="bianetconfig.json">
       <ExcludeFromSingleFile>true</ExcludeFromSingleFile>
     </Content>
+    <Content Update="web.config">
+      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
+      <ExcludeFromSingleFile>true</ExcludeFromSingleFile>
+    </Content>
   </ItemGroup>
 
   <ItemGroup>
diff --git a/DotNet/Safran.BIATemplate.WorkerService/Startup.cs b/DotNet/Safran.BIATemplate.WorkerService/Startup.cs
new file mode 100644
index 0000000..9652b5e
--- /dev/null
+++ b/DotNet/Safran.BIATemplate.WorkerService/Startup.cs
@@ -0,0 +1,90 @@
+// <copyright file="Startup.cs" company="Safran">
+//     Copyright (c) Safran. All rights reserved.
+// </copyright>
+
+namespace Safran.BIATemplate.WorkerService
+{
+    using System.Security.Principal;
+    using BIA.Net.Core.Application.Authentication;
+    using BIA.Net.Core.WorkerService.Features;
+    using Microsoft.AspNetCore.Builder;
+    using Microsoft.AspNetCore.Hosting;
+    using Microsoft.AspNetCore.Http;
+    using Microsoft.Extensions.Configuration;
+    using Microsoft.Extensions.DependencyInjection;
+    using Microsoft.Extensions.Hosting;
+    using Safran.BIATemplate.Application.User;
+    using Safran.BIATemplate.Crosscutting.Ioc;
+    using Safran.BIATemplate.WorkerService.Features;
+
+    /// <summary>
+    /// The startup class.
+    /// </summary>
+    public class Startup
+    {
+        /// <summary>
+        /// The configuration.
+        /// </summary>
+        private readonly IConfiguration configuration;
+
+        /// <summary>
+        /// The current environment.
+        /// </summary>
+        private readonly IWebHostEnvironment currentEnvironment;
+
+        /// <summary>
+        /// Initializes a new instance of the <see cref="Startup"/> class.
+        /// </summary>
+        /// <param name="configuration">The configuration.</param>
+        /// <param name="env">The environment.</param>
+        public Startup(IConfiguration configuration, IWebHostEnvironment env)
+        {
+            this.currentEnvironment = env;
+            this.configuration = configuration;
+        }
+
+        /// <summary>
+        /// This method gets called by the runtime. Use this method to add services to the container.
+        /// </summary>
+        /// <param name="services">The collection of services.</param>
+        public void ConfigureServices(IServiceCollection services)
+        {
+            services.AddControllers();
+            services.AddCors();
+            services.AddResponseCompression();
+
+            // Used to get a unique identifier for each HTTP request and track it.
+            services.AddSingleton<IHttpContextAccessor, HttpContextAccessor>();
+            services.AddTransient<IPrincipal>(provider => new BIAClaimsPrincipal(provider.GetService<IHttpContextAccessor>().HttpContext.User));
+
+            // Configure IoC for classes not in the API project.
+            IocContainer.ConfigureContainer(services, this.configuration);
+        }
+
+        /// <summary>
+        /// This method gets called by the runtime. Use this method to configure the HTTP request pipeline.
+        /// </summary>
+        /// <param name="app">The application builder.</param>
+        /// <param name="env">The environment.</param>
+        /// <param name="userAppService">The user app service.</param>
+        public void Configure(IApplicationBuilder app, IWebHostEnvironment env, IUserAppService userAppService)
+        {
+            if (!env.IsDevelopment())
+            {
+                app.UseHsts();
+            }
+
+            app.UseResponseCompression();
+
+            app.UseRouting();
+
+            app.UseAuthentication();
+            app.UseAuthorization();
+
+            app.UseBiaWorkerFeatures(config => {
+                config.Configuration = this.configuration;
+                config.HangfireServer.Authorization = new[] { new HangfireAuthorizationFilter(userAppService) };
+            });
+        }
+    }
+}
\ No newline at end of file
diff --git a/DotNet/Safran.BIATemplate.WorkerService/Worker.cs b/DotNet/Safran.BIATemplate.WorkerService/Worker.cs
index 0a84cd9..bc3f736 100644
--- a/DotNet/Safran.BIATemplate.WorkerService/Worker.cs
+++ b/DotNet/Safran.BIATemplate.WorkerService/Worker.cs
@@ -1,17 +1,19 @@
-// <copyright file="Worker.cs" company="PlaceholderCompany">
-// Copyright (c) PlaceholderCompany. All rights reserved.
+// <copyright file="Worker.cs" company="Safran">
+// Copyright (c) Safran. All rights reserved.
 // </copyright>
 
-namespace Safran.BIATemplate.Presentation.WorkerService
+namespace Safran.BIATemplate.WorkerService
 {
     using System;
+    using System.Security.Cryptography;
     using System.Threading;
     using System.Threading.Tasks;
+    using BIA.Net.Core.WorkerService;
     using Hangfire;
-    using Hangfire.Storage;
+    using Hangfire.States;
     using Microsoft.Extensions.Configuration;
     using Microsoft.Extensions.Hosting;
-    using Safran.BIATemplate.Presentation.WorkerService.Job;
+    using Safran.BIATemplate.WorkerService.Job;
 
     /// <summary>
     /// Worker class.
@@ -25,6 +27,12 @@ namespace Safran.BIATemplate.Presentation.WorkerService
         public Worker(IConfiguration configuration)
         {
             this.Configuration = configuration;
+            string projectName = configuration["Project:Name"];
+
+            RecuringJobsHelper.CleanHangfireServerQueue();
+
+            RecurringJob.AddOrUpdate<WakeUpTask>($"{projectName}.{typeof(WakeUpTask).Name}", t => t.Run(), configuration["Tasks:WakeUp:CRON"]);
+            RecurringJob.AddOrUpdate<SynchronizeUserTask>($"{projectName}.{typeof(SynchronizeUserTask).Name}", t => t.Run(), configuration["Tasks:SynchronizeUser:CRON"]);
         }
 
         /// <summary>
@@ -40,42 +48,7 @@ namespace Safran.BIATemplate.Presentation.WorkerService
         /// <returns>A <see cref="Task"/> representing the asynchronous operation.</returns>
         protected override async Task ExecuteAsync(CancellationToken stoppingToken)
         {
-            string projectName = this.Configuration["Project:Name"];
-            string queueName = this.Configuration["Project:ShortName"].ToLower();
-            Console.WriteLine(DateTime.Now.ToString("dd/MM/yyyy HH:mm:ss") + ": BIATemplate Server started. Press any key to exit...");
-
-            CleanHangfireServerQueue(queueName);
-
-            RecurringJob.AddOrUpdate<WakeUpTask>($"{projectName}.WakeUpTask", t => t.Run(), Cron.Daily(int.Parse(this.Configuration["Tasks:WakeUp:Hour"]), int.Parse(this.Configuration["Tasks:WakeUp:Minute"])), null, queueName);
-            RecurringJob.AddOrUpdate<SynchronizeUserTask>($"{projectName}.SynchronizeUserTask", t => t.Run(), Cron.Daily(int.Parse(this.Configuration["Tasks:SynchronizeUser:Hour"]), int.Parse(this.Configuration["Tasks:SynchronizeUser:Minute"])), null, queueName);
-
-            RecurringJob.Trigger($"{projectName}.WakeUpTask");
-            RecurringJob.Trigger($"{projectName}.SynchronizeUserTask");
-
-            while (!stoppingToken.IsCancellationRequested)
-            {
-                await Task.Delay(1000, stoppingToken);
-            }
-        }
-
-        /// <summary>
-        /// Initialize the Background server.
-        /// </summary>
-        /// <param name="queueName">name of the queue (use the short project name to Lower).</param>
-        private static void CleanHangfireServerQueue(string queueName)
-        {
-            var jobStorage = JobStorage.Current;
-            var connection = jobStorage.GetConnection();
-
-            var recurringJobs = connection.GetRecurringJobs();
-
-            foreach (var item in recurringJobs)
-            {
-                if (item.Queue == queueName)
-                {
-                    RecurringJob.RemoveIfExists(item.Id);
-                }
-            }
+            Console.WriteLine(DateTime.Now.ToString("dd/MM/yyyy HH:mm:ss") + ": BIATemplate Server started.");
         }
     }
-}
\ No newline at end of file
+}
diff --git a/DotNet/Safran.BIATemplate.WorkerService/appsettings.DMEU_INT.json b/DotNet/Safran.BIATemplate.WorkerService/appsettings.DMEU_INT.json
index 6cca9b9..8caff96 100644
--- a/DotNet/Safran.BIATemplate.WorkerService/appsettings.DMEU_INT.json
+++ b/DotNet/Safran.BIATemplate.WorkerService/appsettings.DMEU_INT.json
@@ -1,7 +1,6 @@
 {
   "ConnectionStrings": {
-    "BIATemplateDatabase": "data source=DS002AWO\\SEPDMAPPINT;initial catalog=BIATemplate_INT;integrated security=True;MultipleActiveResultSets=True;App=BIATemplate",
-    "JobMonitorDatabase": "data source=DS002AWO\\SEPDMAPPINT;initial catalog=JobMonitor_INT;integrated security=True;MultipleActiveResultSets=True;App=JobMonitor"
+    "BIATemplateDatabase": "data source=DS002AWO\\SEPDMAPPINT;initial catalog=BIATemplate_INT;integrated security=True;MultipleActiveResultSets=True;App=BIATemplate"
   },
   "Logging": {
     "LogLevel": {
diff --git a/DotNet/Safran.BIATemplate.WorkerService/appsettings.DMEU_PRA.json b/DotNet/Safran.BIATemplate.WorkerService/appsettings.DMEU_PRA.json
index 978cb32..a75939c 100644
--- a/DotNet/Safran.BIATemplate.WorkerService/appsettings.DMEU_PRA.json
+++ b/DotNet/Safran.BIATemplate.WorkerService/appsettings.DMEU_PRA.json
@@ -1,6 +1,5 @@
 {
   "ConnectionStrings": {
-    "BIATemplateDatabase": "data source=DS002SAF\\SEPDMAPPPRA;initial catalog=BIATemplate_PRA;integrated security=True;MultipleActiveResultSets=True;App=BIATemplate",
-    "JobMonitorDatabase": "data source=DS002SAF\\SEPDMAPPPRA;initial catalog=JobMonitor_PRA;integrated security=True;MultipleActiveResultSets=True;App=JobMonitor"
+    "BIATemplateDatabase": "data source=DS002SAF\\SEPDMAPPPRA;initial catalog=BIATemplate_PRA;integrated security=True;MultipleActiveResultSets=True;App=BIATemplate"
   }
 }
\ No newline at end of file
diff --git a/DotNet/Safran.BIATemplate.WorkerService/appsettings.DMEU_PRD.json b/DotNet/Safran.BIATemplate.WorkerService/appsettings.DMEU_PRD.json
index 0ddb0ac..03bc92c 100644
--- a/DotNet/Safran.BIATemplate.WorkerService/appsettings.DMEU_PRD.json
+++ b/DotNet/Safran.BIATemplate.WorkerService/appsettings.DMEU_PRD.json
@@ -1,6 +1,5 @@
 {
   "ConnectionStrings": {
-    "BIATemplateDatabase": "data source=DS002S40\\SEPDMAPPPRD;initial catalog=BIATemplate_PRD;integrated security=True;MultipleActiveResultSets=True;App=BIATemplate",
-    "JobMonitorDatabase": "data source=DS002S40\\SEPDMAPPPRD;initial catalog=JobMonitor_PRD;integrated security=True;MultipleActiveResultSets=True;App=JobMonitor"
+    "BIATemplateDatabase": "data source=DS002S40\\SEPDMAPPPRD;initial catalog=BIATemplate_PRD;integrated security=True;MultipleActiveResultSets=True;App=BIATemplate"
   }
 }
\ No newline at end of file
diff --git a/DotNet/Safran.BIATemplate.WorkerService/appsettings.DMEU_UAT.json b/DotNet/Safran.BIATemplate.WorkerService/appsettings.DMEU_UAT.json
index 97a939a..1018062 100644
--- a/DotNet/Safran.BIATemplate.WorkerService/appsettings.DMEU_UAT.json
+++ b/DotNet/Safran.BIATemplate.WorkerService/appsettings.DMEU_UAT.json
@@ -1,6 +1,5 @@
 {
   "ConnectionStrings": {
-    "BIATemplateDatabase": "data source=DS002RZ9\\SEPDMAPPUAT;initial catalog=BIATemplate_UAT;integrated security=True;MultipleActiveResultSets=True;App=BIATemplate",
-    "JobMonitorDatabase": "data source=DS002RZ9\\SEPDMAPPUAT;initial catalog=JobMonitor_UAT;integrated security=True;MultipleActiveResultSets=True;App=JobMonitor"
+    "BIATemplateDatabase": "data source=DS002RZ9\\SEPDMAPPUAT;initial catalog=BIATemplate_UAT;integrated security=True;MultipleActiveResultSets=True;App=BIATemplate"
   }
 }
\ No newline at end of file
diff --git a/DotNet/Safran.BIATemplate.WorkerService/appsettings.Development.json b/DotNet/Safran.BIATemplate.WorkerService/appsettings.Development.json
index 07216fe..5ed19dd 100644
--- a/DotNet/Safran.BIATemplate.WorkerService/appsettings.Development.json
+++ b/DotNet/Safran.BIATemplate.WorkerService/appsettings.Development.json
@@ -1,7 +1,6 @@
 {
   "ConnectionStrings": {
-    "BIATemplateDatabase": "data source=localhost;initial catalog=BIATemplate;integrated security=True;MultipleActiveResultSets=True;App=BIATemplate",
-    "JobMonitorDatabase": "data source=localhost;initial catalog=JobMonitor;integrated security=True;MultipleActiveResultSets=True;App=JobMonitor"
+    "BIATemplateDatabase": "data source=localhost;initial catalog=BIATemplate;integrated security=True;MultipleActiveResultSets=True;App=BIATemplate"
   },
   "Logging": {
     "LogLevel": {
diff --git a/DotNet/Safran.BIATemplate.WorkerService/appsettings.json b/DotNet/Safran.BIATemplate.WorkerService/appsettings.json
index 9f50d30..5ea44c9 100644
--- a/DotNet/Safran.BIATemplate.WorkerService/appsettings.json
+++ b/DotNet/Safran.BIATemplate.WorkerService/appsettings.json
@@ -1,16 +1,14 @@
 {
   "ConnectionStrings": {
-    "BIATemplateDatabase": "data source=localhost;initial catalog=BIATemplate;integrated security=True;MultipleActiveResultSets=True;App=BIATemplate"
+    "BIATemplateDatabase": "data source=localhost;initial catalog=BIATemplate;integrated security=True;MultipleActiveResultSets=True;App=BIATemplate;Column Encryption Setting=enabled"
   },
   "Tasks": {
     "WakeUp": {
-      "Url": "http://localhost/BIATemplate",
-      "Hour": 7,
-      "Minute": 0
+      "Url": "http://localhost/BIATemplate/App|http://localhost/BIATemplate/WebApi/api/Auth/frontEndVersion",
+      "CRON": "0 8-18 * * *"
     },
     "SynchronizeUser": {
-      "Hour": 6,
-      "Minute": 0
+      "CRON": "0 6 * * *"
     }
   },
   "Project": {
@@ -18,10 +16,6 @@
     "ShortName": "BIATemplate"
   },
 
-  "JobMonitor": {
-    "MessageBaseUrl": "http://localhost/JobMonitor/WebApi/api/Message/"
-  },
-
   "Logging": {
     "LogLevel": {
       "Default": "Information",
@@ -43,7 +37,7 @@
     "targets": {
       "fileLog": {
         "type": "File",
-        "fileName": "E:\\Logs\\BIATemplate\\WorkerService\\${shortdate}_Safran.BIATemplate_WorkerService.log",
+        "fileName": "E:\\Logs\\BIATemplate\\${shortdate}_Safran.BIATemplate_WorkerService.log",
         "archiveAboveSize": 2000000,
         "archiveNumbering": "Rolling",
         "archiveEvery": "Day",
diff --git a/DotNet/Safran.BIATemplate.WorkerService/bianetconfig.DMEU_INT.json b/DotNet/Safran.BIATemplate.WorkerService/bianetconfig.DMEU_INT.json
index db6ff58..eea21eb 100644
--- a/DotNet/Safran.BIATemplate.WorkerService/bianetconfig.DMEU_INT.json
+++ b/DotNet/Safran.BIATemplate.WorkerService/bianetconfig.DMEU_INT.json
@@ -1,5 +1,10 @@
 {
   "BiaNet": {
+    "WorkerFeatures": {
+      "ClientForHub": {
+        "SignalRUrl": "https://dmeu-int.electrical-power.safran/BIATemplate/WebApi/HubForClients"
+      }
+    },
     "Environment": {
       "Type": "INT"
     },
@@ -36,28 +41,11 @@
       ]
     },
     "Roles": [
-      //{
-      //  "Label": "User",
-      //  "Type": "Fake"
-      //},
-      //{
-      //  "Label": "Admin",
-      //  "Type": "Fake"
-      //}
       {
         "Label": "User",
-        "Type": "Ldap",
+        "Type": "Synchro",
         "LdapGroups": [
           {
-            "AddUsersOfDomains": [ "EU", "NA" ],
-            "RecursiveGroupsOfDomains": [ "EU", "NA" ],
-            "LdapName": "EU\\P_LPS_DM_EU_BIATemplate_User",
-            "Domain": "EU"
-
-          },
-          {
-            "AddUsersOfDomains": [ "CORP" ],
-            "RecursiveGroupsOfDomains": [ "CORP", "RD1RF1" ],
             "LdapName": "RD1RF1\\RD1-SEP-DM-APP_BIATemplate_INT_User",
             "Domain": "RD1RF1"
           }
@@ -68,13 +56,8 @@
         "Type": "Ldap",
         "LdapGroups": [
           {
-            "RecursiveGroupsOfDomains": [ "EU", "NA" ],
-            "LdapName": "EU\\P_LPS_DM_EU_BIATemplate_Admin",
-            "Domain": "EU"
-          },
-          {
-            "RecursiveGroupsOfDomains": [ "CORP", "RD1RF1" ],
-            "LdapName": "RD1RF1\\RD1-SEP-DM-APP_BIATemplate_Admin",
+            "RecursiveGroupsOfDomains": [ "EU", "RD1RF1" ],
+            "LdapName": "RD1RF1\\RD1-SEP-DM-APP_Admin",
             "Domain": "RD1RF1"
           }
         ]
diff --git a/DotNet/Safran.BIATemplate.WorkerService/bianetconfig.DMEU_PRA.json b/DotNet/Safran.BIATemplate.WorkerService/bianetconfig.DMEU_PRA.json
index e05813f..11d5cf0 100644
--- a/DotNet/Safran.BIATemplate.WorkerService/bianetconfig.DMEU_PRA.json
+++ b/DotNet/Safran.BIATemplate.WorkerService/bianetconfig.DMEU_PRA.json
@@ -1,5 +1,10 @@
 {
   "BiaNet": {
+    "WorkerFeatures": {
+      "ClientForHub": {
+        "SignalRUrl": "https://dmeu-pra.electrical-power.safran/BIATemplate/WebApi/HubForClients"
+      }
+    },
     "Environment": {
       "Type": "PRA"
     },
@@ -36,28 +41,11 @@
       ]
     },
     "Roles": [
-      //{
-      //  "Label": "User",
-      //  "Type": "Fake"
-      //},
-      //{
-      //  "Label": "Admin",
-      //  "Type": "Fake"
-      //}
       {
         "Label": "User",
-        "Type": "Ldap",
+        "Type": "Synchro",
         "LdapGroups": [
           {
-            "AddUsersOfDomains": [ "EU", "NA" ],
-            "RecursiveGroupsOfDomains": [ "EU", "NA" ],
-            "LdapName": "EU\\P_LPS_DM_EU_BIATemplate_User",
-            "Domain": "EU"
-
-          },
-          {
-            "AddUsersOfDomains": [ "CORP" ],
-            "RecursiveGroupsOfDomains": [ "CORP", "RD1RF1" ],
             "LdapName": "RD1RF1\\RD1-SEP-DM-APP_BIATemplate_PRD_User",
             "Domain": "RD1RF1"
           }
@@ -68,13 +56,8 @@
         "Type": "Ldap",
         "LdapGroups": [
           {
-            "RecursiveGroupsOfDomains": [ "EU", "NA" ],
-            "LdapName": "EU\\P_LPS_DM_EU_BIATemplate_Admin",
-            "Domain": "EU"
-          },
-          {
-            "RecursiveGroupsOfDomains": [ "CORP", "RD1RF1" ],
-            "LdapName": "RD1RF1\\RD1-SEP-DM-APP_BIATemplate_Admin",
+            "RecursiveGroupsOfDomains": [ "EU", "RD1RF1" ],
+            "LdapName": "RD1RF1\\RD1-SEP-DM-APP_Admin",
             "Domain": "RD1RF1"
           }
         ]
diff --git a/DotNet/Safran.BIATemplate.WorkerService/bianetconfig.DMEU_PRD.json b/DotNet/Safran.BIATemplate.WorkerService/bianetconfig.DMEU_PRD.json
index b7145ec..67b1579 100644
--- a/DotNet/Safran.BIATemplate.WorkerService/bianetconfig.DMEU_PRD.json
+++ b/DotNet/Safran.BIATemplate.WorkerService/bianetconfig.DMEU_PRD.json
@@ -1,5 +1,10 @@
 {
   "BiaNet": {
+    "WorkerFeatures": {
+      "ClientForHub": {
+        "SignalRUrl": "https://dmeu.electrical-power.safran/BIATemplate/WebApi/HubForClients"
+      }
+    },
     "Environment": {
       "Type": "PRD"
     },
@@ -36,28 +41,11 @@
       ]
     },
     "Roles": [
-      //{
-      //  "Label": "User",
-      //  "Type": "Fake"
-      //},
-      //{
-      //  "Label": "Admin",
-      //  "Type": "Fake"
-      //}
       {
         "Label": "User",
-        "Type": "Ldap",
+        "Type": "Synchro",
         "LdapGroups": [
           {
-            "AddUsersOfDomains": [ "EU", "NA" ],
-            "RecursiveGroupsOfDomains": [ "EU", "NA" ],
-            "LdapName": "EU\\P_LPS_DM_EU_BIATemplate_User",
-            "Domain": "EU"
-
-          },
-          {
-            "AddUsersOfDomains": [ "CORP" ],
-            "RecursiveGroupsOfDomains": [ "CORP", "RD1RF1" ],
             "LdapName": "RD1RF1\\RD1-SEP-DM-APP_BIATemplate_PRD_User",
             "Domain": "RD1RF1"
           }
@@ -68,13 +56,8 @@
         "Type": "Ldap",
         "LdapGroups": [
           {
-            "RecursiveGroupsOfDomains": [ "EU", "NA" ],
-            "LdapName": "EU\\P_LPS_DM_EU_BIATemplate_Admin",
-            "Domain": "EU"
-          },
-          {
-            "RecursiveGroupsOfDomains": [ "CORP", "RD1RF1" ],
-            "LdapName": "RD1RF1\\RD1-SEP-DM-APP_BIATemplate_Admin",
+            "RecursiveGroupsOfDomains": [ "EU", "RD1RF1" ],
+            "LdapName": "RD1RF1\\RD1-SEP-DM-APP_Admin",
             "Domain": "RD1RF1"
           }
         ]
diff --git a/DotNet/Safran.BIATemplate.WorkerService/bianetconfig.DMEU_UAT.json b/DotNet/Safran.BIATemplate.WorkerService/bianetconfig.DMEU_UAT.json
index 319b578..137b851 100644
--- a/DotNet/Safran.BIATemplate.WorkerService/bianetconfig.DMEU_UAT.json
+++ b/DotNet/Safran.BIATemplate.WorkerService/bianetconfig.DMEU_UAT.json
@@ -1,5 +1,10 @@
 {
   "BiaNet": {
+    "WorkerFeatures": {
+      "ClientForHub": {
+        "SignalRUrl": "https://dmeu-uat.electrical-power.safran/BIATemplate/WebApi/HubForClients"
+      }
+    },
     "Environment": {
       "Type": "UAT"
     },
@@ -36,28 +41,11 @@
       ]
     },
     "Roles": [
-      //{
-      //  "Label": "User",
-      //  "Type": "Fake"
-      //},
-      //{
-      //  "Label": "Admin",
-      //  "Type": "Fake"
-      //}
       {
         "Label": "User",
-        "Type": "Ldap",
+        "Type": "Synchro",
         "LdapGroups": [
           {
-            "AddUsersOfDomains": [ "EU", "NA" ],
-            "RecursiveGroupsOfDomains": [ "EU", "NA" ],
-            "LdapName": "EU\\P_LPS_DM_EU_BIATemplate_User",
-            "Domain": "EU"
-
-          },
-          {
-            "AddUsersOfDomains": [ "CORP" ],
-            "RecursiveGroupsOfDomains": [ "CORP", "RD1RF1" ],
             "LdapName": "RD1RF1\\RD1-SEP-DM-APP_BIATemplate_UAT_User",
             "Domain": "RD1RF1"
           }
@@ -68,13 +56,8 @@
         "Type": "Ldap",
         "LdapGroups": [
           {
-            "RecursiveGroupsOfDomains": [ "EU", "NA" ],
-            "LdapName": "EU\\P_LPS_DM_EU_BIATemplate_Admin",
-            "Domain": "EU"
-          },
-          {
-            "RecursiveGroupsOfDomains": [ "CORP", "RD1RF1" ],
-            "LdapName": "RD1RF1\\RD1-SEP-DM-APP_BIATemplate_Admin",
+            "RecursiveGroupsOfDomains": [ "EU", "RD1RF1" ],
+            "LdapName": "RD1RF1\\RD1-SEP-DM-APP_Admin",
             "Domain": "RD1RF1"
           }
         ]
diff --git a/DotNet/Safran.BIATemplate.WorkerService/bianetconfig.Development.json b/DotNet/Safran.BIATemplate.WorkerService/bianetconfig.Development.json
index 9c15f89..1afcc0e 100644
--- a/DotNet/Safran.BIATemplate.WorkerService/bianetconfig.Development.json
+++ b/DotNet/Safran.BIATemplate.WorkerService/bianetconfig.Development.json
@@ -1,5 +1,10 @@
 {
   "BiaNet": {
+    "WorkerFeatures": {
+      "ClientForHub": {
+        "SignalRUrl": "http://localhost/BIATemplate/WebApi/HubForClients"
+      }
+    },
     "Environment": {
       "Type": "DEV"
     },
@@ -39,28 +44,23 @@
       ]
     },
     "Roles": [
-      //{
-      //  "Label": "User",
-      //  "Type": "Fake"
-      //},
       //{
       //  "Label": "Admin",
       //  "Type": "Fake"
       //}
       {
         "Label": "User",
-        "Type": "Ldap",
+        "Type": "Synchro",
         "LdapGroups": [
           {
-            "AddUsersOfDomains": [ "EU", "NA" ],
             "RecursiveGroupsOfDomains": [ "EU", "NA" ],
             "LdapName": "EU\\P_LPS_DM_EU_BIATemplate_User",
             "Domain": "EU"
-          }
+          }//,
           //{
-          //  "AddUsersOfDomains": [ "CORP" ],
           //  "RecursiveGroupsOfDomains": [ "CORP", "RD1RF1" ],
           //  "LdapName": "RD1RF1\\RD1-SEP-DM-APP_BIATemplate_INT_User",
+          //  "ContainsOnlyUsers": true,
           //  "Domain": "RD1RF1"
           //}
         ]
diff --git a/DotNet/Safran.BIATemplate.WorkerService/bianetconfig.json b/DotNet/Safran.BIATemplate.WorkerService/bianetconfig.json
index 473d2de..134070a 100644
--- a/DotNet/Safran.BIATemplate.WorkerService/bianetconfig.json
+++ b/DotNet/Safran.BIATemplate.WorkerService/bianetconfig.json
@@ -1,226 +1,36 @@
 {
   "BiaNet": {
+    "WorkerFeatures": {
+      "HangfireServer": {
+        "IsActive": true,
+        "UseDashboard": true,
+        "ServerName": "BIATemplate",
+        "ConnectionStringName": "BIATemplateDatabase"
+      },
+      "DistributedCache": {
+        "IsActive": true,
+        "ConnectionStringName": "BIATemplateDatabase"
+      },
+      "DatabaseHandler": {
+        "IsActive": true
+      },
+      "ClientForHub": {
+        "IsActive": true
+      }
+    },
     "EmailConfiguration": {
       "From": "noreply-BIATemplate@safrangroup.com",
       "SmtpHost": "smtp",
       "SmtpPort": 25
     },
     "Authentication": {
-      "LdapCacheGroupDuration": 20, //in minutes
-      "LdapCacheUserDuration": 180 //in minutes
-    },
-    "Jwt": {
-      "Issuer": "BIATemplateApi",
-      "Audience": "http://localhost:4200",
-      //Regenerate the SecretKey at each installation => It force reauthent => Checks the client version during authentication to force the client to refresh
-      "SecretKey": "0BA9AE2BDC6FBA1056D86EB2ACB45D53072F786FBD94C658240FAE6198F5DC64DE018FE517E68410B9D41B9BE106532345D21090549B0BC396437DCEF3AADAAC"
-    },
-    "Roles": [
-      {
-        "Label": "User",
-        "Type": "Fake"
-      },
-      {
-        "Label": "Admin",
-        "Type": "Fake"
-      }
-    ],
-    "UserProfile": {
-      "url": "http://localhost/DMIndex/UserProfile/GetUserProfile"
+      "LdapCacheGroupDuration": 20, // in minutes
+      "LdapCacheUserDuration": 180 // in minutes
     },
-    "Languages": [
-      {
-        "Country": "DE",
-        "Name": "Deutsh",
-        "Code": "de-DE"
-      },
-      {
-        "Country": "ES",
-        "Name": "Español ES",
-        "Code": "es-ES"
-      },
-      {
-        "Country": "FR",
-        "Name": "Français",
-        "Code": "fr-FR"
-      },
-      {
-        "Country": "GB",
-        "Name": "English GB",
-        "Code": "en-GB"
-      },
-      {
-        "Country": "MX",
-        "Name": "Español MX",
-        "Code": "es-MX"
-      },
-      {
-        "Country": "US",
-        "Name": "English US",
-        "Code": "en-US"
-      },
-      {
-        "Country": "MA",
-        "Name": "Maroc",
-        "Code": "fr-FR"
-      }
-    ],
     "Permissions": [
       {
-        "Name": "Home_Access",
-        "Roles": [ "Admin", "Site_Admin", "Site_Member", "User" ]
-      },
-      {
-        "Name": "Logs_Create",
-        "Roles": [ "Admin", "Site_Admin", "Site_Member" ]
-      },
-      {
-        "Name": "Member_List_Access",
-        "Roles": [ "Admin", "Site_Admin" ]
-      },
-      {
-        "Name": "Member_Create",
-        "Roles": [ "Admin", "Site_Admin" ]
-      },
-      {
-        "Name": "Member_Read",
-        "Roles": [ "Admin", "Site_Admin" ]
-      },
-      {
-        "Name": "Member_Update",
-        "Roles": [ "Admin", "Site_Admin" ]
-      },
-      {
-        "Name": "Member_Delete",
-        "Roles": [ "Admin", "Site_Admin" ]
-      },
-      {
-        "Name": "Member_Save",
-        "Roles": [ "Admin", "Site_Admin" ]
-      },
-      {
-        "Name": "Member_Set_Default_Site",
-        "Roles": [ "Admin", "Site_Admin", "Site_Member" ]
-      },
-      {
-        "Name": "Plane_List_Access",
-        "Roles": [ "Admin", "Site_Admin", "Site_Member" ]
-      },
-      {
-        "Name": "Plane_Create",
-        "Roles": [ "Admin", "Site_Admin", "Site_Member" ]
-      },
-      {
-        "Name": "Plane_Read",
-        "Roles": [ "Admin", "Site_Admin", "Site_Member" ]
-      },
-      {
-        "Name": "Plane_Update",
-        "Roles": [ "Admin", "Site_Admin", "Site_Member" ]
-      },
-      {
-        "Name": "Plane_Delete",
-        "Roles": [ "Admin", "Site_Admin", "Site_Member" ]
-      },
-      {
-        "Name": "Plane_Save",
-        "Roles": [ "Admin", "Site_Admin", "Site_Member" ]
-      },
-      {
-        "Name": "Roles_List",
-        "Roles": [ "Admin", "Site_Admin" ]
-      },
-      {
-        "Name": "LdapDomains_List",
-        "Roles": [ "Admin", "Site_Admin" ]
-      },
-      {
-        "Name": "Site_List_Access",
-        "Roles": [ "Admin", "Site_Admin" ]
-      },
-      {
-        "Name": "Site_Access_All",
-        "Roles": [ "Admin" ]
-      },
-      {
-        "Name": "Site_Create",
-        "Roles": [ "Admin" ]
-      },
-      {
-        "Name": "Site_Read",
-        "Roles": [ "Admin", "Site_Admin" ]
-      },
-      {
-        "Name": "Site_Update",
-        "Roles": [ "Admin" ]
-      },
-      {
-        "Name": "Site_Delete",
-        "Roles": [ "Admin" ]
-      },
-      {
-        "Name": "Site_Save",
-        "Roles": [ "Admin" ]
-      },
-      {
-        "Name": "User_List_Access",
-        "Roles": [ "Admin" ]
-      },
-      {
-        "Name": "User_List",
-        "Roles": [ "Admin" ]
-      },
-      {
-        "Name": "User_ListAD",
+        "Name": "Hangfire_Dashboard",
         "Roles": [ "Admin" ]
-      },
-      {
-        "Name": "User_Add",
-        "Roles": [ "Admin" ]
-      },
-      {
-        "Name": "User_Delete",
-        "Roles": [ "Admin" ]
-      },
-      {
-        "Name": "View_List",
-        "Roles": [ "Admin", "Site_Admin", "Site_Member" ]
-      },
-      {
-        "Name": "View_Add_UserView",
-        "Roles": [ "Admin", "Site_Admin", "Site_Member" ]
-      },
-      {
-        "Name": "View_Add_SiteView",
-        "Roles": [ "Admin", "Site_Admin" ]
-      },
-      {
-        "Name": "View_Update_UserView",
-        "Roles": [ "Admin", "Site_Admin", "Site_Member" ]
-      },
-      {
-        "Name": "View_Update_SiteView",
-        "Roles": [ "Admin", "Site_Admin" ]
-      },
-      {
-        "Name": "View_Delete_UserView",
-        "Roles": [ "Admin", "Site_Admin", "Site_Member" ]
-      },
-      {
-        "Name": "View_Delete_SiteView",
-        "Roles": [ "Admin" ]
-      },
-      {
-        "Name": "View_Set_Default_UserView",
-        "Roles": [ "Admin", "Site_Admin", "Site_Member" ]
-      },
-      {
-        "Name": "View_Set_Default_SiteView",
-        "Roles": [ "Admin", "Site_Admin" ]
-      },
-      {
-        "Name": "View_Assign_To_Site",
-        "Roles": [ "Admin", "Site_Admin" ]
       }
     ]
   }
diff --git a/DotNet/Safran.BIATemplate.WorkerService/web.config b/DotNet/Safran.BIATemplate.WorkerService/web.config
new file mode 100644
index 0000000..a5ceb23
--- /dev/null
+++ b/DotNet/Safran.BIATemplate.WorkerService/web.config
@@ -0,0 +1,23 @@
+<?xml version="1.0" encoding="utf-8"?>
+<configuration>
+  <system.web>
+    <httpCookies domain="Safran"
+      		httpOnlyCookies="true"
+         	requireSSL="true" />
+  </system.web>
+	<location path="." inheritInChildApplications="false">
+		<system.webServer>
+			<handlers>
+				<add name="aspNetCore" path="*" verb="*" modules="AspNetCoreModuleV2" resourceType="Unspecified" />
+			</handlers>
+			<aspNetCore processPath=".\bin\Debug\netcoreapp3.1\Safran.BIATemplate.WorkerService.exe" arguments="" stdoutLogEnabled="false" hostingModel="InProcess">
+				<environmentVariables>
+					<environmentVariable name="COMPLUS_ForceENC" value="1" />
+				</environmentVariables>
+			</aspNetCore>
+			<modules runAllManagedModulesForAllRequests="false">
+				<remove name="WebDAVModule" />
+			</modules>
+		</system.webServer>
+	</location>
+</configuration>
\ No newline at end of file
diff --git a/DotNet/Switch-To-Nuget.ps1 b/DotNet/Switch-To-Nuget.ps1
new file mode 100644
index 0000000..e20647c
--- /dev/null
+++ b/DotNet/Switch-To-Nuget.ps1
@@ -0,0 +1,37 @@
+$RelativePathToBIAPackage = "..\..\BIADemo\BIAPackage"
+$SolutionName = "BIATemplate"
+$ProjectPrefix = "Safran." + $SolutionName
+
+function AddBIAPackageToSolution
+{
+    param([string]$layerProject, [string]$layerPackage)
+	
+	$SlnFile = "$SolutionName.sln"
+	$BIAProjectFile = "$RelativePathToBIAPackage\BIA.Net.Core.$layerPackage\BIA.Net.Core.$layerPackage.csproj"
+	$ProjectFile = ".\$ProjectPrefix.$layerProject\$ProjectPrefix.$layerProject.csproj"
+	
+	# Remove the library from solution
+	dotnet sln $SlnFile remove $BIAProjectFile
+	if ($layerProject -ne "")
+	{
+		# Remove the library reference
+		dotnet remove $ProjectFile reference $BIAProjectFile
+		# Restore the NuGet package reference
+		dotnet add $ProjectFile package BIA.Net.Core.$layerPackage
+	}
+}
+
+AddBIAPackageToSolution "Crosscutting.Common" "Common"
+AddBIAPackageToSolution "Domain.Dto" "Domain.Dto"
+AddBIAPackageToSolution "Domain" "Domain"
+AddBIAPackageToSolution "Application" "Application"
+AddBIAPackageToSolution "Infrastructure.Data" "Infrastructure.Data"
+AddBIAPackageToSolution "Infrastructure.Service" "Infrastructure.Service"
+AddBIAPackageToSolution "Crosscutting.Ioc" "Ioc"
+AddBIAPackageToSolution "" "Presentation.Common"
+AddBIAPackageToSolution "Presentation.Api" "Presentation.Api"
+AddBIAPackageToSolution "Test" "Test"
+AddBIAPackageToSolution "WorkerService" "WorkerService"
+
+# Remove the library from solution
+dotnet sln "$SolutionName.sln" remove "$RelativePathToBIAPackage\NuGetPackage\NuGetPackage.csproj"
diff --git a/DotNet/Switch-To-Project.ps1 b/DotNet/Switch-To-Project.ps1
new file mode 100644
index 0000000..e6d35a6
--- /dev/null
+++ b/DotNet/Switch-To-Project.ps1
@@ -0,0 +1,38 @@
+$RelativePathToBIAPackage = "..\..\BIADemo\BIAPackage"
+$SolutionName = "BIATemplate"
+$ProjectPrefix = "Safran." + $SolutionName
+
+function AddBIAProjectToSolution
+{
+    param([string]$layerProject, [string]$layerPackage)
+	
+	$SlnFile = "$SolutionName.sln"
+	$BIAProjectFile = "$RelativePathToBIAPackage\BIA.Net.Core.$layerPackage\BIA.Net.Core.$layerPackage.csproj"
+	$ProjectFile = ".\$ProjectPrefix.$layerProject\$ProjectPrefix.$layerProject.csproj"
+	
+	# Add the library project to the solution
+	dotnet sln $SlnFile add  -s "BIAPackage" $BIAProjectFile
+	if ($layerProject -ne "")
+	{
+		# Add the library reference to the executable project
+		dotnet add $ProjectFile reference $BIAProjectFile
+		# Remove the NuGet package reference
+		dotnet remove $ProjectFile package BIA.Net.Core.$layerPackage
+	}
+}
+
+AddBIAProjectToSolution "Crosscutting.Common" "Common"
+AddBIAProjectToSolution "Domain.Dto" "Domain.Dto"
+AddBIAProjectToSolution "Domain" "Domain"
+AddBIAProjectToSolution "Application" "Application"
+AddBIAProjectToSolution "Infrastructure.Data" "Infrastructure.Data"
+AddBIAProjectToSolution "Infrastructure.Service" "Infrastructure.Service"
+AddBIAProjectToSolution "Crosscutting.Ioc" "Ioc"
+AddBIAProjectToSolution "" "Presentation.Common"
+AddBIAProjectToSolution "Presentation.Api" "Presentation.Api"
+AddBIAProjectToSolution "Test" "Test"
+AddBIAProjectToSolution "WorkerService" "WorkerService"
+
+# Add the library project to the solution
+dotnet sln "$SolutionName.sln" add -s "BIAPackage" "$RelativePathToBIAPackage\NuGetPackage\NuGetPackage.csproj"
+
